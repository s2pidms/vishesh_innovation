"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6914],{46316:(S,p,c)=>{c.r(p),c.d(p,{DefectListConfigurationModule:()=>x});var d=c(96814),f=c(1076),e=c(65879),u=c(39029),m=c(2742),g=c(37285),l=c(60095),h=c(95346);function _(n,r){1&n&&e._UZ(0,"img",44)}function C(n,r){1&n&&e._UZ(0,"img",45)}function v(n,r){if(1&n&&(e.TgZ(0,"li",47)(1,"span",48),e._uU(2),e.qZA()()),2&n){const s=e.oxw(),t=s.$implicit,i=s.pages;e.xp6(2),e.AsE(" Page ",t," of ",i[i.length-1]," ")}}function b(n,r){1&n&&e.YNc(0,v,3,2,"li",46),2&n&&e.Q6J("ngIf",r.pages.length>0)}function D(n,r){if(1&n){const s=e.EpF();e.TgZ(0,"ngb-pagination",40),e.NdJ("pageChange",function(i){e.CHM(s);const o=e.oxw();return e.KtG(o.page=i)}),e.YNc(1,_,1,0,"ng-template",41),e.YNc(2,C,1,0,"ng-template",42),e.YNc(3,b,1,1,"ng-template",43),e.qZA()}if(2&n){const s=e.oxw();e.Q6J("collectionSize",s.defectListDetails.length)("page",s.page)("pageSize",s.pageSize)("boundaryLinks",!1)}}function w(n,r){if(1&n){const s=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",35),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"div",49),e._UZ(7,"button",50),e.TgZ(8,"div",51)(9,"a",52),e.NdJ("click",function(){const o=e.CHM(s).$implicit,a=e.oxw();return e.KtG(a.setRename(o))}),e.TgZ(10,"div",53),e._UZ(11,"div",54),e._uU(12," Rename "),e.qZA()(),e.TgZ(13,"a",52),e.NdJ("click",function(){const o=e.CHM(s).index,a=e.oxw();return e.KtG(a.moveUp(o+(a.page-1)*a.pageSize))}),e.TgZ(14,"div",53),e._UZ(15,"div",55),e._uU(16," Move Up "),e.qZA()(),e.TgZ(17,"a",52),e.NdJ("click",function(){const o=e.CHM(s).index,a=e.oxw();return e.KtG(a.moveDown(o+(a.page-1)*a.pageSize))}),e.TgZ(18,"div",53),e._UZ(19,"div",56),e._uU(20," Move Down "),e.qZA()(),e.TgZ(21,"a",52),e.NdJ("click",function(){const o=e.CHM(s).$implicit,a=e.oxw();return e.KtG(a.deleteItem(o.SN))}),e.TgZ(22,"div",53),e._UZ(23,"div",57),e._uU(24," Delete "),e.qZA()()()()()()}if(2&n){const s=r.$implicit,t=r.index,i=e.oxw();e.xp6(2),e.Oqu(t+1+(i.page-1)*i.pageSize),e.xp6(2),e.Oqu(null==s?null:s.defectName),e.xp6(9),e.ekj("disable",0==t),e.xp6(4),e.ekj("disable",t+(i.page-1)*i.pageSize>=i.defectListDetails.length-1)}}const Z=function(){return{standalone:!0}};let N=(()=>{var n;class r{constructor(t,i,o,a){this.defectListConfigService=t,this.spinner=i,this.toastService=o,this.activatedRoute=a,this.submitted=!1,this.totalNoOfRows=null,this.defectListDetails=[],this.page=1,this.pageSize=9,this.collection=0,this.column="SN",this.direction=-1,this.search="",this.action="create",this.selectedDetails={},this.selectIndex=0,this.description="",this.moveUpDisable=!1,this.moveDownDisable=!1,this.type="",this.usePresetsAndNewCreate="Create New",this.setRenameFlag=!1}ngOnInit(){this.type=this.activatedRoute.snapshot.paramMap.get("appConfiguration"),this.getInitialData()}submit(){0!=this.defectListDetails.length?(this.SNNumber(),this.defectListDetails=this.defectListDetails.map(t=>(t.docType=this.type,t)),this.create(this.defectListDetails)):this.toastService.warning("Please add at least one Row !")}create(t){this.spinner.show(),this.defectListConfigService.createOrUpdate({formData:t,type:this.type}).subscribe(i=>{this.submitted=!1,this.spinner.hide(),this.toastService.success(i.message),this.getInitialData()})}setTable(){}swapElements(t,i,o){console.log("index1",i),console.log("index2",o);let a=t[i];t[i]=t[o],t[o]=a}moveUp(t){t>0?(this.swapElements(this.defectListDetails,t,t-1),this.moveDownDisable=!1):this.moveUpDisable=!0}moveDown(t){t<this.defectListDetails.length-1?(this.swapElements(this.defectListDetails,t+1,t),this.moveUpDisable=!1):this.moveDownDisable=!0}changeDefectName(t,i){}reset(){this.description=null,this.totalNoOfRows=null,this.usePresetsAndNewCreate="Create New",this.setRenameFlag=!1,this.defectListDetails=[]}setRename(t){this.usePresetsAndNewCreate="Use Presets",this.selectedDetails=t,this.setRenameFlag=!0,this.description=t?.defectName}addDescription(){if(this.description)if(this.setRenameFlag||"Use Presets"!=this.usePresetsAndNewCreate){if("Create New"==this.usePresetsAndNewCreate){if(this.defectListDetails.find(i=>i.defectName==this.description))return void this.toastService.warning("the record you creating already exist !");this.defectListDetails.push({SN:this.defectListDetails?.length+1,defectName:this.description}),this.description=null,this.totalNoOfRows=this.defectListDetails?.length,this.toastService.success("Record Created Successfully !")}else if(this.setRenameFlag&&"Use Presets"==this.usePresetsAndNewCreate){if(this.defectListDetails.find(t=>t.defectName==this.description))return void this.toastService.warning("the record you edit already exist !");this.defectListDetails=this.defectListDetails.map(t=>(t?.SN==this.selectedDetails?.SN&&(t.defectName=this.description,this.setRenameFlag=!1),t)),this.description=null,this.toastService.success("Record Updated Successfully !")}this.SNNumber()}else this.toastService.warning("If you want to edit the record plz click on Rename Action !");else this.toastService.warning("Pls Enter Description !")}SNNumber(){this.defectListDetails=this.defectListDetails.map((t,i)=>(t.SN=i+1,t))}eventHeader(t){"PAGE"===t.key&&(this.page=t.value)}trackByFn(t,i){return i?._id}deleteItem(t){let i=this.defectListDetails.findIndex(o=>o.SN==t);"view"!=this.action&&(this.defectListDetails.splice(i,1),this.collection=this.defectListDetails.length,this.totalNoOfRows=this.totalNoOfRows-1,this.search="",this.page=1)}getInitialData(){this.spinner.show(),this.defectListConfigService.getAll({docType:this.type}).subscribe(t=>{console.log("result",t),t.length>0?(this.defectListDetails=t,this.collection=this.defectListDetails?.length,this.usePresetsAndNewCreate="Use Presets"):this.usePresetsAndNewCreate="Create New",this.collection=this.defectListDetails?.length,this.totalNoOfRows=this.collection,this.spinner.hide()})}}return(n=r).\u0275fac=function(t){return new(t||n)(e.Y36(u.KJ),e.Y36(m.V),e.Y36(m.kl),e.Y36(f.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-defect-list-configuration-form"]],decls:60,vars:20,consts:[[1,"formCard","card"],[1,"set-remaining-margin"],[1,"row","form-header"],[1,"col","heading"],[1,"form-body","pt-0"],[1,"row","mb-0"],[1,"col-4","border","border-start-1","pt-4","pe-5"],[1,"row","pe-4","mt-4"],[1,"col-12","pe-0"],[1,"form-select",3,"ngModel","ngModelChange"],[3,"value"],[1,"mt-5",3,"submit"],[1,"col-11","pe-0"],["type","text","placeholder","Add description to list",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"col-1","d-flex","align-items-end","ps-0"],["type","submit",1,"plusIconSvg","btn","btn-primary"],[1,"row","mt-5"],[1,"d-flex","align-items-center","pe-4"],[1,"text-nowrap"],[1,"text-black",2,"font-size","1.3rem"],[1,"text-secondary","mx-2"],["type","number","readonly","",1,"form-control","bg-white-smoke",3,"ngModel","disabled","ngModelChange"],[1,"row","d-flex","justify-content-center","mt-5"],[1,"col-12"],["type","button",1,"btn","btn-primary","px-5",3,"click"],[1,"col-8","border","border-start-1"],[1,"row","px-5","mt-4"],[1,"row","justify-content-between"],[1,"col-4"],[1,"col-4","d-flex","justify-content-center"],[3,"collectionSize","page","pageSize","boundaryLinks","pageChange",4,"ngIf"],[1,"table-responsive",2,"min-height","30rem"],[1,"table","table-bordered","table-sticky","mb-0"],[1,"bg-primary"],[1,"text-white"],[1,"text-start"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"row","line-border"],[1,"row","d-flex","justify-content-center"],[1,"col-12","d-flex","justify-content-center"],[3,"collectionSize","page","pageSize","boundaryLinks","pageChange"],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationPages",""],["src","./assets/new_icons/pagination_prev.svg","width","20rem"],["src","./assets/new_icons/pagination_next.svg","width","20rem"],["class","ngb-custom-pages-item align-self-center",4,"ngIf"],[1,"ngb-custom-pages-item","align-self-center"],[1,"page-label","me-2","ms-1"],[1,"dropdown"],[1,"dropbtn"],[1,"dropdown-content"],["href","javascript:void(0)",3,"click"],[1,"d-flex"],[1,"rename-btn","set-action","me-3","pointer"],[1,"move-up-btn","set-action","me-3","pointer"],[1,"move-down-btn","set-action","me-3","pointer"],[1,"delete-btn","set-action","me-3","pointer"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label"),e._uU(5),e.qZA()()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"select",9),e.NdJ("ngModelChange",function(a){return i.usePresetsAndNewCreate=a}),e.TgZ(12,"option",10),e._uU(13,"Use Presets"),e.qZA(),e.TgZ(14,"option",10),e._uU(15,"Create New"),e.qZA()()()(),e.TgZ(16,"form",11),e.NdJ("submit",function(){return i.addDescription()}),e.TgZ(17,"div",7)(18,"div",12)(19,"input",13),e.NdJ("ngModelChange",function(a){return i.description=a}),e.qZA()(),e.TgZ(20,"div",14),e._UZ(21,"button",15),e.qZA()()(),e.TgZ(22,"div",16)(23,"div",17)(24,"div",18)(25,"span",19),e._uU(26,"Total number of rows in a list"),e.qZA(),e.TgZ(27,"span",20),e._uU(28,"\u25b6"),e.qZA()(),e.TgZ(29,"input",21),e.NdJ("ngModelChange",function(a){return i.totalNoOfRows=a}),e.qZA()()(),e.TgZ(30,"div",22)(31,"div",23)(32,"button",24),e.NdJ("click",function(){return i.reset()}),e._uU(33,"Reset"),e.qZA()()()(),e.TgZ(34,"div",25)(35,"div",26)(36,"div",27),e._UZ(37,"div",28),e.TgZ(38,"div",29),e.YNc(39,D,4,4,"ngb-pagination",30),e.qZA(),e._UZ(40,"div",28),e.qZA(),e.TgZ(41,"div",31)(42,"table",32)(43,"thead",33)(44,"tr",34)(45,"th"),e._uU(46,"SN"),e.qZA(),e.TgZ(47,"th",35),e._uU(48),e.qZA(),e.TgZ(49,"th"),e._uU(50,"Action"),e.qZA()()(),e.TgZ(51,"tbody"),e.YNc(52,w,25,6,"tr",36),e.ALo(53,"slice"),e.ALo(54,"searchFi1ter"),e.qZA()()()(),e._UZ(55,"hr",37),e.TgZ(56,"div",38)(57,"div",39)(58,"button",24),e.NdJ("click",function(){return i.submit()}),e._uU(59,"Save"),e.qZA()()()()()()()()),2&t&&(e.xp6(5),e.hij("",i.type," List Configuration "),e.xp6(6),e.Q6J("ngModel",i.usePresetsAndNewCreate),e.xp6(1),e.Q6J("value","Use Presets"),e.xp6(2),e.Q6J("value","Create New"),e.xp6(5),e.Q6J("ngModel",i.description)("ngModelOptions",e.DdM(19,Z)),e.xp6(10),e.Q6J("ngModel",i.totalNoOfRows)("disabled","view"==i.action),e.xp6(10),e.Q6J("ngIf",i.defectListDetails.length>0),e.xp6(9),e.hij("",i.type," Name"),e.xp6(4),e.Q6J("ngForOf",e.Dn7(53,12,e.xi3(54,16,i.defectListDetails,i.search),(i.page-1)*i.pageSize,(i.page-1)*i.pageSize+i.pageSize))("ngForTrackBy",i.trackByFn))},dependencies:[d.sg,d.O5,g.N9,g.GZ,g.ju,g.Qy,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.On,l.F,d.OU,h.G],styles:[".pagination[_ngcontent-%COMP%]{margin-bottom:0!important}ngb-pagination[_ngcontent-%COMP%]     ul.pagination{margin:0!important}.page-label[_ngcontent-%COMP%]{color:var(--bs-dark);padding:0 1rem;font-size:1.4rem}ngb-pagination[_ngcontent-%COMP%]     ul>li:not(.active)>a{border:none!important;color:var(--bs-white)!important;background-color:#fff!important;box-shadow:none}.fa[_ngcontent-%COMP%]{font-size:1.6rem!important}.set-input-group-text[_ngcontent-%COMP%]{border-radius:0!important;height:2.8rem!important;width:3rem}.set-action[_ngcontent-%COMP%]{margin-top:.6rem}"]}),r})();var L=c(19964),T=c(56208);const y=[{path:"form/:appConfiguration",component:N,resolve:{accessScreen:L.xr}}];let x=(()=>{var n;class r{}return(n=r).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.ez,f.Bz.forChild(y),T.m]}),r})()}}]);