"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[4017],{50409:(A,p,l)=>{l.r(p),l.d(p,{ProspectModule:()=>ce});var u=l(96814),g=l(1076),y=l(43818),_=l(25116),C=l(99790),e=l(65879),m=l(98977),h=l(78212),Z=l(88059),v=l(37285),k=l(53421);function U(r,a){if(1&r){const i=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",20,21)(7,"span",22),e._uU(8),e.qZA()(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td")(18,"div",23),e._UZ(19,"button",24),e.TgZ(20,"div",25)(21,"a",26),e.NdJ("click",function(){const n=e.CHM(i).$implicit,c=e.oxw();return e.KtG(c.navigateTo("../form",n,c.action.view))}),e._UZ(22,"i",27),e._uU(23," View "),e.qZA(),e.TgZ(24,"a",26),e.NdJ("click",function(){const n=e.CHM(i).$implicit,c=e.oxw();return e.KtG(c.navigateTo("../form",n,c.action.edit))}),e._UZ(25,"i",28),e._uU(26," Edit "),e.qZA(),e.TgZ(27,"a",29),e.NdJ("click",function(){const n=e.CHM(i).$implicit,c=e.oxw();return e.KtG(c.navigateTo("../convert_to_customer",n,"Converted to Customer"))}),e._UZ(28,"i",30),e._uU(29," Convert to Customer "),e.qZA()()()()()}if(2&r){const i=a.$implicit,o=e.MAs(6),t=e.oxw();e.xp6(2),e.Oqu(null==i?null:i.prospectRegistrationCode),e.xp6(2),e.Oqu(null==i?null:i.prospectRegistrationDateS),e.xp6(1),e.Udp("width",o.clientWidth),e.xp6(2),e.Q6J("positionTarget",o)("ngbTooltip",i.prospectName),e.xp6(1),e.hij(" ",i.prospectName," "),e.xp6(2),e.Oqu(null==i?null:i.customerCategory),e.xp6(2),e.Oqu(null==i?null:i.contactPersonName),e.xp6(2),e.Oqu(null==i?null:i.contactPersonNumber),e.xp6(2),e.Oqu(null==i?null:i.status),e.xp6(5),e.Q6J("accessType",t.rolePermissionActions.viewAction),e.xp6(3),e.Q6J("accessType",t.rolePermissionActions.editAction)}}const N=function(r,a,i,o){return{page:r,pageSize:a,collection:i,search:o,type:"list"}};let D=(()=>{var r;class a{constructor(o,t,n,c,d,f){this.exportExcelService=o,this.prospectService=t,this.router=n,this.spinner=c,this.activatedRoute=d,this.exportToPDFService=f,this.page=1,this.pageSize=8,this.collection=0,this.column="createdAt",this.direction=-1,this.search="",this.action=_.C0,this.tableData=[],this.rolePermissionActions=_.a1}ngOnInit(){this.page=Number(this.activatedRoute.snapshot.queryParamMap.get("page")??1),this.getAll()}navigateTo(o,t,n){this.router.navigate([o],{relativeTo:this.activatedRoute,queryParams:{id:t?._id,action:n}})}trackByFn(o,t){return t?._id}eventHeader(o){switch(o.key){case"SEARCH":this.search=o.value,this.getAll();break;case"PDF":this.getAll(!0,"PDF");break;case"EXCEL":this.getAll(!0,"EXCEL");break;case"PAGE":this.page=o.value,this.getAll()}}getAll(o=!1,t=""){this.spinner.show();let n={page:this.page,pageSize:this.pageSize,search:this.search,column:this.column,direction:this.direction,excel:o};this.subscription&&this.subscription.unsubscribe(),this.subscription=this.prospectService.getAll(n).subscribe(c=>{"EXCEL"==t?this.excelDownload(c.rows):"PDF"==t?this.pdfDownload(c.rows):(this.tableData=c.rows,this.collection=c.count),this.spinner.hide()})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}pdfDownload(o){let t=(0,C.YV)(o);this.exportToPDFService.generatePdf(t.tableData,t.title)}excelDownload(o){this.exportExcelService.exportExcel((0,C.zr)(o))}onSort({column:o,direction:t}){this.headers.forEach(n=>{n.sortable!==o&&(n.direction="")}),this.column=o,this.direction="asc"==t?1:-1,this.getAll()}}return(r=a).\u0275fac=function(o){return new(o||r)(e.Y36(m.Ol),e.Y36(h.LQ),e.Y36(g.F0),e.Y36(m.V),e.Y36(g.gz),e.Y36(m.$L))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-prospect-list"]],viewQuery:function(o,t){if(1&o&&e.Gf(y.j,5),2&o){let n;e.iGM(n=e.CRH())&&(t.headers=n)}},decls:32,vars:9,consts:[[1,"listCard","card"],[1,"table-header"],[1,"heading"],["appAccessControl","",1,"text-center",3,"accessType"],["type","button",1,"btn","btn-primary","btn-add",3,"click"],["aria-hidden","true",1,"fa","fa-plus-square","fa-lg","me-2"],[1,"line-border"],[1,"table-responsive"],[3,"data","dataChange"],[1,"table","table-bordered"],[1,"bg-primary"],[1,"text-white"],["sortable","prospectRegistrationCode",3,"sort"],["sortable","prospectRegistrationDateS",3,"sort"],["sortable","prospectName",1,"text-start",3,"sort"],["sortable","customerCategory",3,"sort"],["sortable","contactPersonName",3,"sort"],["sortable","contactPersonNumber",3,"sort"],["sortable","status",3,"sort"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-start"],["prospectName",""],[1,"pointer",3,"positionTarget","ngbTooltip"],[1,"dropdown"],[1,"dropbtn"],[1,"dropdown-content"],["appAccessControl","","href","javascript:void(0)",3,"accessType","click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg","me-2","text-primary"],["aria-hidden","true",1,"fa","fa-pencil-square-o","fa-lg","me-2","text-primary"],["href","javascript:void(0)",3,"click"],["aria-hidden","true",1,"fa","fa-check","fa-lg","me-2","text-success"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"label",2),e._uU(3,"Prospect Summery"),e.qZA()(),e.TgZ(4,"div",3)(5,"button",4),e.NdJ("click",function(){return t.navigateTo("../form",null,"create")}),e._UZ(6,"i",5),e._uU(7," New Prospect "),e.qZA()(),e._UZ(8,"hr",6),e.TgZ(9,"div",7)(10,"app-setting-header",8),e.NdJ("dataChange",function(c){return t.eventHeader(c)}),e.qZA(),e.TgZ(11,"table",9)(12,"thead",10)(13,"tr",11)(14,"th",12),e.NdJ("sort",function(c){return t.onSort(c)}),e._uU(15,"Prospect No."),e.qZA(),e.TgZ(16,"th",13),e.NdJ("sort",function(c){return t.onSort(c)}),e._uU(17,"Reg. Date"),e.qZA(),e.TgZ(18,"th",14),e.NdJ("sort",function(c){return t.onSort(c)}),e._uU(19,"Prospect Name"),e.qZA(),e.TgZ(20,"th",15),e.NdJ("sort",function(c){return t.onSort(c)}),e._uU(21,"Prospect Category"),e.qZA(),e.TgZ(22,"th",16),e.NdJ("sort",function(c){return t.onSort(c)}),e._uU(23,"Contact Person"),e.qZA(),e.TgZ(24,"th",17),e.NdJ("sort",function(c){return t.onSort(c)}),e._uU(25,"Contact No."),e.qZA(),e.TgZ(26,"th",18),e.NdJ("sort",function(c){return t.onSort(c)}),e._uU(27,"Status"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Action"),e.qZA()()(),e.TgZ(30,"tbody"),e.YNc(31,U,30,13,"tr",19),e.qZA()()()()),2&o&&(e.xp6(4),e.Q6J("accessType",t.rolePermissionActions.createAction),e.xp6(6),e.Q6J("data",e.l5B(4,N,t.page,t.pageSize,t.collection,t.search)),e.xp6(21),e.Q6J("ngForOf",t.tableData)("ngForTrackBy",t.trackByFn))},dependencies:[u.sg,Z.P,v._L,y.j,k.J],encapsulation:2}),a})();var s=l(60095),q=l(21631),b=l(22096),S=l(78944),x=l(84982),P=l(74834),R=l(16897),I=l(95346);function F(r,a){if(1&r){const i=e.EpF();e.TgZ(0,"tr")(1,"td",26),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"div",28),e._UZ(13,"button",29),e.TgZ(14,"div",30)(15,"a",31),e.NdJ("click",function(){const t=e.CHM(i),n=t.$implicit,c=t.index,d=e.oxw();return e.KtG(d.patchContact(n,c,"view"))}),e._UZ(16,"i",32),e._uU(17," View "),e.qZA(),e.TgZ(18,"a",31),e.NdJ("click",function(){const t=e.CHM(i),n=t.$implicit,c=t.index,d=e.oxw();return e.KtG(d.patchContact(n,c,"edit"))}),e._UZ(19,"i",33),e._uU(20," Edit "),e.qZA(),e.TgZ(21,"a",31),e.NdJ("click",function(){const n=e.CHM(i).index,c=e.oxw();return e.KtG(c.deleteContact(n))}),e._UZ(22,"i",34),e._uU(23," Delete "),e.qZA()()()()()}if(2&r){const i=a.$implicit,o=e.oxw();e.xp6(2),e.Oqu(null==i?null:i.contactPersonName),e.xp6(2),e.Oqu(null==i?null:i.contactPersonDepartment),e.xp6(2),e.Oqu(null==i?null:i.contactPersonDesignation),e.xp6(2),e.Oqu(null==i?null:i.contactPersonNumber),e.xp6(2),e.Oqu(null==i?null:i.contactPersonEmail),e.xp6(11),e.ekj("disable","view"==o.action)}}const E=function(r,a,i,o){return{page:r,pageSize:a,collection:i,search:o,excelDisplay:"none"}};let J=(()=>{var r;class a{constructor(o,t,n){this.activeModal=o,this.validationService=t,this.exportExcelService=n,this.action="",this.btnDisable=!1,this.page=1,this.pageSize=5,this.collection=0,this.search="",this.column="createdAt",this.direction=-1,this.contactDetails=new s.nJ({index:new s.p4(-1),contactPersonName:new s.p4("",[s.kI.required]),contactPersonDepartment:new s.p4(""),contactPersonDesignation:new s.p4(""),contactPersonNumber:new s.p4("",[s.kI.required]),contactPersonEmail:new s.p4("",[s.kI.required])}),this.contactDetailsArr=[],this.findFormErrors=[{message:"Contact Persons Name is Required",key:"contactPersonName"},{message:"Contact No. is Required",key:"contactPersonNumber"},{message:"E-mail ID is Required",key:"contactPersonEmail"}]}ngOnInit(){this.collection=this.contactDetailsArr.length,"view"==this.action&&this.contactDetails.disable()}eventHeader(o){switch(o.key){case"SEARCH":this.search=o.value;break;case"EXCEL":this.excelDownload(this.contactDetailsArr);break;case"PAGE":this.page=o.value}}save(){if(this.validationService.checkErrors(this.contactDetails,this.findFormErrors))return;let o=this.contactDetails.value;(o.index||0==o.index)&&o.index>=0?this.contactDetailsArr.splice(o.index,1,o):this.contactDetailsArr.push(o),this.collection=this.contactDetailsArr.length,this.contactDetails.reset()}patchContact(o,t,n){o.index=t,this.contactDetails.patchValue(o),"view"==n?(this.btnDisable=!0,this.contactDetails.disable()):(this.contactDetails.enable(),this.btnDisable=!1)}deleteContact(o){"view"!=this.action&&(this.contactDetailsArr.splice(o+(this.page-1)*this.pageSize,1),this.collection=this.contactDetailsArr.length)}excelDownload(o){let t={width:24,style:{alignment:{vertical:"middle",horizontal:"center",wrapText:!0}}},n={title:"Customer Contact Details",csvData:o,headers:[{header:"Contact Person",key:"contactPersonName",...t},{header:"Department",key:"department",...t},{header:"Contact No.",key:"contactPersonNumber",...t},{header:"E-mail ID",key:"contactPersonEmail",...t}]};this.exportExcelService.exportExcel(n)}onSort({column:o,direction:t}){this.headers.forEach(n=>{n.sortable!==o&&(n.direction="")}),this.contactDetailsArr=""===t||""===o?this.contactDetailsArr:[...this.contactDetailsArr].sort((n,c)=>{let d="string"==typeof n[o]?n[o].toLowerCase():n[o],f="string"==typeof c[o]?c[o].toLowerCase():c[o];const T=d<f?-1:d>f?1:0;return"asc"===t?T:-T})}}return(r=a).\u0275fac=function(o){return new(o||r)(e.Y36(v.Kz),e.Y36(R.RJ),e.Y36(m.Ol))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-prospect-contact-details"]],viewQuery:function(o,t){if(1&o&&e.Gf(P.j_,5),2&o){let n;e.iGM(n=e.CRH())&&(t.headers=n)}},inputs:{action:"action",contactDetailsArr:"contactDetailsArr"},decls:69,vars:16,consts:[[1,"modelPage",2,"min-height","54rem"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container-fluid","px-0","mt-4"],[3,"formGroup"],[1,"row","px-5"],[1,"col"],[1,"form-label","mb-2"],[1,"text-danger"],["type","text","formControlName","contactPersonName",1,"form-control"],["type","text","formControlName","contactPersonDepartment",1,"form-control"],["type","text","formControlName","contactPersonDesignation",1,"form-control"],["type","number","formControlName","contactPersonNumber",1,"form-control"],["type","text","formControlName","contactPersonEmail",1,"form-control"],[1,"col-12","text-center","my-4"],["type","button",1,"btn","bg-primary","px-5",3,"disabled","click"],[1,"line-border","mb-0"],[1,"col-12"],[1,"ps-0","mt-0"],[3,"data","dataChange"],[1,"table-responsive","ps-0","pe-0"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],[1,"text-start"],[4,"ngFor","ngForOf"],[1,"dropdown"],[1,"dropbtn"],[1,"dropdown-content"],["href","javascript:void(0)",3,"click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg","me-2","text-primary"],["aria-hidden","true",1,"fa","fa-pencil-square-o","fa-lg","me-2","text-primary"],["aria-hidden","true",1,"fa","fa-trash","me-2","text-primary"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Prospect Contact Details"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return t.activeModal.close(t.contactDetailsArr)}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"form",6)(9,"div",7)(10,"div",8)(11,"label",9),e._uU(12," Contact Person's Name"),e.TgZ(13,"span",10),e._uU(14,"*"),e.qZA()(),e._UZ(15,"input",11),e.qZA(),e.TgZ(16,"div",8)(17,"label",9),e._uU(18," Department "),e.TgZ(19,"span",10),e._uU(20,"*"),e.qZA()(),e._UZ(21,"input",12),e.qZA(),e.TgZ(22,"div",8)(23,"label",9),e._uU(24," Designation "),e.TgZ(25,"span",10),e._uU(26,"*"),e.qZA()(),e._UZ(27,"input",13),e.qZA(),e.TgZ(28,"div",8)(29,"label",9),e._uU(30," Contact No. "),e.TgZ(31,"span",10),e._uU(32,"*"),e.qZA()(),e._UZ(33,"input",14),e.qZA(),e.TgZ(34,"div",8)(35,"label",9),e._uU(36," E-mail ID"),e.TgZ(37,"span",10),e._uU(38,"*"),e.qZA()(),e._UZ(39,"input",15),e.qZA()()(),e.TgZ(40,"div",7)(41,"div",16)(42,"button",17),e.NdJ("click",function(){return t.save()}),e._uU(43," Add "),e.qZA()()(),e._UZ(44,"hr",18),e.TgZ(45,"div",7)(46,"div",19)(47,"div",20)(48,"app-setting-header",21),e.NdJ("dataChange",function(c){return t.eventHeader(c)}),e.qZA()(),e.TgZ(49,"div",22)(50,"table",23)(51,"thead",24)(52,"tr",25)(53,"th",26),e._uU(54,"Name of Contact Person"),e.qZA(),e.TgZ(55,"th"),e._uU(56,"Department"),e.qZA(),e.TgZ(57,"th"),e._uU(58,"Designation"),e.qZA(),e.TgZ(59,"th"),e._uU(60,"Contact No."),e.qZA(),e.TgZ(61,"th"),e._uU(62,"E-mail ID"),e.qZA(),e.TgZ(63,"th"),e._uU(64,"Action"),e.qZA()()(),e.TgZ(65,"tbody"),e.YNc(66,F,24,7,"tr",27),e.ALo(67,"slice"),e.ALo(68,"searchFi1ter"),e.qZA()()()()()()()),2&o&&(e.xp6(8),e.Q6J("formGroup",t.contactDetails),e.xp6(34),e.Q6J("disabled",t.btnDisable||"view"==t.action),e.xp6(6),e.Q6J("data",e.l5B(11,E,t.page,t.pageSize,t.collection,t.search)),e.xp6(18),e.Q6J("ngForOf",e.Dn7(67,4,e.xi3(68,8,t.contactDetailsArr,t.search),(t.page-1)*t.pageSize,(t.page-1)*t.pageSize+t.pageSize)))},dependencies:[u.sg,Z.P,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.sg,s.u,u.OU,I.G],encapsulation:2}),a})();function M(r,a){if(1&r&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&r){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.hij(" ",i.label," ")}}function L(r,a){if(1&r&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&r){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.hij(" ",i.label," ")}}function Q(r,a){if(1&r&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&r){const i=a.$implicit;e.Q6J("value",i),e.xp6(1),e.hij(" ",i," ")}}function Y(r,a){1&r&&e._UZ(0,"div",62)}function G(r,a){1&r&&e._UZ(0,"div",63)}function B(r,a){if(1&r){const i=e.EpF();e.TgZ(0,"button",64),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.reset())}),e._uU(1," Reset "),e.qZA()}}function V(r,a){if(1&r){const i=e.EpF();e.TgZ(0,"button",65),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.submit())}),e._uU(1," Save "),e.qZA()}}let j=(()=>{var r;class a{constructor(o,t,n,c,d,f,T,w){this.prospectService=o,this.activatedRoute=t,this.spinner=n,this.toastService=c,this.modalService=d,this.validationService=f,this.utilityService=T,this.location=w,this.action=_.C0.create,this.actionsList=_.C0,this.submitted=!1,this.correspondenceAddressArray=[],this.contactDetailsArray=[],this.masterData={autoIncrementNo:"",salesCategoryOptions:[],currenciesOptions:[]},this.form=new s.nJ({_id:new s.p4(null),prospectRegistrationCode:new s.p4(null),prospectRegistrationDate:new s.p4(null),prospectName:new s.p4(null,[s.kI.required]),customerCategory:new s.p4(null,[s.kI.required]),currency:new s.p4(null,[s.kI.required]),correspondenceAddress:new s.nJ({line1:new s.p4(null),line2:new s.p4(null),line3:new s.p4(null),line4:new s.p4(null),state:new s.p4(null),city:new s.p4(null),pinCode:new s.p4(null),country:new s.p4(null)}),contactDetails:new s.p4([]),contactDetailsForm:new s.nJ({contactPersonName:new s.p4(null),contactPersonDesignation:new s.p4(null),contactPersonDepartment:new s.p4(null),contactPersonNumber:new s.p4(null),contactPersonEmail:new s.p4(null)}),status:new s.p4("Active")}),this.statesOfIndia=S.F}get CorrespondenceAddress(){return this.form.get("correspondenceAddress")}get contactDetailsForm(){return this.form.get("contactDetailsForm")}trackByFn(o,t){return t?._id}ngOnInit(){this.getInitialData()}reset(){this.form.reset(),this.getInitialData()}submit(){if(this.submitted=!0,this.validationService.checkErrors(this.form,x.$))return;let o=this.contactDetailsForm.value;if(!o.contactPersonName||!o.contactPersonNumber)return void this.toastService.warning("Please add customer details !");this.contactDetailsArray.length>0?this.contactDetailsArray[0]=o:this.contactDetailsArray.push(o);let t=this.form.value;t.contactDetails=this.contactDetailsArray,delete t.contactDetailsForm,t._id?this.update(t):(delete t._id,this.create(t))}create(o){this.spinner.show(),this.prospectService.create(o).subscribe(t=>{this.submitted=!1,this.spinner.hide(),this.toastService.success(t.message),this.location.back()})}update(o){this.spinner.show(),this.prospectService.update(o._id,o).subscribe(t=>{this.spinner.hide(),this.submitted=!1,this.toastService.success(t.message),this.location.back()})}openContactDetailsModal(){let o=this.contactDetailsForm.value;if(!o.contactPersonName||!o.contactPersonNumber||!o.contactPersonEmail)return void this.toastService.warning("Please add customer contact details !");this.contactDetailsArray.length>0?this.contactDetailsArray[0]=o:this.contactDetailsArray.push(o);const t=this.modalService.open(J,{centered:!0,size:"xl",backdrop:"static",keyboard:!1});t.componentInstance.action=this.action,t.componentInstance.contactDetailsArr=this.contactDetailsArray,t.result.then(n=>{["create","edit"].includes(this.action)&&(this.contactDetailsArray=n,this.contactDetailsArray.length>0&&this.contactDetailsForm.patchValue(this.contactDetailsArray[0]))},n=>{})}getInitialData(){this.spinner.show(),this.prospectService.getAllMasterData({}).subscribe(o=>{this.masterData=o,this.form.controls.prospectRegistrationCode.setValue(this.masterData?.autoIncrementNo),this.form.controls.prospectRegistrationDate.setValue(this.utilityService.getTodayDate("YYYY-MM-DD")),this.form.controls.status.setValue("Active"),this.activatedRoute.queryParams.pipe((0,q.z)(t=>(this.action=t.action,this.utilityService.accessDenied(this.action),t.id?this.prospectService.getById(t.id):(0,b.of)({})))).subscribe(t=>{this.spinner.hide(),0!=Object.keys(t).length&&(t.prospectRegistrationDate&&(t.prospectRegistrationDate=t.prospectRegistrationDate.split("T")[0]),t.contactDetails.length&&(this.contactDetailsArray=t.contactDetails,this.contactDetailsForm.patchValue(t.contactDetails[0])),this.form.patchValue(t),this.action!=this.actionsList.edit&&this.form.disable())})})}}return(r=a).\u0275fac=function(o){return new(o||r)(e.Y36(h.LQ),e.Y36(g.gz),e.Y36(m.V),e.Y36(m.kl),e.Y36(v.FF),e.Y36(R.RJ),e.Y36(m.tI),e.Y36(u.Ye))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-prospect-form"]],decls:167,vars:17,consts:[[1,"formCard","card",3,"formGroup"],[1,"container"],[1,"row","form-header"],[1,"col","heading"],[1,"form-body"],[1,"row"],[1,"col-5"],[1,"col-6","pe-3"],[1,"form-label"],[1,"text-danger"],["type","text","formControlName","prospectRegistrationCode","readonly","",1,"form-control"],[1,"col-6","ps-3"],["type","date","formControlName","prospectRegistrationDate",1,"form-control"],[1,"col-7"],[1,"col-5","ps-2"],["formControlName","customerCategory",1,"form-select"],["selected","","disabled","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","prospectName",1,"form-control"],[1,"col-2","ps-0"],["formControlName","currency",1,"form-select"],[1,"row","line-border"],[1,"mb-4","d-flex","justify-content-start"],[1,"me-3","form-label","customerHeading"],["formGroupName","correspondenceAddress"],[1,"col"],["type","text","formControlName","country",1,"form-control"],["formControlName","state",1,"form-select"],["type","text","formControlName","city",1,"form-control"],["oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);","type","number","maxlength","6","formControlName","pinCode",1,"form-control"],[1,"row","mt-4"],["type","text","formControlName","line1",1,"form-control"],["type","text","formControlName","line2",1,"form-control"],["type","text","formControlName","line3",1,"form-control"],["type","text","formControlName","line4",1,"form-control"],[1,"mb-3","d-flex","justify-content-start"],[1,"mb-1","me-3","form-label","customerHeading"],["src","./assets/new_icons/redstroke.svg","alt","","height","18","width","8"],[1,"ms-3","openModelLink","pointer","text-primary",3,"click"],["formGroupName","contactDetailsForm"],[1,"row","mb-4"],["type","text","formControlName","contactPersonName",1,"form-control"],["type","text","formControlName","contactPersonDepartment",1,"form-control"],["type","text","formControlName","contactPersonDesignation",1,"form-control"],["type","number","formControlName","contactPersonNumber",1,"form-control"],["type","text","formControlName","contactPersonEmail",1,"form-control"],[1,"row","mb-3"],[1,"d-flex","justify-content-between"],[1,"d-grid"],[1,"d-flex","align-items-center"],[1,"col-form-label","text-nowrap"],[1,"fa","fa-caret-right","fa-1x","mx-3"],[1,"d-flex","inputGroup","skuForm"],["formControlName","status",1,"form-select","statusSelectBorder","col-6"],[3,"value"],[1,"input-group-text","bg-white"],[1,"col-md-auto","my-4","align-self-center"],["class","statusActive",4,"ngIf"],["class","statusInActive",4,"ngIf"],[1,"col-4","d-flex","justify-content-end"],["class","btn btn-primary px-5 me-4","type","button",3,"click",4,"ngIf"],["class","btn btn-primary px-5","type","button",3,"click",4,"ngIf"],[1,"statusActive"],[1,"statusInActive"],["type","button",1,"btn","btn-primary","px-5","me-4",3,"click"],["type","button",1,"btn","btn-primary","px-5",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label"),e._uU(5),e.ALo(6,"titlecase"),e.qZA()()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",5)(11,"div",7)(12,"label",8),e._uU(13," Prospect Registration Code "),e._UZ(14,"span",9),e.qZA(),e._UZ(15,"input",10),e.qZA(),e.TgZ(16,"div",11)(17,"label",8),e._uU(18," Prospect Registration Date "),e._UZ(19,"span",9),e.qZA(),e._UZ(20,"input",12),e.qZA()()(),e.TgZ(21,"div",13)(22,"div",5)(23,"div",14)(24,"label",8),e._uU(25," Prospect Category "),e.TgZ(26,"span",9),e._uU(27,"*"),e.qZA()(),e.TgZ(28,"select",15)(29,"option",16),e._uU(30,"Select Prospect Category"),e.qZA(),e.YNc(31,M,2,2,"option",17),e.qZA()(),e.TgZ(32,"div",14)(33,"label",8),e._uU(34," Prospect Name "),e.TgZ(35,"span",9),e._uU(36,"*"),e.qZA()(),e._UZ(37,"input",18),e.qZA(),e.TgZ(38,"div",19)(39,"label",8),e._uU(40," Ccy "),e.TgZ(41,"span",9),e._uU(42,"*"),e.qZA()(),e.TgZ(43,"select",20)(44,"option",16),e._uU(45,"Select Ccy"),e.qZA(),e.YNc(46,L,2,2,"option",17),e.qZA()()()()()(),e._UZ(47,"hr",21),e.TgZ(48,"div",22)(49,"h4",23),e._uU(50,"Correspondence Address"),e.qZA()(),e.ynx(51,24),e.TgZ(52,"div",5)(53,"div",25)(54,"label",8),e._uU(55," Country "),e.TgZ(56,"span",9),e._uU(57,"*"),e.qZA()(),e._UZ(58,"input",26),e.qZA(),e.TgZ(59,"div",25)(60,"label",8),e._uU(61," State/Province "),e.TgZ(62,"span",9),e._uU(63,"*"),e.qZA()(),e.TgZ(64,"select",27)(65,"option",16),e._uU(66,"Select State"),e.qZA(),e.YNc(67,Q,2,2,"option",17),e.qZA()(),e.TgZ(68,"div",25)(69,"label",8),e._uU(70," City/District "),e.TgZ(71,"span",9),e._uU(72,"*"),e.qZA()(),e._UZ(73,"input",28),e.qZA(),e.TgZ(74,"div",25)(75,"label",8),e._uU(76," Pin Code "),e.TgZ(77,"span",9),e._uU(78,"*"),e.qZA()(),e._UZ(79,"input",29),e.qZA()(),e.TgZ(80,"div",30)(81,"div",25)(82,"label",8),e._uU(83,"Address Line 1 "),e.TgZ(84,"span",9),e._uU(85,"*"),e.qZA()(),e._UZ(86,"input",31),e.qZA(),e.TgZ(87,"div",25)(88,"label",8),e._uU(89,"Address Line 2 "),e.TgZ(90,"span",9),e._uU(91,"*"),e.qZA()(),e._UZ(92,"input",32),e.qZA(),e.TgZ(93,"div",25)(94,"label",8),e._uU(95,"Address Line 3 "),e.TgZ(96,"span",9),e._uU(97,"*"),e.qZA()(),e._UZ(98,"input",33),e.qZA(),e.TgZ(99,"div",25)(100,"label",8),e._uU(101,"Address Line 4 "),e._UZ(102,"span",9),e.qZA(),e._UZ(103,"input",34),e.qZA()(),e.BQk(),e._UZ(104,"hr",21),e.TgZ(105,"div",35)(106,"h4",36),e._uU(107,"Contact Details"),e.qZA(),e.TgZ(108,"span"),e._UZ(109,"img",37),e.qZA(),e.TgZ(110,"h4",38),e.NdJ("click",function(){return t.openContactDetailsModal()}),e._uU(111," Click here to add more contacts "),e.qZA()(),e.ynx(112,39),e.TgZ(113,"div",40)(114,"div",25)(115,"label",8),e._uU(116," Contact Person's Name "),e.TgZ(117,"span",9),e._uU(118,"*"),e.qZA()(),e._UZ(119,"input",41),e.qZA(),e.TgZ(120,"div",25)(121,"label",8),e._uU(122," Department"),e._UZ(123,"span",9),e.qZA(),e._UZ(124,"input",42),e.qZA(),e.TgZ(125,"div",25)(126,"label",8),e._uU(127," Designation "),e._UZ(128,"span",9),e.qZA(),e._UZ(129,"input",43),e.qZA(),e.TgZ(130,"div",25)(131,"label",8),e._uU(132,"Contact No. "),e.TgZ(133,"span",9),e._uU(134,"*"),e.qZA()(),e._UZ(135,"input",44),e.qZA(),e.TgZ(136,"div",25)(137,"label",8),e._uU(138,"E-mail ID "),e.TgZ(139,"span",9),e._uU(140,"*"),e.qZA()(),e._UZ(141,"input",45),e.qZA()(),e.BQk(),e._UZ(142,"hr",21),e.TgZ(143,"div",46)(144,"div",47)(145,"div",48)(146,"div",49)(147,"div",50),e._uU(148," Status "),e.TgZ(149,"span",9),e._uU(150,"*"),e.qZA(),e._UZ(151,"i",51),e.qZA(),e.TgZ(152,"div",52)(153,"select",53)(154,"option",16),e._uU(155,"Select Status"),e.qZA(),e.TgZ(156,"option",54),e._uU(157,"Active"),e.qZA(),e.TgZ(158,"option",54),e._uU(159,"Inactive"),e.qZA()(),e.TgZ(160,"div",55)(161,"div",56),e.YNc(162,Y,1,0,"div",57),e.YNc(163,G,1,0,"div",58),e.qZA()()()()(),e.TgZ(164,"div",59),e.YNc(165,B,2,0,"button",60),e.YNc(166,V,2,0,"button",61),e.qZA()()()()()),2&o&&(e.Q6J("formGroup",t.form),e.xp6(5),e.hij("",e.lcZ(6,15,t.action)," Prospect Info"),e.xp6(24),e.Q6J("value",null),e.xp6(2),e.Q6J("ngForOf",t.masterData.salesCategoryOptions),e.xp6(13),e.Q6J("value",null),e.xp6(2),e.Q6J("ngForOf",t.masterData.currenciesOptions),e.xp6(19),e.Q6J("value",null),e.xp6(2),e.Q6J("ngForOf",t.statesOfIndia),e.xp6(87),e.Q6J("value",null),e.xp6(2),e.Q6J("value","Active"),e.xp6(2),e.Q6J("value","Inactive"),e.xp6(4),e.Q6J("ngIf","Active"==t.form.value.status),e.xp6(1),e.Q6J("ngIf","Inactive"==t.form.value.status),e.xp6(2),e.Q6J("ngIf",t.action!=t.actionsList.view),e.xp6(1),e.Q6J("ngIf",t.action!=t.actionsList.view))},dependencies:[u.sg,u.O5,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.nD,s.sg,s.u,s.x0,u.rS],encapsulation:2}),a})();var H=l(56208),z=l(65876),O=l(77609),K=l(4092),$=l(59840);function X(r,a){if(1&r&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&r){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.hij(" ",i.label," ")}}function W(r,a){if(1&r&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&r){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.hij(" ",i.label," ")}}function ee(r,a){if(1&r&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&r){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.hij(" ",i.label," ")}}function te(r,a){if(1&r&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&r){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.hij(" ",i.label," ")}}function oe(r,a){if(1&r&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&r){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.hij(" ",i.label," ")}}function se(r,a){1&r&&e._UZ(0,"div",51)}function ie(r,a){1&r&&e._UZ(0,"div",52)}function re(r,a){if(1&r&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&r){const i=a.$implicit;e.Q6J("value",i),e.xp6(1),e.hij(" ",i," ")}}function ne(r,a){if(1&r){const i=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.submit())}),e._uU(1," Save "),e.qZA()}}const ae=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"convert_to_customer",component:(()=>{var r;class a{constructor(o,t,n,c,d,f,T,w,le,ue,me){this.customerService=o,this.prospectService=t,this.router=n,this.activatedRoute=c,this.spinner=d,this.toastService=f,this.modalService=T,this.validationService=w,this.appGlobalService=le,this.storageService=ue,this.utilityService=me,this.customerShippingAddressArray=[],this.customerContactInfoArray=[],this.active=1,this.action="create",this.prospectId="",this.submitted=!1,this.currency=[],this.incoTerms=[],this.paymentTerm=[],this.transport=[],this.region=[],this.cardData={},this.salesCategory=[],this.gstClassificationsOptions=[],this.form=new s.nJ({customerCode:new s.p4("",[s.kI.required]),customerName:new s.p4("",[s.kI.required]),customerNickName:new s.p4(""),customerCategory:new s.p4(null,[s.kI.required]),region:new s.p4(null),customerUdyogAadhar:new s.p4(""),customerPAN:new s.p4("",[s.kI.required]),GSTIN:new s.p4("",[s.kI.required]),GSTClassification:new s.p4(null,[s.kI.required]),MSMEClassification:new s.p4(""),customerType:new s.p4(null),customerMSMENo:new s.p4(""),customerBillingAddress:new s.nJ({line1:new s.p4(""),line2:new s.p4(""),line3:new s.p4(""),line4:new s.p4(""),state:new s.p4(""),city:new s.p4(""),district:new s.p4(""),pinCode:new s.p4(""),country:new s.p4("India"),contactPersonName:new s.p4(""),contactPersonNumber:new s.p4("")}),customerShippingAddress:new s.nJ({line1:new s.p4(""),line2:new s.p4(""),line3:new s.p4(""),state:new s.p4(""),city:new s.p4(""),district:new s.p4(""),pinCode:new s.p4(""),country:new s.p4(""),contactPersonName:new s.p4(""),contactPersonNumber:new s.p4("")}),frightCharge:new s.p4(""),transporter:new s.p4(""),destination:new s.p4(""),customerCurrency:new s.p4(null,[s.kI.required]),creditLimit:new s.p4(""),customerPaymentTerms:new s.p4(null,[s.kI.required]),isCustomerActive:new s.p4("A",[s.kI.required]),customerWebsite:new s.p4(""),customerBankDetails:new s.nJ({befName:new s.p4(""),bankName:new s.p4(""),accountNumber:new s.p4(""),accountType:new s.p4(""),bankIFSCCode:new s.p4(""),bankSwiftCode:new s.p4("")}),customerLeadTimeInDays:new s.p4("")}),this.statesOfIndia=S.F}get ShippingAddress(){return this.form.get("customerShippingAddress")}get BillingAddress(){return this.form.get("customerBillingAddress")}get ContactInfo(){return this.form.get("customerContactInfo")}get ContactBankInfo(){return this.form.get("customerBankDetails")}trackByFn(o,t){return t?._id}ngOnInit(){this.getInitialData();let o=this.appGlobalService.rolesPermission.find(t=>"64a6c1e33339d4dc9d8141a3"==t.menuItemId)?.masters;this.cardData=o.find(t=>"B2B Customer"==t.subModuleName)}reset(){this.form.reset(),this.getInitialData()}submit(){if(this.submitted=!0,this.validationService.checkErrors(this.form,K.jH))return;let o=this.form.value;o.customerBillingAddress&&(o.customerBillingAddress=[o.customerBillingAddress]),o.customerShippingAddress=this.customerShippingAddressArray,o.customerContactInfo=this.customerContactInfoArray,o.isConvertedToCustomer="Converted to Customer",o.prospectId=this.prospectId,delete o.customerBankDetails,delete o._id,this.create(o)}create(o){this.spinner.show(),this.customerService.create(o).subscribe(t=>{this.submitted=!1,this.spinner.hide(),this.toastService.success(t.message),this.storageService.set("menuTitle",{title:this.cardData?.subModuleName??"B2B Customer",subTitle:null,type:null,subModuleId:this.cardData?.subModuleId}),this.router.navigate(["/default/sales/master/customer/list"])})}open(){const o=this.modalService.open(O.Vn,{centered:!0,backdrop:"static",keyboard:!1,windowClass:"modelPage"});o.componentInstance.action=this.action,o.componentInstance.addressArr=this.customerShippingAddressArray,o.result.then(t=>{["create","edit"].includes(this.action)&&(this.customerShippingAddressArray=t)},t=>{})}openContactDetailsModal(){const o=this.modalService.open(O.ab,{centered:!0,size:"xl",backdrop:"static",keyboard:!1});o.componentInstance.action=this.action,o.componentInstance.customerContactInfoArray=this.customerContactInfoArray,o.result.then(t=>{["create","edit"].includes(this.action)&&(this.customerContactInfoArray=t)},t=>{})}getInitialData(){this.spinner.show(),this.customerService.getAllMasterData({}).subscribe(o=>{this.form.controls.customerCode.setValue(o.autoIncrementNo),this.currency=o.currenciesOptions,this.incoTerms=o.incoTerms,this.paymentTerm=o.paymentTermsOptions,this.transport=o.transporters,this.region=o.zones,this.salesCategory=o.salesCategory,this.gstClassificationsOptions=o.gstClassifications,this.activatedRoute.queryParams.pipe((0,q.z)(t=>(this.action=t.action,this.utilityService.accessDenied(this.action),t.id?this.prospectService.getById(t.id):(0,b.of)({})))).subscribe(t=>{this.spinner.hide(),0!=Object.keys(t).length&&(t.correspondenceAddress&&(t.customerBillingAddress=t.correspondenceAddress),this.customerShippingAddressArray=t.customerShippingAddress,this.customerContactInfoArray=t.contactDetails,this.prospectId=t?._id,this.form.patchValue(t),this.form.controls.customerName.setValue(t?.prospectName),this.form.controls.customerCurrency.setValue(t?.currency),"Active"==t.status?t.status="A":"Inactive"==t.status&&(t.status="I"),this.form.controls.isCustomerActive.setValue(t?.status),"edit"!=this.action&&this.form.disable(),"Converted to Customer"==this.action&&this.form.enable())})})}}return(r=a).\u0275fac=function(o){return new(o||r)(e.Y36($.ve),e.Y36(h.LQ),e.Y36(g.F0),e.Y36(g.gz),e.Y36(m.V),e.Y36(m.kl),e.Y36(v.FF),e.Y36(R.RJ),e.Y36(m.P0),e.Y36(m.V1),e.Y36(m.tI))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-convert-to-customer"]],decls:174,vars:18,consts:[[1,"row","justify-content-center","px-5","form-page"],[1,"col-12","card-form"],[1,"row","form-header"],[1,"col","heading","ms-2"],[1,"form-body","px-4"],[3,"formGroup"],[1,"row","mb-4"],[1,"col"],[1,"form-label"],[1,"text-danger"],["type","text","formControlName","customerCode","readonly","",1,"form-control"],["type","text","formControlName","customerName",1,"form-control"],["type","text","formControlName","customerNickName",1,"form-control"],["formControlName","customerCategory",1,"form-select"],["selected","","disabled","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["formControlName","region",1,"form-select"],["type","text","formControlName","customerPAN",1,"form-control"],["formControlName","GSTClassification",1,"form-select"],["type","text","formControlName","GSTIN",1,"form-control"],[1,"row"],["formControlName","customerCurrency",1,"form-select"],["type","text","formControlName","creditLimit",1,"form-control"],["formControlName","customerPaymentTerms",1,"form-select"],[1,"d-flex"],["formControlName","isCustomerActive",1,"form-select","statusSelectBorder"],[3,"value"],[1,"input-group-text","statusSpanHeight"],["class","statusActive",4,"ngIf"],["class","statusInActive",4,"ngIf"],[1,"mt-4","d-flex","justify-content-start"],[1,"mb-1","me-3","form-label","customerHeading"],["src","./assets/new_icons/redstroke.svg","alt","","height","18","width","8"],[1,"ms-3","openModelLink","pointer","text-primary",3,"click"],[1,"line-border"],["formGroupName","customerBillingAddress"],[1,"row","mt-4"],["type","text","formControlName","country",1,"form-control"],["formControlName","state",1,"form-select"],["value","","selected","","disabled",""],["type","text","formControlName","city",1,"form-control"],["oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);","type","number","maxlength","6","formControlName","pinCode",1,"form-control"],["type","text","formControlName","line1",1,"form-control"],["type","text","formControlName","line2",1,"form-control"],["type","text","formControlName","line3",1,"form-control"],["type","text","formControlName","line4",1,"form-control"],[1,"row","mb-2"],[1,"d-flex","justify-content-between","mt-2"],[1,"d-grid","col-auto"],["type","button",1,"btn","bg-primary",3,"click"],["class","btn btn-primary px-4","type","button",3,"click",4,"ngIf"],[1,"statusActive"],[1,"statusInActive"],["type","button",1,"btn","btn-primary","px-4",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label"),e._uU(5,"Convert to Customer"),e.qZA()()(),e.TgZ(6,"div",4)(7,"form",5)(8,"div",6)(9,"div",7)(10,"label",8),e._uU(11," Customer Code "),e.TgZ(12,"span",9),e._uU(13,"*"),e.qZA()(),e._UZ(14,"input",10),e.qZA(),e.TgZ(15,"div",7)(16,"label",8),e._uU(17," Customer Name "),e.TgZ(18,"span",9),e._uU(19,"*"),e.qZA()(),e._UZ(20,"input",11),e.qZA(),e.TgZ(21,"div",7)(22,"label",8),e._uU(23," Customer Nick Name "),e.TgZ(24,"span",9),e._uU(25,"*"),e.qZA()(),e._UZ(26,"input",12),e.qZA(),e.TgZ(27,"div",7)(28,"label",8),e._uU(29," Customer Category "),e.TgZ(30,"span",9),e._uU(31,"*"),e.qZA()(),e.TgZ(32,"select",13)(33,"option",14),e._uU(34,"Select Type"),e.qZA(),e.YNc(35,X,2,2,"option",15),e.qZA()()(),e.TgZ(36,"div",6)(37,"div",7)(38,"label",8),e._uU(39,"Region/Zone "),e.qZA(),e.TgZ(40,"select",16)(41,"option",14),e._uU(42,"Select Region"),e.qZA(),e.YNc(43,W,2,2,"option",15),e.qZA()(),e.TgZ(44,"div",7)(45,"label",8),e._uU(46," PAN No. "),e.TgZ(47,"span",9),e._uU(48,"*"),e.qZA()(),e._UZ(49,"input",17),e.qZA(),e.TgZ(50,"div",7)(51,"label",8),e._uU(52," GST Classification "),e.TgZ(53,"span",9),e._uU(54,"*"),e.qZA()(),e.TgZ(55,"select",18)(56,"option",14),e._uU(57," GST Classification "),e.qZA(),e.YNc(58,ee,2,2,"option",15),e.qZA()(),e.TgZ(59,"div",7)(60,"label",8),e._uU(61," GSTIN "),e.TgZ(62,"span",9),e._uU(63,"*"),e.qZA()(),e._UZ(64,"input",19),e.qZA()(),e.TgZ(65,"div",20)(66,"div",7)(67,"label",8),e._uU(68," Currency "),e.TgZ(69,"span",9),e._uU(70,"*"),e.qZA()(),e.TgZ(71,"select",21)(72,"option",14),e._uU(73,"Select"),e.qZA(),e.YNc(74,te,2,2,"option",15),e.qZA()(),e.TgZ(75,"div",7)(76,"label",8),e._uU(77,"Credit Limit "),e.qZA(),e._UZ(78,"input",22),e.qZA(),e.TgZ(79,"div",7)(80,"label",8),e._uU(81," Payment Terms "),e.TgZ(82,"span",9),e._uU(83,"*"),e.qZA()(),e.TgZ(84,"select",23)(85,"option",14),e._uU(86,"Select"),e.qZA(),e.YNc(87,oe,2,2,"option",15),e.qZA()(),e.TgZ(88,"div",7)(89,"label",8),e._uU(90," Status "),e.TgZ(91,"span",9),e._uU(92,"*"),e.qZA()(),e.TgZ(93,"div",24)(94,"select",25)(95,"option",14),e._uU(96,"Select Status"),e.qZA(),e.TgZ(97,"option",26),e._uU(98,"Active"),e.qZA(),e.TgZ(99,"option",26),e._uU(100,"Inactive"),e.qZA()(),e.TgZ(101,"span",27),e.YNc(102,se,1,0,"div",28),e.YNc(103,ie,1,0,"div",29),e.qZA()()()(),e.TgZ(104,"div",30)(105,"h4",31),e._uU(106,"Bill To Address"),e.qZA(),e.TgZ(107,"span"),e._UZ(108,"img",32),e.qZA(),e.TgZ(109,"h4",33),e.NdJ("click",function(){return t.open()}),e._uU(110," Click here to add Ship to Address(if other than Bill to address) "),e.qZA()(),e._UZ(111,"hr",34),e.ynx(112,35),e.TgZ(113,"div",36)(114,"div",7)(115,"label",8),e._uU(116," Country "),e.TgZ(117,"span",9),e._uU(118,"*"),e.qZA()(),e._UZ(119,"input",37),e.qZA(),e.TgZ(120,"div",7)(121,"label",8),e._uU(122," State/Province "),e.TgZ(123,"span",9),e._uU(124,"*"),e.qZA()(),e.TgZ(125,"select",38)(126,"option",39),e._uU(127,"Select State"),e.qZA(),e.YNc(128,re,2,2,"option",15),e.qZA()(),e.TgZ(129,"div",7)(130,"label",8),e._uU(131," City/District "),e.TgZ(132,"span",9),e._uU(133,"*"),e.qZA()(),e._UZ(134,"input",40),e.qZA(),e.TgZ(135,"div",7)(136,"label",8),e._uU(137," Pin Code "),e.TgZ(138,"span",9),e._uU(139,"*"),e.qZA()(),e._UZ(140,"input",41),e.qZA()(),e.TgZ(141,"div",36)(142,"div",7)(143,"label",8),e._uU(144,"Address Line 1 "),e.TgZ(145,"span",9),e._uU(146,"*"),e.qZA()(),e._UZ(147,"input",42),e.qZA(),e.TgZ(148,"div",7)(149,"label",8),e._uU(150,"Address Line 2 "),e.TgZ(151,"span",9),e._uU(152,"*"),e.qZA()(),e._UZ(153,"input",43),e.qZA(),e.TgZ(154,"div",7)(155,"label",8),e._uU(156,"Address Line 3 "),e.TgZ(157,"span",9),e._uU(158,"*"),e.qZA()(),e._UZ(159,"input",44),e.qZA(),e.TgZ(160,"div",7)(161,"label",8),e._uU(162,"Address Line 4 "),e.TgZ(163,"span",9),e._uU(164,"*"),e.qZA()(),e._UZ(165,"input",45),e.qZA()(),e._UZ(166,"hr",34),e.TgZ(167,"div",46)(168,"div",47)(169,"div",48)(170,"button",49),e.NdJ("click",function(){return t.openContactDetailsModal()}),e._uU(171," Add Contact Details "),e.qZA()(),e.TgZ(172,"div",48),e.YNc(173,ne,2,0,"button",50),e.qZA()()(),e.BQk(),e.qZA()()()()),2&o&&(e.xp6(7),e.Q6J("formGroup",t.form),e.xp6(26),e.Q6J("value",null),e.xp6(2),e.Q6J("ngForOf",t.salesCategory),e.xp6(6),e.Q6J("value",null),e.xp6(2),e.Q6J("ngForOf",t.region),e.xp6(13),e.Q6J("value",null),e.xp6(2),e.Q6J("ngForOf",t.gstClassificationsOptions),e.xp6(14),e.Q6J("value",null),e.xp6(2),e.Q6J("ngForOf",t.currency),e.xp6(11),e.Q6J("value",null),e.xp6(2),e.Q6J("ngForOf",t.paymentTerm),e.xp6(8),e.Q6J("value",null),e.xp6(2),e.Q6J("value","A"),e.xp6(2),e.Q6J("value","I"),e.xp6(3),e.Q6J("ngIf","A"==t.form.value.isCustomerActive),e.xp6(1),e.Q6J("ngIf","I"==t.form.value.isCustomerActive),e.xp6(25),e.Q6J("ngForOf",t.statesOfIndia),e.xp6(45),e.Q6J("ngIf","view"!=t.action))},dependencies:[u.sg,u.O5,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.nD,s.sg,s.u,s.x0],encapsulation:2}),a})()},{path:"list",component:D},{path:"form",component:j,resolve:{accessScreen:z.x}}];let ce=(()=>{var r;class a{}return(r=a).\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[u.ez,H.m,g.Bz.forChild(ae)]}),a})()},13107:(A,p,l)=>{l.d(p,{t:()=>u});const u={width:24,style:{alignment:{vertical:"middle",horizontal:"center",wrapText:!0}}}},28402:(A,p,l)=>{l.d(p,{J:()=>u});const u=({data:g,headers:y,widths:_,title:C})=>({tableData:{widths:_,headerRows:1,body:[y.map(h=>({text:h.header,style:"header"})),...g.map(h=>y.map(Z=>({style:"subheader",text:h[Z.key]})))]},title:C})},84982:(A,p,l)=>{l.d(p,{$:()=>u});const u=[{message:"Prospect Name is Required",key:"prospectName"},{message:"Customer category Name is Required",key:"customerCategory"},{message:"Ccy is Required",key:"currency"}]},49580:(A,p,l)=>{l.d(p,{D:()=>u});const u=[{message:"HSN Code is Required",key:"hsnCode"},{message:"Description of Goods is Required",key:"goodsDescription"},{message:"GST Rate % is Required",key:"gstRate"},{message:"IGST Rate % is Required",key:"igstRate"},{message:"CGST Rate % is Required",key:"cgstRate"},{message:"SGST Rate % is Required",key:"sgstRate"},{message:"UTGST Rate % is Required",key:"ugstRate"},{message:"Revision No. is Required",key:"revisionNo"},{message:"Revision Date is Required",key:"revisionDate"}]},4092:(A,p,l)=>{l.d(p,{tm:()=>Z,Kb:()=>u,lR:()=>v,jH:()=>g,y5:()=>k,OV:()=>N,HQ:()=>U,RS:()=>D,vc:()=>s,Nj:()=>S,rw:()=>x,Uh:()=>q,J4:()=>R,ff:()=>_,BC:()=>P,JY:()=>C,Dd:()=>b,Sy:()=>e,tH:()=>m,RH:()=>h});const u=[{message:"Customer Name is Required",key:"customerName"},{message:"Mobile No. is Required",key:"mobileNo"},{message:"stateOfSupply is Required",key:"stateOfSupply"}],g=[{message:"Customer Code is Required",key:"customerCode"},{message:"Customer Name is Required",key:"customerName"},{message:"Sales Category is Required",key:"customerCategory"},{message:"PAN No. is Required",key:"customerPAN"},{message:"GSTIN is Required",key:"GSTIN"},{message:"GST Classification is Required",key:"GSTClassification"},{message:"Customer Category is Required",key:"customerType"},{message:"Customer Currency is Required",key:"customerCurrency"},{message:"Payment Terms is Required",key:"customerPaymentTerms"}];l(49580);const _=[{message:"SAC Code is Required",key:"sacCode"},{message:"Description of Service is Required",key:"serviceDescription"},{message:"GST Rate % is Required",key:"gstRate"},{message:"IGST Rate % is Required",key:"igstRate"},{message:"CGST Rate % is Required",key:"cgstRate"},{message:"SGST Rate % is Required",key:"sgstRate"},{message:"UTGST Rate % is Required",key:"ugstRate"},{message:"Revision Date is Required",key:"revisionNo"},{message:"Revision Date is Required",key:"revisionDate"}],C=[{message:"Service Description is Required",key:"serviceDescription"}],e=[{message:"SKU Stage is Required",key:"SKUStage"},{message:"Product Category is Required",key:"productCategory"},{message:"SKU No is Required",key:"SKUNo"},{message:"SKU Name is Required",key:"SKUName"},{message:"SKU Description is Required",key:"SKUDescription"},{message:"HSN Code is Required",key:"hsn"},{message:"Unit of Measurement is Required",key:"primaryUnit"}],m=[{message:"Shelf Life [Months] is required",key:"shelfLife"},{message:"Storage Temperature [\xb0C] is required",key:"storageTemp"},{message:"Storage Humidity [RH] is required",key:"storageHumidity"},{message:"Special Storage Instruction is required",key:"specialStorageInstruction"}],h=[{message:"Type is Required",key:"transporterType"}],Z=[{message:"Bill From Location is Required",key:"billFromLocation"},{message:"Customer Category is Required",key:"salesCategory"},{message:"Customer Name is Required",key:"customer"},{message:"Purchase Order No. is Required",key:"PONumber"},{message:"Purchase Order Date is Required",key:"PODate"},{message:"Net SO Value is Required",key:"SOTotalAmount"},{message:"Status is Required",key:"SOStatus"},{message:"Customer Shipping Address is Required",key:"customerShippingAddress"},{message:"Fright Terms is Required",key:"frightTerms"},{message:"Transporter is Required",key:"transporter"},{message:"Destination is Required",key:"destination"}],v=[{message:"Customer Category is Required",key:"salesCategory"},{message:"Customer Name is Required",key:"customer"}],k=[{message:"Customer Category is Required",key:"salesCategory"},{message:"Customer Name is Required",key:"customer"}],U=[{message:"Customer Category is Required",key:"salesCategory"},{message:"Customer Name is Required",key:"customer"},{message:"Fright Terms is Required",key:"frightTerms"},{message:"Destination Terms is Required",key:"destination"},{message:"Mode of Transport is Required",key:"modeOfTransport"}],N=[{message:"Export Invoice No. is Required",key:"exportsInvoiceNo"},{message:"Export Invoice Date is Required",key:"exportsInvoiceDate"},{message:"Export Invoice Total Value is Required",key:"exportsInvoiceTotalValue"},{message:"Exchange Rate is Required",key:"exchangeRate"},{message:"Mode of Transport is Required",key:"modeOfTransport"},{message:"Fright Terms is Required",key:"frightTerms"},{message:"Port of Destination Terms is Required",key:"destination"},{message:"Final Destination Terms is Required",key:"finalDestination"}],D=[{message:"Payment Terms is Required",key:"paymentTerms"},{message:"Fright Terms is Required",key:"frightTerms"},{message:"Transporter Terms is Required",key:"transporter"},{message:"Destination Terms is Required",key:"destination"},{message:"Mode of Transport is Required",key:"modeOfTransport"}],s=[{message:"Supply Type is Required",key:"supplyType"},{message:"Sub Supply Type is Required",key:"subSupplyType"},{message:"Document Type is Required",key:"docType"},{message:"Document No. is Required of 16 Digits",key:"docNo"},{message:"Document Date is Required",key:"docDate"},{message:"From GSTIN is Required of 15 Digits",key:"fromGstin"},{message:"From Pin Code is Required",key:"fromPincode"},{message:"Act From State Code is Required",key:"actFromStateCode"},{message:"From State Code is Required",key:"fromStateCode"},{message:"To GSTIN is Required of 15 Digits",key:"toGstin"},{message:"To Pin Code is Required",key:"toPincode"},{message:"To State Code is Required",key:"toStateCode"},{message:"Act To State Code is Required",key:"actToStateCode"},{message:"Transaction Type is Required of 4 Digits",key:"transactionType"},{message:"Tot Inv Value is Required",key:"totInvValue"},{message:"Trans Distance is Required",key:"transDistance"}],q=[{message:"Bill From Location is Required",key:"billFromLocation"},{message:"Customer Category is Required",key:"salesCategory"},{message:"Customer Name is Required",key:"customer"},{message:"PO No. is Required",key:"PONumber"},{message:"Net SO Value is Required",key:"PITotalAmount"},{message:"Status is Required",key:"PIStatus"},{message:"Customer Shipping Address is Required",key:"customerShippingAddress"},{message:"Mode Of Transport is Required",key:"modeOfTransport"},{message:"frightTerms is Required",key:"frightTerms"},{message:"transporter is Required",key:"transporter"},{message:"destination is Required",key:"destination"}],b=[{message:"Invoice # is Required",key:"serviceInvoiceNumber"},{message:"Invoice Date is Required",key:"serviceInvoiceDate"},{message:"Customer/Sales Category is Required",key:"customerCategory"},{message:"Customer Name is Required",key:"customer"},{message:"Purchase Order No. is Required",key:"PONo"},{message:"Purchase Order Date is Required",key:"PODate"},{message:"Currency is Required",key:"currency"},{message:"Bill From Location is Required",key:"billFromLocation"}],S=[{message:"Product Category is Required",key:"productCategory"},{message:"HSN Code is Required",key:"HSN"},{message:"Description is Required",key:"description"},{message:"IGST Rate % is Required",key:"igstRate"},{message:"CGST Rate % is Required",key:"cgstRate"},{message:"SGST Rate % is Required",key:"sgstRate"}],x=[{message:"Order is Required",key:"order"},{message:"Payment Terms Description is Required",key:"paymentDescription"}],P=[{message:"Customer Category is Required",key:"customerCategory"},{message:"Customer Name is Required",key:"customer"},{message:"FC Type is Required",key:"FCType"},{message:"Net FC Value is Required",key:"netFCValue"}],R=[{message:"Quotation No. is Required",key:"quotationNo"},{message:"Customer Category is Required",key:"customerCategory"},{message:"Customer Name  is Required",key:"customerName"}]}}]);