"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[9471],{97031:(U,p,r)=>{r.r(p),r.d(p,{PendingDSKUConversionModule:()=>y});var u=r(96814),g=r(1076),h=r(25116),c=r(23683),m=r(43818),e=r(65879),D=r(78212),d=r(99328),v=r(88059),b=r(37285),C=r(60095),S=r(50363),T=r(14906);function Z(a,l){if(1&a&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",32,33)(5,"span",34),e._uU(6),e.qZA()(),e.TgZ(7,"td",32,35)(9,"span",34),e._uU(10),e.qZA()(),e.TgZ(11,"td",32,36)(13,"span",34),e._uU(14),e.qZA()(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA()()),2&a){const s=l.$implicit,n=e.MAs(4),t=e.MAs(8),i=e.MAs(12);e.xp6(2),e.Oqu(null==s?null:s.dSKUNo),e.xp6(1),e.Udp("width",n.clientWidth),e.xp6(2),e.Q6J("positionTarget",n)("ngbTooltip",s.SKUName),e.xp6(1),e.hij(" ",s.SKUName?s.SKUName:null," "),e.xp6(1),e.Udp("width",t.clientWidth),e.xp6(2),e.Q6J("positionTarget",t)("ngbTooltip",s.SKUDescription),e.xp6(1),e.hij(" ",null==s?null:s.SKUDescription," "),e.xp6(1),e.Udp("width",i.clientWidth),e.xp6(2),e.Q6J("positionTarget",i)("ngbTooltip",s.customerName),e.xp6(1),e.hij(" ",null==s?null:s.customerName," "),e.xp6(2),e.Oqu(null==s?null:s.NPDDate),e.xp6(2),e.Oqu(null==s?null:s.NPDUpdatedAt),e.xp6(2),e.Oqu(null==s?null:s.daysPending)}}const _=function(a,l,s,n){return{page:a,pageSize:l,collection:s,search:n,type:"list",pdfDisplay:!0}};let f=(()=>{var a;class l{constructor(n,t,i,o,K,N,M){this.npdMasterService=n,this.router=t,this.exportExcelService=i,this.spinner=o,this.utilityService=K,this.activatedRoute=N,this.exportToPDFService=M,this.page=1,this.pageSize=12,this.collection=0,this.column="createdAt",this.direction=-1,this.search="",this.customerId="",this.tableData=[],this.statusOptions=[],this.customerOptions=[],this.fromDate=this.utilityService.getCurrentMonthDates().fromDate,this.toDate=this.utilityService.getCurrentMonthDates().toDate,this.rolePermissionActions=h.a1}ngOnInit(){this.page=Number(this.activatedRoute.snapshot.queryParamMap.get("page")??1),this.getAll()}trackByFn(n,t){return t?._id}navigateTo(n,t,i){this.router.navigate([n],{queryParams:{id:t?._id,action:i}})}eventHeader(n){switch(n.key){case"SEARCH":this.search=n.value,this.getAll();break;case"PDF":this.getAll(!0,"PDF");break;case"EXCEL":this.getAll(!0,"EXCEL");break;case"PAGE":this.page=n.value,this.getAll()}}reset(){this.fromDate=this.utilityService.getCurrentMonthDates().fromDate,this.toDate=this.utilityService.getCurrentMonthDates().toDate,this.customerId="",this.getAll()}getAll(n=!1,t=""){this.spinner.show();let i={page:this.page,pageSize:this.pageSize,search:this.search,column:this.column,direction:this.direction,reference:this.customerId,excel:n,fromDate:this.fromDate,toDate:this.toDate};this.subscription&&this.subscription.unsubscribe(),this.subscription=this.npdMasterService.getAllPendingDSKUConversionReport(i).subscribe(o=>{"EXCEL"==t?this.excelDownload(o.rows):"PDF"==t?this.pdfDownload(o.rows):(this.tableData=o.rows,this.collection=o.count,this.customerOptions=o.customers),this.spinner.hide()})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}pdfDownload(n){let t=(0,c.J6)(n);this.exportToPDFService.generatePdf(t.tableData,t.title)}excelDownload(n){this.exportExcelService.exportExcel((0,c.rn)(n))}onSort({column:n,direction:t}){this.headers.forEach(i=>{i.sortable!==n&&(i.direction="")}),this.column=n,this.direction="asc"==t?1:-1,this.getAll()}}return(a=l).\u0275fac=function(n){return new(n||a)(e.Y36(D.x3),e.Y36(g.F0),e.Y36(d.Ol),e.Y36(d.V),e.Y36(d.tI),e.Y36(g.gz),e.Y36(d.$L))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-pending-d-sku-conversion"]],viewQuery:function(n,t){if(1&n&&e.Gf(m.j,5),2&n){let i;e.iGM(i=e.CRH())&&(t.headers=i)}},decls:56,vars:19,consts:[[1,"reportTablePage"],[1,"table-body","pb-0","shadow-none"],[1,"row","table-header"],[1,"col"],[1,"heading"],[1,"row","my-4"],[1,"col-3","ps-5","separate-row"],[1,"form-label"],["bindLabel","name","bindValue","name",3,"items","clearable","ngModel","ngModelChange"],[1,"set-position"],["src","./assets/new_icons/redstroke.svg","alt","","height","27","width","8"],[1,"col-3"],[1,"text-danger"],["type","date",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-3","align-self-end","separate-image"],[1,"image-position"],["type","button",1,"btn","btn-primary","px-4",3,"click"],["type","button",1,"btn","btn-primary","px-4","ms-4",3,"click"],[1,"row","line-border"],[1,"table-responsive","mb-0"],[3,"data","dataChange"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],["sortable","dSKUNo",3,"sort"],["sortable","SKUName",1,"text-start",3,"sort"],["sortable","SKUDescription",1,"text-start",3,"sort"],["sortable","customerName",1,"text-start",3,"sort"],["sortable","NPDDate",3,"sort"],["sortable","NPDUpdatedAt",3,"sort"],["sortable","daysPending",3,"sort"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-start"],["SKUName",""],[1,"pointer",3,"positionTarget","ngbTooltip"],["SKUDescription",""],["customerName",""]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),e._uU(5,"Pending D-SKU Conversion Report"),e.qZA()()(),e.TgZ(6,"div",5)(7,"div",6)(8,"label",7),e._uU(9,"Customer/Prospect Name"),e.qZA(),e.TgZ(10,"ng-select",8),e.NdJ("ngModelChange",function(o){return t.customerId=o}),e.qZA(),e.TgZ(11,"span",9),e._UZ(12,"img",10),e.qZA()(),e.TgZ(13,"div",11)(14,"label",7),e._uU(15," From Date "),e.TgZ(16,"span",12),e._uU(17,"*"),e.qZA()(),e.TgZ(18,"input",13),e.NdJ("ngModelChange",function(o){return t.fromDate=o}),e.qZA()(),e.TgZ(19,"div",11)(20,"label",7),e._uU(21," To Date "),e.TgZ(22,"span",12),e._uU(23,"*"),e.qZA()(),e.TgZ(24,"input",13),e.NdJ("ngModelChange",function(o){return t.toDate=o}),e.qZA()(),e.TgZ(25,"div",14)(26,"span",15),e._UZ(27,"img",10),e.qZA(),e.TgZ(28,"button",16),e.NdJ("click",function(){return t.getAll()}),e._uU(29,"Apply Filter"),e.qZA(),e.TgZ(30,"button",17),e.NdJ("click",function(){return t.reset()}),e._uU(31,"Reset Filter"),e.qZA()()(),e._UZ(32,"hr",18),e.TgZ(33,"div",19)(34,"app-setting-header",20),e.NdJ("dataChange",function(o){return t.eventHeader(o)}),e.qZA(),e.TgZ(35,"table",21)(36,"thead",22)(37,"tr",23)(38,"th",24),e.NdJ("sort",function(o){return t.onSort(o)}),e._uU(39,"D-SKU No."),e.qZA(),e.TgZ(40,"th",25),e.NdJ("sort",function(o){return t.onSort(o)}),e._uU(41),e.ALo(42,"labelTranslate"),e.qZA(),e.TgZ(43,"th",26),e.NdJ("sort",function(o){return t.onSort(o)}),e._uU(44),e.ALo(45,"labelTranslate"),e.qZA(),e.TgZ(46,"th",27),e.NdJ("sort",function(o){return t.onSort(o)}),e._uU(47," Customer/Prospect Name "),e.qZA(),e.TgZ(48,"th",28),e.NdJ("sort",function(o){return t.onSort(o)}),e._uU(49,"NPD Request Date"),e.qZA(),e.TgZ(50,"th",29),e.NdJ("sort",function(o){return t.onSort(o)}),e._uU(51,"NPD Approved Date"),e.qZA(),e.TgZ(52,"th",30),e.NdJ("sort",function(o){return t.onSort(o)}),e._uU(53,"Days Pending"),e.qZA()()(),e.TgZ(54,"tbody"),e.YNc(55,Z,21,19,"tr",31),e.qZA()()()()()),2&n&&(e.xp6(10),e.Q6J("items",t.customerOptions)("clearable",!1)("ngModel",t.customerId),e.xp6(8),e.Q6J("ngModel",t.fromDate),e.xp6(6),e.Q6J("ngModel",t.toDate),e.xp6(10),e.Q6J("data",e.l5B(14,_,t.page,t.pageSize,t.collection,t.search)),e.xp6(7),e.hij(" ",e.lcZ(42,10,"D-SKU Name")," "),e.xp6(3),e.hij(" ",e.lcZ(45,12,"D-SKU Description")," "),e.xp6(11),e.Q6J("ngForOf",t.tableData)("ngForTrackBy",t.trackByFn))},dependencies:[u.sg,v.P,b._L,C.Fj,C.JJ,C.On,S.w9,m.j,T.c],encapsulation:2}),l})();var A=r(56208);const P=[{path:"",component:f}];let y=(()=>{var a;class l{}return(a=l).\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez,g.Bz.forChild(P),A.m]}),l})()},13107:(U,p,r)=>{r.d(p,{t:()=>u});const u={width:24,style:{alignment:{vertical:"middle",horizontal:"center",wrapText:!0}}}},28402:(U,p,r)=>{r.d(p,{J:()=>u});const u=({data:g,headers:h,widths:c,title:m})=>({tableData:{widths:c,headerRows:1,body:[h.map(d=>({text:d.header,style:"header"})),...g.map(d=>h.map(v=>({style:"subheader",text:d[v.key]})))]},title:m})}}]);