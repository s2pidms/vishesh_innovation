"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[7352],{99257:(M,c,o)=>{o.r(c),o.d(c,{MapProcessNameModule:()=>_});var h=o(96814),d=o(1076),u=o(43818),f=o(25116),P=o(91164),t=o(65879),p=o(98977),l=o(37398);let v=(()=>{class r{constructor(e){this.http=e,this.routes={createPath:"/planning/processMaster/create",getAllPath:"/planning/processMaster/getAll",getAllMapProcessNamesPath:"/planning/processMaster/getAllMapProcessNames",getAllMasterDataPath:"/planning/processMaster/getAllMasterData",updatePath:s=>`/planning/processMaster/update/${s}`,getByIdPath:s=>`/planning/processMaster/getById/${s}`,deletePath:s=>`/planning/processMaster/delete/${s}`}}create(e){return this.http.post(this.routes.createPath,e).pipe((0,l.U)(s=>s))}getAll(e){return this.http.get(this.routes.getAllPath,e).pipe((0,l.U)(s=>s))}getAllMapProcessNames(e){return this.http.get(this.routes.getAllMapProcessNamesPath,e).pipe((0,l.U)(s=>s))}getAllMasterData(e){return this.http.get(this.routes.getAllMasterDataPath,e).pipe((0,l.U)(s=>s))}getMonthlySupplierEvaluation(e){return this.http.get(this.routes.getMonthlySupplierEvaluationPath,e).pipe((0,l.U)(s=>s))}update(e,s){return this.http.put(this.routes.updatePath(e),s).pipe((0,l.U)(a=>a))}getById(e){return this.http.get(this.routes.getByIdPath(e)).pipe((0,l.U)(s=>s))}delete(e){return this.http.delete(this.routes.deletePath(e)).pipe((0,l.U)(s=>s))}static#t=this.\u0275fac=function(s){return new(s||r)(t.LFG(p.sM))};static#e=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var N=o(88059),g=o(60095);function A(r,m){if(1&r&&(t.TgZ(0,"option",21),t._uU(1),t.qZA()),2&r){const e=m.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",null==e?null:e.label," ")}}function b(r,m){if(1&r){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"select",13),t.NdJ("ngModelChange",function(a){const n=t.CHM(e).$implicit;return t.KtG(n.processOriginalName=a)}),t.TgZ(7,"option",14),t._uU(8,"Select Process Original Name"),t.qZA(),t.YNc(9,A,2,2,"option",15),t.qZA()(),t.TgZ(10,"td")(11,"div",16),t._UZ(12,"button",17),t.TgZ(13,"div",18)(14,"a",19),t.NdJ("click",function(){const i=t.CHM(e).$implicit,n=t.oxw();return t.KtG(n.update(i,{processOriginalName:i.processOriginalName}))}),t._UZ(15,"i",20),t._uU(16," Update "),t.qZA()()()()()}if(2&r){const e=m.$implicit,s=t.oxw();t.xp6(2),t.Oqu(null==e?null:e.processId),t.xp6(2),t.Oqu(null==e?null:e.processName),t.xp6(2),t.Q6J("ngModel",e.processOriginalName),t.xp6(3),t.Q6J("ngForOf",s.processOptions)}}const T=function(r,m,e,s){return{page:r,pageSize:m,collection:e,search:s,type:"list"}};let y=(()=>{class r{constructor(e,s,a,i,n,S,x){this.exportExcelService=e,this.router=s,this.spinner=a,this.activatedRoute=i,this.mapProcessNameService=n,this.exportToPDFService=S,this.toastService=x,this.page=1,this.pageSize=8,this.collection=0,this.column="createdAt",this.direction=-1,this.search="",this.tableData=[],this.processOptions=[],this.rolePermissionActions=f.a1}ngOnInit(){this.page=Number(this.activatedRoute.snapshot.queryParamMap.get("page")??1),this.getAll()}getAll(e=!1,s=""){this.spinner.show();let a={page:this.page,pageSize:this.pageSize,search:this.search,column:this.column,direction:this.direction,excel:e};this.subscription&&this.subscription.unsubscribe(),this.subscription=this.mapProcessNameService.getAllMapProcessNames(a).subscribe(i=>{"EXCEL"==s?this.excelDownload(i.rows):"PDF"==s?this.pdfDownload(i.rows):(this.processOptions=i.processOptions,this.tableData=i.rows,this.collection=i.count),this.spinner.hide()})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}navigateTo(e,s,a){this.router.navigate([e],{queryParams:{id:s?._id,action:a}})}eventHeader(e){switch(e.key){case"SEARCH":this.search=e.value,this.getAll();break;case"PDF":this.getAll(!0,"PDF");break;case"EXCEL":this.getAll(!0,"EXCEL");break;case"PAGE":this.page=e.value,this.getAll()}}trackByFn(e,s){return s?._id}excelDownload(e){this.exportExcelService.exportExcel((0,P.ri)(e))}pdfDownload(e){let s=(0,P.RJ)(e);this.exportToPDFService.generatePdf(s.tableData,s.title)}onSort({column:e,direction:s}){this.headers.forEach(a=>{a.sortable!==e&&(a.direction="")}),this.column=e,this.direction="asc"==s?1:-1,this.getAll()}update(e,s){this.spinner.show(),this.mapProcessNameService.update(e._id,s).subscribe(a=>{this.toastService.success(a.message),this.spinner.hide()})}static#t=this.\u0275fac=function(s){return new(s||r)(t.Y36(p.Ol),t.Y36(d.F0),t.Y36(p.V),t.Y36(d.gz),t.Y36(v),t.Y36(p.$L),t.Y36(p.kl))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-map-process-name-list"]],viewQuery:function(s,a){if(1&s&&t.Gf(u.j,5),2&s){let i;t.iGM(i=t.CRH())&&(a.headers=i)}},decls:20,vars:8,consts:[[1,"listCard","card"],[1,"table-header"],[1,"heading"],[1,"line-border"],[1,"table-responsive"],[3,"data","dataChange"],[1,"table","table-bordered"],[1,"bg-secondary"],[1,"text-white"],["sortable","processId",3,"sort"],["sortable","processName",3,"sort"],["sortable","processOriginalName",1,"text-start",3,"sort"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"form-select",3,"ngModel","ngModelChange"],["value","null","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"dropdown"],[1,"dropbtn"],[1,"dropdown-content"],["href","javascript:void(0)",3,"click"],["aria-hidden","true",1,"fa","fa-pencil-square-o","fa-lg","me-2","text-primary"],[3,"value"]],template:function(s,a){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"label",2),t._uU(3,"Map Process Name Summary"),t.qZA()(),t._UZ(4,"hr",3),t.TgZ(5,"div",4)(6,"app-setting-header",5),t.NdJ("dataChange",function(n){return a.eventHeader(n)}),t.qZA(),t.TgZ(7,"table",6)(8,"thead",7)(9,"tr",8)(10,"th",9),t.NdJ("sort",function(n){return a.onSort(n)}),t._uU(11,"Process ID"),t.qZA(),t.TgZ(12,"th",10),t.NdJ("sort",function(n){return a.onSort(n)}),t._uU(13,"Process Name"),t.qZA(),t.TgZ(14,"th",11),t.NdJ("sort",function(n){return a.onSort(n)}),t._uU(15," Map Process Original Name "),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Action"),t.qZA()()(),t.TgZ(18,"tbody"),t.YNc(19,b,17,4,"tr",12),t.qZA()()()()),2&s&&(t.xp6(6),t.Q6J("data",t.l5B(3,T,a.page,a.pageSize,a.collection,a.search)),t.xp6(13),t.Q6J("ngForOf",a.tableData)("ngForTrackBy",a.trackByFn))},dependencies:[h.sg,N.P,g.YN,g.Kr,g.EJ,g.JJ,g.On,u.j]})}return r})();var C=o(56208);const Z=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:y}];let _=(()=>{class r{static#t=this.\u0275fac=function(s){return new(s||r)};static#e=this.\u0275mod=t.oAB({type:r});static#s=this.\u0275inj=t.cJS({imports:[h.ez,d.Bz.forChild(Z),C.m]})}return r})()},13107:(M,c,o)=>{o.d(c,{t:()=>h});const h={width:24,style:{alignment:{vertical:"middle",horizontal:"center",wrapText:!0}}}},28402:(M,c,o)=>{o.d(c,{J:()=>h});const h=({data:d,headers:u,widths:f,title:P})=>({tableData:{widths:f,headerRows:1,body:[u.map(l=>({text:l.header,style:"header"})),...d.map(l=>u.map(v=>({style:"subheader",text:l[v.key]})))]},title:P})}}]);