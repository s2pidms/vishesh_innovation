"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[3363],{61441:(y,Z,s)=>{s.d(Z,{Q:()=>g});var l=s(43818),t=s(65879),e=s(37285),v=s(96814),M=s(88059),b=s(95346);const C=function(){return["view","edit","rejection","reject","approval","approve","cancel"]};function _(f,T){if(1&f){const u=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",26,27)(7,"span",28),t._uU(8),t.qZA()(),t.TgZ(9,"td",26,29)(11,"span",28),t._uU(12),t.qZA()(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td")(18,"input",30),t.NdJ("change",function(){const i=t.CHM(u).$implicit,n=t.oxw();return t.KtG(n.setSelectData(i))}),t.qZA()()()}if(2&f){const u=T.$implicit,a=T.index,c=t.MAs(6),i=t.MAs(10),n=t.oxw();t.xp6(2),t.Oqu(null==u?null:u.jobCardNo),t.xp6(2),t.Oqu(null==u?null:u.SKUNo),t.xp6(1),t.Udp("width",c.clientWidth),t.xp6(2),t.Q6J("ngbTooltip",u.SKUName)("positionTarget",c),t.xp6(1),t.hij(" ",u.SKUName," "),t.xp6(1),t.Udp("width",i.clientWidth),t.xp6(2),t.Q6J("ngbTooltip",u.SKUDescription)("positionTarget",i),t.xp6(1),t.hij(" ",u.SKUDescription," "),t.xp6(2),t.Oqu(null==u?null:u.UOM),t.xp6(2),t.Oqu(null==u?null:u.batchQty),t.xp6(2),t.MGl("name","formValue",n.JCOptions[a],""),t.Q6J("disabled",t.DdM(17,C).includes(n.action))("checked",u.select)}}function h(f,T){1&f&&t._UZ(0,"hr",31)}function m(f,T){if(1&f){const u=t.EpF();t.TgZ(0,"div",32)(1,"button",33),t.NdJ("click",function(){t.CHM(u);const c=t.oxw();return t.KtG(c.dismissModel())}),t._uU(2,"Save & Close"),t.qZA()()}}const p=function(f,T,u,a){return{page:f,pageSize:T,collection:u,search:a,excelDisplay:"none"}};let g=(()=>{var f;class T{constructor(a){this.activeModal=a,this.action="edit",this.jobCard="",this.JCOptions=[],this.selectedJobCardDetails={},this.btnDisable=!1,this.page=1,this.pageSize=9,this.collection=0,this.search="",this.column="jobCardNo",this.direction=-1}ngOnInit(){this.jobCard&&(this.selectedJobCardDetails._id=this.jobCard,this.JCOptions=this.JCOptions?.map(a=>(a.select=!1,a._id==this.jobCard&&(a.select=!0),a))),this.collection=this.JCOptions?.length}setSelectData(a){this.selectedJobCardDetails=a}dismissModel(){let a={};a.selectedJobCardDetails=this.selectedJobCardDetails,this.activeModal.close(a)}eventHeader(a){switch(a.key){case"SEARCH":this.search=a.value;break;case"EXCEL":default:break;case"PAGE":this.page=a.value}}onSort({column:a,direction:c}){this.headers.forEach(i=>{i.sortable!==a&&(i.direction="")}),this.JCOptions=""===c||""===a?this.JCOptions:[...this.JCOptions].sort((i,n)=>{let o="string"==typeof i[a]?i[a].toLowerCase():i[a],d="string"==typeof n[a]?n[a].toLowerCase():n[a];const r=o<d?-1:o>d?1:0;return"asc"===c?r:-r})}}return(f=T).\u0275fac=function(a){return new(a||f)(t.Y36(e.Kz))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-job-card-details-modal"]],viewQuery:function(a,c){if(1&a&&t.Gf(l.j,5),2&a){let i;t.iGM(i=t.CRH())&&(c.headers=i)}},inputs:{action:"action",jobCard:"jobCard",JCOptions:"JCOptions",selectedJobCardDetails:"selectedJobCardDetails"},decls:39,vars:18,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,""],[1,"container-fluid"],[1,"row","justify-content-center"],[1,"col-12","px-0","mt-4"],[1,"px-5","mt-0"],[3,"data","dataChange"],[1,"table-responsive","px-5",2,"min-height","33rem"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],["sortable","jobCardNo",3,"sort"],["sortable","SKUNo",3,"sort"],["sortable","SKUName",1,"text-start",3,"sort"],["sortable","SKUDescription",1,"text-start",3,"sort"],["sortable","UOM",3,"sort"],["sortable","batchQty",3,"sort"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col","px-0","mb-3"],["class","line-border",4,"ngIf"],["class","text-center mb-2",4,"ngIf"],[1,"text-start"],["SKUName",""],[1,"pointer",3,"ngbTooltip","positionTarget"],["SKUDescription",""],["type","radio",1,"form-check-input","pointer",3,"disabled","name","checked","change"],[1,"line-border"],[1,"text-center","mb-2"],["type","button",1,"btn","bg-primary","px-5","mb-4",3,"click"]],template:function(a,c){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Select Job Card"),t.qZA(),t.TgZ(4,"div")(5,"button",3),t.NdJ("click",function(){return c.activeModal.close()}),t._UZ(6,"i",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"app-setting-header",10),t.NdJ("dataChange",function(n){return c.eventHeader(n)}),t.qZA()(),t.TgZ(13,"div",11)(14,"table",12)(15,"thead",13)(16,"tr",14)(17,"th",15),t.NdJ("sort",function(n){return c.onSort(n)}),t._uU(18,"Job Card No."),t.qZA(),t.TgZ(19,"th",16),t.NdJ("sort",function(n){return c.onSort(n)}),t._uU(20,"SKU No."),t.qZA(),t.TgZ(21,"th",17),t.NdJ("sort",function(n){return c.onSort(n)}),t._uU(22,"SKU Name"),t.qZA(),t.TgZ(23,"th",18),t.NdJ("sort",function(n){return c.onSort(n)}),t._uU(24," SKU Description "),t.qZA(),t.TgZ(25,"th",19),t.NdJ("sort",function(n){return c.onSort(n)}),t._uU(26,"UoM"),t.qZA(),t.TgZ(27,"th",20),t.NdJ("sort",function(n){return c.onSort(n)}),t._uU(28,"Batch Qty."),t.qZA(),t.TgZ(29,"th"),t._uU(30,"Select"),t.qZA()()(),t.TgZ(31,"tbody"),t.YNc(32,_,19,18,"tr",21),t.ALo(33,"slice"),t.ALo(34,"searchFi1ter"),t.qZA()()()()(),t.TgZ(35,"div",22)(36,"div",23),t.YNc(37,h,1,0,"hr",24),t.qZA()(),t.YNc(38,m,3,0,"div",25),t.qZA()()()),2&a&&(t.xp6(12),t.Q6J("data",t.l5B(11,p,c.page,c.pageSize,c.collection,c.search)),t.xp6(20),t.Q6J("ngForOf",t.Dn7(33,4,t.xi3(34,8,c.JCOptions,c.search),(c.page-1)*c.pageSize,(c.page-1)*c.pageSize+c.pageSize)),t.xp6(5),t.Q6J("ngIf",!t.DdM(16,C).includes(c.action)),t.xp6(1),t.Q6J("ngIf",!t.DdM(17,C).includes(c.action)))},dependencies:[v.sg,v.O5,M.P,e._L,l.j,v.OU,b.G],encapsulation:2}),T})()},84531:(y,Z,s)=>{s.d(Z,{p:()=>u});var l=s(43818),t=s(32183),e=s(65879),v=s(37285),M=s(99328),b=s(96814),C=s(88059),_=s(60095),h=s(95346);const m=function(){return{standalone:!0}};function p(a,c){if(1&a){const i=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",44),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"div",45)(15,"input",46),e.NdJ("ngModelChange",function(o){const r=e.CHM(i).$implicit;return e.KtG(r.MF=o)})("ngModelChange",function(){const d=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.changeBatchQty(d))}),e.qZA()()(),e.TgZ(16,"td",47),e._uU(17),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.qZA()()}if(2&a){const i=c.$implicit,n=e.oxw();e.xp6(2),e.Oqu(null==i?null:i.SN),e.xp6(2),e.hij(" ",null==i?null:i.itemCode," "),e.xp6(2),e.Oqu(null==i?null:i.itemName),e.xp6(2),e.Oqu(null==i?null:i.itemDescription),e.xp6(2),e.Oqu(null==i?null:i.quantity1),e.xp6(2),e.Oqu(null==i?null:i.UOM1),e.xp6(3),e.Q6J("ngModel",i.MF)("ngModelOptions",e.DdM(11,m))("readonly","view"===n.action),e.xp6(2),e.Oqu(null==i?null:i.quantity2),e.xp6(2),e.Oqu(null==i?null:i.UOM2)}}function g(a,c){if(1&a){const i=e.EpF();e.TgZ(0,"div",48)(1,"button",49),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.reset())}),e._uU(2,"Reset"),e.qZA(),e.TgZ(3,"button",50),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dismissModel())}),e._uU(4,"Save & close"),e.qZA()()}}const f=function(a,c,i,n){return{page:a,pageSize:c,collection:i,search:n,excelDisplay:"none"}},T=function(){return["view"]};let u=(()=>{var a;class c{constructor(n,o,d,r){this.activeModal=n,this.spinner=o,this.toastService=d,this.modalService=r,this.sourceOfManufacturing="",this.inkLogNewBatch={},this.shiftOptions=[],this.action="",this.resetData=[],this.collection=0,this.page=1,this.pageSize=4,this.column="createdAt",this.direction=-1,this.search="",this.active=1,this.batchDateNo="",this.totalQty=0}trackByFn(n,o){return o?._id}ngOnInit(){this.resetData=JSON.parse(JSON.stringify(this.inkLogNewBatch)),this.collection=this.inkLogNewBatch.length,(0==this.inkLogNewBatch?.newBatch?.length||!this.inkLogNewBatch?.newBatch)&&this.toastService.warning("Please define the Bill of Material of the SKU"),this.totalQty=this.inkLogNewBatch?.newBatch?.reduce((n,o)=>+n+ +o.quantity1,0),this.inkLogNewBatch.inkBatchQty=+this.totalQty*+this.inkLogNewBatch?.MF}changeTotalBatchQty(){this.inkLogNewBatch.inkBatchQty=+(+this.totalQty*+this.inkLogNewBatch?.MF).toFixed(3),this.inkLogNewBatch.newBatch=this.inkLogNewBatch?.newBatch?.map(n=>(n.MF=+this.inkLogNewBatch?.MF,n.quantity2=+(n.quantity1*n.MF).toFixed(3),n))}changeBatchQty(n){let o=this.inkLogNewBatch.newBatch.map(d=>d.item).indexOf(n?.item);this.inkLogNewBatch.newBatch[o].quantity2=+(n.quantity1*n.MF).toFixed(3)}reset(){this.inkLogNewBatch=JSON.parse(JSON.stringify(this.resetData)),this.collection=this.inkLogNewBatch.length}dismissModel(){this.activeModal.close({inkLogNewBatch:this.inkLogNewBatch})}eventHeader(n){switch(n.key){case"SEARCH":this.search=n.value;break;case"EXCEL":default:break;case"PAGE":this.page=n.value}}openLogEntryModal(){const n=this.modalService.open(t.M,{centered:!0,size:"md",backdrop:"static",keyboard:!1});n.componentInstance.action=this.action,n.componentInstance.logDetails=this.inkLogNewBatch.logDetails,n.componentInstance.shiftOptions=this.shiftOptions,n.componentInstance.sourceOfManufacturing=this.sourceOfManufacturing,n.result.then(o=>{o&&(console.log("success",o),this.inkLogNewBatch.logDetails=o)},o=>{})}onSort({column:n,direction:o}){this.headers.forEach(d=>{d.sortable!==n&&(d.direction="")}),this.inkLogNewBatch=""===o||""===n?this.inkLogNewBatch:[...this.inkLogNewBatch].sort((d,r)=>{let U="string"==typeof d[n]?d[n].toLowerCase():d[n],A="string"==typeof r[n]?r[n].toLowerCase():r[n];const D=U<A?-1:U>A?1:0;return"asc"===o?D:-D})}}return(a=c).\u0275fac=function(n){return new(n||a)(e.Y36(v.Kz),e.Y36(M.V),e.Y36(M.kl),e.Y36(v.FF))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-ink-mixing-log-batch"]],viewQuery:function(n,o){if(1&n&&e.Gf(l.j,5),2&n){let d;e.iGM(d=e.CRH())&&(o.headers=d)}},inputs:{sourceOfManufacturing:"sourceOfManufacturing",inkLogNewBatch:"inkLogNewBatch",shiftOptions:"shiftOptions",action:"action"},decls:86,vars:26,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container-fluid","mt-4"],[1,"row","mb-2","px-4"],[1,"col-7"],[1,"row"],[1,"col-3"],[1,"form-label","mb-0"],["type","text","readonly","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-5","ps-2"],[1,"col-4","px-2"],[1,"col-5"],[1,"col-6"],[1,"col-7","ps-2"],["type","number","readonly","",1,"form-control","bg-white-smoke",3,"ngModel","ngModelChange"],["type","number",1,"form-control","form-control-sm",3,"ngModel","ngModelOptions","ngModelChange"],["type","number","readonly","",1,"form-control","bg-pink-color",3,"ngModel","ngModelChange"],[1,"row","mt-4"],[1,"col","px-0"],[1,"line-border","mb-0"],[1,"col-12","px-5"],[3,"data","dataChange"],[1,"table-responsive",2,"min-height","19.2rem"],[1,"table","table-bordered","table-sticky","mt-1"],[1,"bg-primary"],[1,"text-white"],["sortable","seq",3,"sort"],["sortable","specificationCode",3,"sort"],["sortable","characteristic",1,"text-start",3,"sort"],["sortable","testStandard",3,"sort"],["sortable","UOM",3,"sort"],["sortable","measuringInstrument",3,"sort"],["sortable","LTL",3,"sort"],["sortable","specValue",3,"sort"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"line-border","mt-0"],[1,"row","px-4","mb-3"],[1,"col-4"],[1,"plusIconSvg","btn","btn-primary","me-1"],["type","button",1,"btn","btn-primary","px-3","me-4",3,"click"],["class","col-8 d-flex justify-content-end",4,"ngIf"],[1,"bg-white-smoke"],[1,"d-flex","justify-content-center"],["type","number",1,"form-control","form-control-sm",3,"ngModel","ngModelOptions","readonly","ngModelChange"],[1,"bg-pink-color"],[1,"col-8","d-flex","justify-content-end"],["type","button",1,"btn","btn-primary","px-5","me-4",3,"click"],["type","button",1,"btn","btn-primary","px-4",3,"click"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Ink Mixing Log (Entry)"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return o.activeModal.close()}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),e._uU(13," F20 Ink Code "),e.qZA(),e.TgZ(14,"input",11),e.NdJ("ngModelChange",function(r){return o.inkLogNewBatch.colourCode=r}),e.qZA()(),e.TgZ(15,"div",12)(16,"label",10),e._uU(17," F20 Ink Name"),e.qZA(),e.TgZ(18,"input",11),e.NdJ("ngModelChange",function(r){return o.inkLogNewBatch.colourName=r}),e.qZA()(),e.TgZ(19,"div",13)(20,"label",10),e._uU(21," F20 Ink Description "),e.qZA(),e.TgZ(22,"input",11),e.NdJ("ngModelChange",function(r){return o.inkLogNewBatch.colourDescription=r}),e.qZA()()()(),e.TgZ(23,"div",14)(24,"div",8)(25,"div",15)(26,"div",8)(27,"div",14)(28,"label",10),e._uU(29," UoM "),e.qZA(),e.TgZ(30,"input",11),e.NdJ("ngModelChange",function(r){return o.inkLogNewBatch.UOM=r}),e.qZA()(),e.TgZ(31,"div",16)(32,"label",10),e._uU(33," M/Batch Total "),e.qZA(),e.TgZ(34,"input",17),e.NdJ("ngModelChange",function(r){return o.inkLogNewBatch.BOMQty=r}),e.qZA()()()(),e.TgZ(35,"div",15)(36,"div",8)(37,"div",12)(38,"label",10),e._uU(39," *MF "),e.qZA(),e.TgZ(40,"input",18),e.NdJ("ngModelChange",function(r){return o.inkLogNewBatch.MF=r})("ngModelChange",function(){return o.changeTotalBatchQty()}),e.qZA()(),e.TgZ(41,"div",16)(42,"label",10),e._uU(43," Batch Qty "),e.qZA(),e.TgZ(44,"input",19),e.NdJ("ngModelChange",function(r){return o.inkLogNewBatch.inkBatchQty=r}),e.qZA()()()()()()(),e.TgZ(45,"div",20)(46,"div",21),e._UZ(47,"hr",22),e.qZA()(),e.TgZ(48,"div",8)(49,"div",23)(50,"app-setting-header",24),e.NdJ("dataChange",function(r){return o.eventHeader(r)}),e.qZA(),e.TgZ(51,"div",25)(52,"table",26)(53,"thead",27)(54,"tr",28)(55,"th",29),e.NdJ("sort",function(r){return o.onSort(r)}),e._uU(56,"SN"),e.qZA(),e.TgZ(57,"th",30),e.NdJ("sort",function(r){return o.onSort(r)}),e._uU(58,"Item Code"),e.qZA(),e.TgZ(59,"th",31),e.NdJ("sort",function(r){return o.onSort(r)}),e._uU(60,"Item Name"),e.qZA(),e.TgZ(61,"th",31),e.NdJ("sort",function(r){return o.onSort(r)}),e._uU(62," Item Description "),e.qZA(),e.TgZ(63,"th",32),e.NdJ("sort",function(r){return o.onSort(r)}),e._uU(64,"Quantity"),e.qZA(),e.TgZ(65,"th",33),e.NdJ("sort",function(r){return o.onSort(r)}),e._uU(66,"UoM"),e.qZA(),e.TgZ(67,"th",34),e.NdJ("sort",function(r){return o.onSort(r)}),e._uU(68,"*MF"),e.qZA(),e.TgZ(69,"th",35),e.NdJ("sort",function(r){return o.onSort(r)}),e._uU(70,"Quantity"),e.qZA(),e.TgZ(71,"th",36),e.NdJ("sort",function(r){return o.onSort(r)}),e._uU(72,"UoM"),e.qZA()()(),e.TgZ(73,"tbody"),e.YNc(74,p,20,12,"tr",37),e.ALo(75,"slice"),e.ALo(76,"searchFi1ter"),e.qZA()()()()(),e.TgZ(77,"div",20)(78,"div",21),e._UZ(79,"hr",38),e.qZA()(),e.TgZ(80,"div",39)(81,"div",40),e._UZ(82,"button",41),e.TgZ(83,"button",42),e.NdJ("click",function(){return o.openLogEntryModal()}),e._uU(84,"Log Entry"),e.qZA()(),e.YNc(85,g,5,0,"div",43),e.qZA()()()),2&n&&(e.xp6(14),e.Q6J("ngModel",o.inkLogNewBatch.colourCode),e.xp6(4),e.Q6J("ngModel",o.inkLogNewBatch.colourName),e.xp6(4),e.Q6J("ngModel",o.inkLogNewBatch.colourDescription),e.xp6(8),e.Q6J("ngModel",o.inkLogNewBatch.UOM),e.xp6(4),e.Q6J("ngModel",o.inkLogNewBatch.BOMQty),e.xp6(6),e.Q6J("ngModel",o.inkLogNewBatch.MF)("ngModelOptions",e.DdM(19,m)),e.xp6(4),e.Q6J("ngModel",o.inkLogNewBatch.inkBatchQty),e.xp6(6),e.Q6J("data",e.l5B(20,f,o.page,o.pageSize,o.collection,o.search)),e.xp6(24),e.Q6J("ngForOf",e.Dn7(75,12,e.xi3(76,16,o.inkLogNewBatch.newBatch,o.search),(o.page-1)*o.pageSize,(o.page-1)*o.pageSize+o.pageSize))("ngForTrackBy",o.trackByFn),e.xp6(11),e.Q6J("ngIf",!e.DdM(25,T).includes(o.action)))},dependencies:[b.sg,b.O5,C.P,_.Fj,_.wV,_.JJ,_.On,l.j,b.OU,h.G],encapsulation:2}),c})()},32183:(y,Z,s)=>{s.d(Z,{M:()=>C});var l=s(60095),t=s(65879),e=s(37285),v=s(99328),M=s(50363);const b=function(){return["view","approve","reject"]};let C=(()=>{var _;class h{get f(){return this.form.controls}constructor(p,g){this.activeModal=p,this.utilityService=g,this.logDetails={},this.action="",this.sourceOfManufacturing="",this.shiftOptions=[],this.form=new l.nJ({prodSource:new l.p4(null),prodShift:new l.p4(null),prodDate:new l.p4(null),operatingStaff:new l.p4(null),remarks:new l.p4(null),authorizedBy:new l.p4(null)})}ngOnInit(){this.logDetails?.prodDate&&(this.logDetails.prodDate=this.utilityService.getFormatDate(this.logDetails?.prodDate,"YYYY-MM-DD")),this.form.patchValue(this.logDetails),["view","approve","reject"].includes(this.action)&&this.form.disable(),this.f.prodSource.value||this.f.prodSource.setValue(this.sourceOfManufacturing??"Inhouse")}dismissModel(){this.activeModal.close(this.form.value)}}return(_=h).\u0275fac=function(p){return new(p||_)(t.Y36(e.Kz),t.Y36(v.tI))},_.\u0275cmp=t.Xpm({type:_,selectors:[["app-screen-making-log-entry"]],inputs:{logDetails:"logDetails",action:"action",sourceOfManufacturing:"sourceOfManufacturing",shiftOptions:"shiftOptions"},decls:51,vars:5,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,""],[3,"formGroup"],[1,"row","my-4","px-5"],[1,"col-6"],[1,"form-label","mb-1"],[1,"text-danger"],["type","text","formControlName","prodSource","readonly","",1,"form-control","bg-white-smoke"],["type","date","formControlName","prodDate",1,"form-control"],[1,"row","px-5","mb-4"],["bindValue","parameterName","bindLabel","parameterLabel","formControlName","prodShift",3,"items","clearable"],["type","text","formControlName","operatingStaff",1,"form-control"],[1,"row","px-5"],[1,"col-12"],["type","text","formControlName","remarks",1,"form-control"],[1,"line-border","my-4"],[1,"col-8"],[1,"d-flex","align-items-center"],[1,"col-form-label","text-nowrap"],[1,"fa","fa-caret-right","fs-3","mx-2"],["type","text","formControlName","authorizedBy",1,"form-control"],[1,"col-4","ps-0","d-flex","justify-content-end"],[1,"mb-4"],["type","button",1,"btn","bg-primary","px-2",3,"disabled","click"]],template:function(p,g){1&p&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Log Entry"),t.qZA(),t.TgZ(4,"div")(5,"button",3),t.NdJ("click",function(){return g.activeModal.close()}),t._UZ(6,"i",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"form",6),t.ynx(9),t.TgZ(10,"div",7)(11,"div",8)(12,"label",9),t._uU(13," Prod. Source "),t._UZ(14,"span",10),t.qZA(),t._UZ(15,"input",11),t.qZA(),t.TgZ(16,"div",8)(17,"label",9),t._uU(18," Prod. Date "),t._UZ(19,"span",10),t.qZA(),t._UZ(20,"input",12),t.qZA()(),t.TgZ(21,"div",13)(22,"div",8)(23,"label",9),t._uU(24,"Production Shift "),t._UZ(25,"span",10),t.qZA(),t._UZ(26,"ng-select",14),t.qZA(),t.TgZ(27,"div",8)(28,"label",9),t._uU(29," Operating Staff"),t._UZ(30,"span",10),t.qZA(),t._UZ(31,"input",15),t.qZA()(),t.TgZ(32,"div",16)(33,"div",17)(34,"label",9),t._uU(35,"Remarks "),t._UZ(36,"span",10),t.qZA(),t._UZ(37,"input",18),t.qZA()(),t.BQk(),t._UZ(38,"hr",19),t.TgZ(39,"div",16)(40,"div",20)(41,"div",21)(42,"div",22),t._uU(43," Authorised by "),t._UZ(44,"i",23),t.qZA(),t.TgZ(45,"div",5),t._UZ(46,"input",24),t.qZA()()(),t.TgZ(47,"div",25)(48,"div",26)(49,"button",27),t.NdJ("click",function(){return g.dismissModel()}),t._uU(50," Save & Close "),t.qZA()()()()()()()),2&p&&(t.xp6(8),t.Q6J("formGroup",g.form),t.xp6(18),t.Q6J("items",g.shiftOptions)("clearable",!1),t.xp6(23),t.Q6J("disabled",t.DdM(4,b).includes(g.action)))},dependencies:[l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,M.w9],encapsulation:2}),h})()},62305:(y,Z,s)=>{s.d(Z,{c:()=>C});var l=s(60095),t=s(65879),e=s(37285),v=s(99328),M=s(50363);const b=function(){return["view","approve","reject"]};let C=(()=>{var _;class h{get f(){return this.form.controls}constructor(p,g){this.activeModal=p,this.utilityService=g,this.logDetails={},this.action="",this.sourceOfManufacturing="",this.shiftOptions=[],this.form=new l.nJ({prodSource:new l.p4(null),prodShift:new l.p4(null),prodDate:new l.p4(null),operatingStaff:new l.p4(null),remarks:new l.p4(null),authorizedBy:new l.p4(null)})}ngOnInit(){this.logDetails.prodDate&&(this.logDetails.prodDate=this.utilityService.getFormatDate(this.logDetails?.prodDate,"YYYY-MM-DD")),this.form.patchValue(this.logDetails),["view","approve","reject"].includes(this.action)&&this.form.disable(),this.f.prodSource.value||this.f.prodSource.setValue(this.sourceOfManufacturing??"Inhouse")}dismissModel(){this.activeModal.close(this.form.value)}}return(_=h).\u0275fac=function(p){return new(p||_)(t.Y36(e.Kz),t.Y36(v.tI))},_.\u0275cmp=t.Xpm({type:_,selectors:[["app-screen-printing-log-entry"]],inputs:{logDetails:"logDetails",action:"action",sourceOfManufacturing:"sourceOfManufacturing",shiftOptions:"shiftOptions"},decls:51,vars:5,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,""],[3,"formGroup"],[1,"row","my-4","px-5"],[1,"col-6"],[1,"form-label","mb-1"],[1,"text-danger"],["type","text","formControlName","prodSource","readonly","",1,"form-control","bg-white-smoke"],["type","date","formControlName","prodDate",1,"form-control"],[1,"row","px-5","mb-4"],["bindValue","parameterName","bindLabel","parameterLabel","formControlName","prodShift",3,"items","clearable"],["type","text","formControlName","operatingStaff",1,"form-control"],[1,"row","px-5"],[1,"col-12"],["type","text","formControlName","remarks",1,"form-control"],[1,"line-border","my-4"],[1,"col-8"],[1,"d-flex","align-items-center"],[1,"col-form-label","text-nowrap"],[1,"fa","fa-caret-right","fs-3","mx-2"],["type","text","formControlName","authorizedBy",1,"form-control"],[1,"col-4","ps-0","d-flex","justify-content-end"],[1,"mb-4"],["type","button",1,"btn","bg-primary","px-2",3,"disabled","click"]],template:function(p,g){1&p&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Log Entry"),t.qZA(),t.TgZ(4,"div")(5,"button",3),t.NdJ("click",function(){return g.activeModal.close()}),t._UZ(6,"i",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"form",6),t.ynx(9),t.TgZ(10,"div",7)(11,"div",8)(12,"label",9),t._uU(13," Prod. Source "),t._UZ(14,"span",10),t.qZA(),t._UZ(15,"input",11),t.qZA(),t.TgZ(16,"div",8)(17,"label",9),t._uU(18," Prod. Date "),t._UZ(19,"span",10),t.qZA(),t._UZ(20,"input",12),t.qZA()(),t.TgZ(21,"div",13)(22,"div",8)(23,"label",9),t._uU(24,"Production Shift "),t._UZ(25,"span",10),t.qZA(),t._UZ(26,"ng-select",14),t.qZA(),t.TgZ(27,"div",8)(28,"label",9),t._uU(29," Operating Staff"),t._UZ(30,"span",10),t.qZA(),t._UZ(31,"input",15),t.qZA()(),t.TgZ(32,"div",16)(33,"div",17)(34,"label",9),t._uU(35,"Remarks "),t._UZ(36,"span",10),t.qZA(),t._UZ(37,"input",18),t.qZA()(),t.BQk(),t._UZ(38,"hr",19),t.TgZ(39,"div",16)(40,"div",20)(41,"div",21)(42,"div",22),t._uU(43," Authorised by "),t._UZ(44,"i",23),t.qZA(),t.TgZ(45,"div",5),t._UZ(46,"input",24),t.qZA()()(),t.TgZ(47,"div",25)(48,"div",26)(49,"button",27),t.NdJ("click",function(){return g.dismissModel()}),t._uU(50," Save & Close "),t.qZA()()()()()()()),2&p&&(t.xp6(8),t.Q6J("formGroup",g.form),t.xp6(18),t.Q6J("items",g.shiftOptions)("clearable",!1),t.xp6(23),t.Q6J("disabled",t.DdM(4,b).includes(g.action)))},dependencies:[l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,M.w9],encapsulation:2}),h})()},65468:(y,Z,s)=>{s.d(Z,{o:()=>b});var l=s(43818),t=s(65879),e=s(37285),v=s(99328),M=s(60095);let b=(()=>{var C;class _{constructor(m,p,g){this.activeModal=m,this.utilityService=p,this.toastService=g,this.inventoryItemsAmounts=0,this.GTInputQuantity=0,this.itemDetails={}}ngOnInit(){}setGTQty(){if("RL"==this.itemDetails.UOM||"SHT"==this.itemDetails.UOM){let m=0;if(this.itemDetails?.primaryToSecondaryConversion&&(m=+(+this.GTInputQuantity*+this.itemDetails.primaryToSecondaryConversion).toFixed(2)),+m>this.inventoryItemsAmounts)return this.toastService.warning("GT Input Quantity Should not be greater than Total Inventory Qty. !"),void(this.GTInputQuantity=0)}else if(this.GTInputQuantity>this.inventoryItemsAmounts)return this.toastService.warning("GT Input Quantity Should not be greater than Total Inventory Qty. !"),void(this.GTInputQuantity=0)}dismissModel(){this.GTInputQuantity?this.activeModal.close(this.GTInputQuantity):this.toastService.warning("Please Fill GT Input Quantity Qty. !")}}return(C=_).\u0275fac=function(m){return new(m||C)(t.Y36(e.Kz),t.Y36(v.tI),t.Y36(v.kl))},C.\u0275cmp=t.Xpm({type:C,selectors:[["app-add-on-gtqty-modal"]],viewQuery:function(m,p){if(1&m&&t.Gf(l.j,5),2&m){let g;t.iGM(g=t.CRH())&&(p.headers=g)}},inputs:{inventoryItemsAmounts:"inventoryItemsAmounts",GTInputQuantity:"GTInputQuantity",itemDetails:"itemDetails"},decls:26,vars:1,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container-fluid","px-0","mt-4"],[1,"row","justify-content-center","px-5","mt-4"],[1,"col-12"],[1,"row","mt-4"],[1,"col-5","pe-0"],[1,"form-label"],[1,"text-danger"],[1,"col-1","px-2","d-flex","align-items-center","justify-content-start"],[1,"ms-1","me-2","text-secondary"],[1,"col-6","ps-0","setInputMargin"],["type","number",1,"form-control",3,"ngModel","ngModelChange","input"],[1,"line-border","my-4"],[1,"row"],[1,"col","text-center","mb-4"],["type","button",1,"btn","bg-primary","px-5",3,"click"]],template:function(m,p){1&m&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Add Additional Quantity"),t.qZA(),t.TgZ(4,"div")(5,"button",3),t.NdJ("click",function(){return p.activeModal.close()}),t._UZ(6,"i",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),t._uU(13,"GT Qty"),t.TgZ(14,"span",11),t._uU(15," * "),t.qZA()()(),t.TgZ(16,"div",12)(17,"span",13),t._uU(18,"\u25b6"),t.qZA()(),t.TgZ(19,"div",14)(20,"input",15),t.NdJ("ngModelChange",function(f){return p.GTInputQuantity=f})("input",function(){return p.setGTQty()}),t.qZA()()()()(),t._UZ(21,"hr",16),t.TgZ(22,"div",17)(23,"div",18)(24,"button",19),t.NdJ("click",function(){return p.dismissModel()}),t._uU(25,"Save & Close"),t.qZA()()()()()),2&m&&(t.xp6(20),t.Q6J("ngModel",p.GTInputQuantity))},dependencies:[M.Fj,M.wV,M.JJ,M.On],encapsulation:2}),_})()},67916:(y,Z,s)=>{s.d(Z,{I:()=>v});var l=s(37398),t=s(65879),e=s(99328);let v=(()=>{var M;class b{constructor(_){this.http=_,this.routes={createOrUpdatePath:"/production/inkMixingLog/createOrUpdate",getAllPath:"/production/inkMixingLog/getAll",getAllMasterDataPath:"/production/inkMixingLog/getAllMasterData",getByIdPath:h=>`/production/inkMixingLog/getById/${h}`}}createOrUpdate(_){return this.http.post(this.routes.createOrUpdatePath,_).pipe((0,l.U)(h=>h))}getAll(_){return this.http.get(this.routes.getAllPath,_).pipe((0,l.U)(h=>h))}getAllMasterData(_){return this.http.get(this.routes.getAllMasterDataPath,_).pipe((0,l.U)(h=>h))}getById(_){return this.http.get(this.routes.getByIdPath(_)).pipe((0,l.U)(h=>h))}}return(M=b).\u0275fac=function(_){return new(_||M)(t.LFG(e.sM))},M.\u0275prov=t.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),b})()}}]);