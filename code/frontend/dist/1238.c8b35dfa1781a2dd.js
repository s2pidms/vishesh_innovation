"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[1238],{9202:(D,T,n)=>{n.d(T,{K:()=>c});var f=n(43818),t=n(65879),u=n(37285),k=n(96814),A=n(88059),M=n(95346);function N(d,p){if(1&d){const i=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",24,25)(5,"span",26),t._uU(6),t.qZA()(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td")(16,"input",27),t.NdJ("change",function(){const C=t.CHM(i).$implicit,y=t.oxw();return t.KtG(y.setSelectData(C))}),t.qZA()()()}if(2&d){const i=p.$implicit,_=p.index,l=t.MAs(4),C=t.oxw();t.xp6(2),t.Oqu(null==i?null:i.value),t.xp6(1),t.Udp("width",l.clientWidth),t.xp6(2),t.Q6J("positionTarget",l)("ngbTooltip",i.goodsDescription),t.xp6(1),t.hij(" ",null==i?null:i.goodsDescription," "),t.xp6(2),t.Oqu(null==i?null:i.gstRate),t.xp6(2),t.Oqu(null==i?null:i.igstRate),t.xp6(2),t.Oqu(null==i?null:i.cgstRate),t.xp6(2),t.Oqu(null==i?null:i.sgstRate),t.xp6(2),t.MGl("name","formValue",C.HSNCodeArr[_],""),t.Q6J("disabled","view"==C.action)("checked",i.select)}}function b(d,p){1&d&&t._UZ(0,"hr",32)}function e(d,p){if(1&d){const i=t.EpF();t.TgZ(0,"div",33)(1,"button",34),t.NdJ("click",function(){t.CHM(i);const l=t.oxw(2);return t.KtG(l.dismissModel())}),t._uU(2," Save & Close "),t.qZA()()}}const H=function(){return["create"]};function v(d,p){if(1&d&&(t.ynx(0),t.TgZ(1,"div",28)(2,"div",29),t.YNc(3,b,1,0,"hr",30),t.qZA()(),t.YNc(4,e,3,0,"div",31),t.BQk()),2&d){const i=t.oxw();t.xp6(3),t.Q6J("ngIf",t.DdM(2,H).includes(i.action)),t.xp6(1),t.Q6J("ngIf",t.DdM(3,H).includes(i.action))}}function O(d,p){1&d&&t._UZ(0,"hr",32)}function S(d,p){if(1&d){const i=t.EpF();t.TgZ(0,"div",33)(1,"button",34),t.NdJ("click",function(){t.CHM(i);const l=t.oxw(2);return t.KtG(l.dismissModel())}),t._uU(2," Save & Close "),t.qZA()()}}const q=function(){return["view"]};function a(d,p){if(1&d&&(t.ynx(0),t.TgZ(1,"div",28)(2,"div",29),t.YNc(3,O,1,0,"hr",30),t.qZA()(),t.YNc(4,S,3,0,"div",31),t.BQk()),2&d){const i=t.oxw();t.xp6(3),t.Q6J("ngIf",!t.DdM(2,q).includes(i.action)),t.xp6(1),t.Q6J("ngIf",!t.DdM(3,q).includes(i.action))}}const h=function(d,p,i,_){return{page:d,pageSize:p,collection:i,search:_,excelDisplay:"none"}};let c=(()=>{class d{constructor(i){this.activeModal=i,this.action="edit",this.HSNValue="",this.HSNCode="",this.editScreen="",this.HSNCodeArr=[],this.btnDisable=!1,this.page=1,this.pageSize=9,this.collection=0,this.search="",this.column="createdAt",this.direction=-1,this.HSNSelect=null,this.HSNSelectCode=null}ngOnInit(){(this.HSNValue||this.HSNCode)&&(this.HSNSelect=this.HSNValue,this.HSNSelectCode=this.HSNCode,this.HSNCodeArr=this.HSNCodeArr.map(i=>(i.select=!1,i.value==this.HSNCode&&(i.select=!0),i))),this.collection=this.HSNCodeArr.length}setSelectData(i){this.HSNSelect=i?._id,this.HSNSelectCode=i?.value}dismissModel(){let i={};i.HSNSelect=this.HSNSelect,i.HSNSelectCode=this.HSNSelectCode,this.activeModal.close(i)}eventHeader(i){switch(i.key){case"SEARCH":this.search=i.value;break;case"EXCEL":default:break;case"PAGE":this.page=i.value}}onSort({column:i,direction:_}){this.headers.forEach(l=>{l.sortable!==i&&(l.direction="")}),this.HSNCodeArr=""===_||""===i?this.HSNCodeArr:[...this.HSNCodeArr].sort((l,C)=>{let y="string"==typeof l[i]?l[i].toLowerCase():l[i],I="string"==typeof C[i]?C[i].toLowerCase():C[i];const U=y<I?-1:y>I?1:0;return"asc"===_?U:-U})}static#e=this.\u0275fac=function(_){return new(_||d)(t.Y36(u.Kz))};static#t=this.\u0275cmp=t.Xpm({type:d,selectors:[["app-ink-hsn-modal"]],viewQuery:function(_,l){if(1&_&&t.Gf(f.j,5),2&_){let C;t.iGM(C=t.CRH())&&(l.headers=C)}},inputs:{action:"action",HSNValue:"HSNValue",HSNCode:"HSNCode",editScreen:"editScreen",HSNCodeArr:"HSNCodeArr"},decls:37,vars:16,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,""],[1,"container-fluid"],[1,"row","justify-content-center"],[1,"col-12","px-0","mt-4"],[1,"px-5","mt-0"],[3,"data","dataChange"],[1,"table-responsive","px-5",2,"min-height","33rem"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],["sortable","value",3,"sort"],["sortable","goodsDescription",1,"text-start",3,"sort"],["sortable","gstRate",3,"sort"],["sortable","igstRate",3,"sort"],["sortable","cgstRate",3,"sort"],["sortable","sgstRate",3,"sort"],["sortable","UOM",3,"sort"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-start"],["goodsDescription",""],[1,"pointer",3,"positionTarget","ngbTooltip"],["type","radio",1,"form-check-input","pointer",3,"disabled","name","checked","change"],[1,"row"],[1,"col","px-0","mb-3"],["class","line-border",4,"ngIf"],["class","text-center mb-2",4,"ngIf"],[1,"line-border"],[1,"text-center","mb-2"],["type","button",1,"btn","bg-primary","px-5","mb-4",3,"click"]],template:function(_,l){1&_&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"HSN Master"),t.qZA(),t.TgZ(4,"div")(5,"button",3),t.NdJ("click",function(){return l.activeModal.close()}),t._UZ(6,"i",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"app-setting-header",10),t.NdJ("dataChange",function(y){return l.eventHeader(y)}),t.qZA()(),t.TgZ(13,"div",11)(14,"table",12)(15,"thead",13)(16,"tr",14)(17,"th",15),t.NdJ("sort",function(y){return l.onSort(y)}),t._uU(18,"HSN Code"),t.qZA(),t.TgZ(19,"th",16),t.NdJ("sort",function(y){return l.onSort(y)}),t._uU(20," Description of Goods "),t.qZA(),t.TgZ(21,"th",17),t.NdJ("sort",function(y){return l.onSort(y)}),t._uU(22,"GST Rate %"),t.qZA(),t.TgZ(23,"th",18),t.NdJ("sort",function(y){return l.onSort(y)}),t._uU(24,"IGST Rate %"),t.qZA(),t.TgZ(25,"th",19),t.NdJ("sort",function(y){return l.onSort(y)}),t._uU(26,"CGST Rate %"),t.qZA(),t.TgZ(27,"th",20),t.NdJ("sort",function(y){return l.onSort(y)}),t._uU(28,"SGST Rate %"),t.qZA(),t.TgZ(29,"th",21),t.NdJ("sort",function(y){return l.onSort(y)}),t._uU(30,"Select"),t.qZA()()(),t.TgZ(31,"tbody"),t.YNc(32,N,17,13,"tr",22),t.ALo(33,"slice"),t.ALo(34,"searchFi1ter"),t.qZA()()()()(),t.YNc(35,v,5,4,"ng-container",23),t.YNc(36,a,5,4,"ng-container",23),t.qZA()()()),2&_&&(t.xp6(12),t.Q6J("data",t.l5B(11,h,l.page,l.pageSize,l.collection,l.search)),t.xp6(20),t.Q6J("ngForOf",t.Dn7(33,4,t.xi3(34,8,l.HSNCodeArr,l.search),(l.page-1)*l.pageSize,(l.page-1)*l.pageSize+l.pageSize)),t.xp6(3),t.Q6J("ngIf","Edit Screen"!=l.editScreen),t.xp6(1),t.Q6J("ngIf","Edit Screen"==l.editScreen))},dependencies:[k.sg,k.O5,A.P,u._L,f.j,k.OU,M.G],encapsulation:2})}return d})()},62373:(D,T,n)=>{n.r(T),n.d(T,{MapCategoryHsnModule:()=>K});var f=n(96814),t=n(1076),u=n(60095),k=n(21631),A=n(22096),M=n(4092),N=n(9202),b=n(6244),e=n(65879),H=n(59840),v=n(99328),O=n(16897),S=n(37285),q=n(50363);function a(m,Z){if(1&m&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&m){const s=Z.$implicit;e.Q6J("value",s.parameterName),e.xp6(1),e.hij(" ",s.parameterLabel," ")}}function h(m,Z){1&m&&e._UZ(0,"div",34)}function c(m,Z){1&m&&e._UZ(0,"div",35)}function d(m,Z){1&m&&e._UZ(0,"hr",36)}const p=function(m){return{"d-none":m}};function i(m,Z){if(1&m){const s=e.EpF();e.TgZ(0,"div",37)(1,"div",38)(2,"button",39),e.NdJ("click",function(){e.CHM(s);const r=e.oxw();return e.KtG(r.reset())}),e._uU(3,"Reset"),e.qZA()(),e.TgZ(4,"div",40)(5,"button",39),e.NdJ("click",function(){e.CHM(s);const r=e.oxw();return e.KtG(r.submit())}),e._uU(6,"Save"),e.qZA()()()}if(2&m){const s=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(2,p,"View"==s.action)),e.xp6(3),e.Q6J("ngClass",e.VKq(4,p,"View"==s.action))}}let _=(()=>{class m{constructor(s,o,r,g,R,E,x,P){this.mapCategoryHSNService=s,this.activatedRoute=o,this.spinner=r,this.toastService=g,this.validationService=R,this.modalService=E,this.utilityService=x,this.location=P,this.submitted=!1,this.action="create",this.masterData={autoIncrementNo:"",productCategoriesOptions:[],salesHSNList:[],colourCodeJCOptions:[]},this.form=new u.nJ({_id:new u.p4(null),hsnMapCategoryCode:new u.p4(null),productCategory:new u.p4(null,[u.kI.required]),HSN:new u.p4(null,[u.kI.required]),HSNCode:new u.p4(null),colourName:new u.p4(null),status:new u.p4("Active"),description:new u.p4(null,[u.kI.required]),igstRate:new u.p4(null,[u.kI.required]),sgstRate:new u.p4(null,[u.kI.required]),cgstRate:new u.p4(null,[u.kI.required]),ugstRate:new u.p4(null)})}ngOnInit(){this.getInitialData()}submit(){if(this.submitted=!0,this.validationService.checkErrors(this.form,M.Nj))return;let s=this.form.value;s._id?this.update(s):(delete s._id,this.create(s))}update(s){this.spinner.show(),this.mapCategoryHSNService.update(s._id,s).subscribe(o=>{this.spinner.hide(),this.submitted=!1,this.toastService.success(o.message),this.location.back()})}create(s){this.spinner.show(),this.mapCategoryHSNService.create(s).subscribe(o=>{this.submitted=!1,this.spinner.hide(),this.toastService.success(o.message),this.location.back()})}reset(){this.form.reset(),this.getInitialData()}getInitialData(){this.spinner.show(),this.mapCategoryHSNService.getAllMasterData({}).subscribe(s=>{this.masterData=s,this.form.controls.hsnMapCategoryCode.setValue(this.masterData?.autoIncrementNo),this.form.controls.status.setValue("Active"),this.activatedRoute.queryParams.pipe((0,k.z)(o=>(this.action=o.action,this.utilityService.accessDenied(this.action),o.id?this.mapCategoryHSNService.getById(o.id):(0,A.of)({})))).subscribe(o=>{this.spinner.hide(),0!=Object.keys(o).length&&(this.form.patchValue(o),"edit"!=this.action&&this.form.disable())})})}setHSNCode(){let s=this.masterData?.salesHSNList.find(o=>o.hsnCode==this.form.controls.HSNCode.value.trim());this.form.controls.HSN.setValue(s?._id),this.form.controls.description.setValue(s?.goodsDescription),this.form.controls.igstRate.setValue(s?.igstRate),this.form.controls.sgstRate.setValue(s?.sgstRate),this.form.controls.cgstRate.setValue(s?.cgstRate),this.form.controls.ugstRate.setValue(s?.ugstRate)}openFormulationHSNModal(){const s=this.modalService.open(N.K,{centered:!0,size:"xl",backdrop:"static",keyboard:!1});s.componentInstance.action=this.action,s.componentInstance.HSNCodeArr=this.masterData?.salesHSNList,s.componentInstance.editScreen="Edit Screen",s.componentInstance.HSNCode=this.form.controls.HSNCode.value,s.result.then(o=>{o&&(this.form.controls.HSNCode.setValue(o?.HSNSelectCode),this.setHSNCode())},o=>{})}openProductCategoryModal(){const s=this.modalService.open(b.Z,{centered:!0,size:"xl",backdrop:"static",keyboard:!1});s.componentInstance.action=this.action,s.componentInstance.productCategoryList=this.masterData?.productCategoriesOptions,s.componentInstance.productCategory=this.form.controls.productCategory.value,s.result.then(o=>{o&&this.form.controls.productCategory.setValue(o?.selectedProductCategory)},o=>{})}static#e=this.\u0275fac=function(o){return new(o||m)(e.Y36(H.Hd),e.Y36(t.gz),e.Y36(v.V),e.Y36(v.kl),e.Y36(O.RJ),e.Y36(S.FF),e.Y36(v.tI),e.Y36(f.Ye))};static#t=this.\u0275cmp=e.Xpm({type:m,selectors:[["app-map-category-hsn-form"]],decls:79,vars:14,consts:[[1,"formCard","card",3,"formGroup"],[1,"set-remaining-margin"],[1,"row","form-header"],[1,"col","heading"],[1,"form-body"],[1,"row"],[1,"col-md-3","pe-5"],[1,"form-label","mb-1"],[1,"text-danger"],[1,"d-flex","align-items-center"],[1,"col-11"],["bindLabel","label","bindValue","value","formControlName","productCategory",3,"items","clearable"],["id","basic-addon1",1,"input-group-text","bg-primary","pointer","fs-4","col-auto",2,"height","2.9rem",3,"click"],["aria-hidden","true",1,"fa","fa-search","text-white"],[1,"col-md-3"],[1,"flex-grow-1"],["bindLabel","hsnCode","bindValue","hsnCode","formControlName","HSNCode",3,"items","clearable","change"],["id","basic-addon1",1,"input-group-text","bg-primary","pointer",2,"height","2.9rem",3,"click"],["formControlName","colourName",1,"form-select"],["selected","","disabled","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","description","readonly","",1,"form-control"],["type","number","formControlName","igstRate","readonly","",1,"form-control"],["type","number","formControlName","cgstRate","readonly","",1,"form-control"],["type","number","formControlName","sgstRate","readonly","",1,"form-control"],[1,"d-flex","inputGroup","skuForm"],["formControlName","status",1,"form-select","statusSelectBorder"],[3,"value"],[1,"input-group-text","bg-white"],[1,"col-md-auto","my-4","align-self-center"],["class","statusActive",4,"ngIf"],["class","statusInActive",4,"ngIf"],["class","row line-border",4,"ngIf"],["class","d-flex justify-content-center mb-3",4,"ngIf"],[1,"statusActive"],[1,"statusInActive"],[1,"row","line-border"],[1,"d-flex","justify-content-center","mb-3"],[1,"d-grid","col-md-1","mx-5",3,"ngClass"],["type","button",1,"btn","btn-primary",3,"click"],[1,"d-grid","col-md-1",3,"ngClass"]],template:function(o,r){1&o&&(e.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label"),e._uU(5,"Map Category HSN"),e.qZA()()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),e._uU(10," Product Category "),e.TgZ(11,"span",8),e._uU(12,"*"),e.qZA()(),e.TgZ(13,"div",9)(14,"div",10),e._UZ(15,"ng-select",11),e.qZA(),e.TgZ(16,"div",12),e.NdJ("click",function(){return r.openProductCategoryModal()}),e._UZ(17,"i",13),e.qZA()()(),e.TgZ(18,"div",14)(19,"label",7),e._uU(20," HSN Code "),e.TgZ(21,"span",8),e._uU(22,"*"),e.qZA()(),e.TgZ(23,"div",9)(24,"div",15)(25,"ng-select",16),e.NdJ("change",function(){return r.setHSNCode()}),e.qZA()(),e.TgZ(26,"div",17),e.NdJ("click",function(){return r.openFormulationHSNModal()}),e._UZ(27,"i",13),e.qZA()()(),e.TgZ(28,"div",14)(29,"label",7),e._uU(30," Colour Name/Code "),e.qZA(),e.TgZ(31,"select",18)(32,"option",19),e._uU(33,"Select Colour Name"),e.qZA(),e.YNc(34,a,2,2,"option",20),e.qZA()(),e.TgZ(35,"div",14)(36,"label",7),e._uU(37,"Description "),e.TgZ(38,"span",8),e._uU(39,"*"),e.qZA()(),e._UZ(40,"input",21),e.qZA()(),e.TgZ(41,"div",5)(42,"div",14)(43,"label",7),e._uU(44,"IGST % "),e.TgZ(45,"span",8),e._uU(46,"*"),e.qZA()(),e._UZ(47,"input",22),e.qZA(),e.TgZ(48,"div",14)(49,"label",7),e._uU(50,"CGST % "),e.TgZ(51,"span",8),e._uU(52,"*"),e.qZA()(),e._UZ(53,"input",23),e.qZA(),e.TgZ(54,"div",14)(55,"label",7),e._uU(56,"SGST % "),e.TgZ(57,"span",8),e._uU(58,"*"),e.qZA()(),e._UZ(59,"input",24),e.qZA(),e.TgZ(60,"div",14)(61,"label",7),e._uU(62," Status "),e.TgZ(63,"span",8),e._uU(64,"*"),e.qZA()(),e.TgZ(65,"div",25)(66,"select",26)(67,"option",19),e._uU(68,"Select Status"),e.qZA(),e.TgZ(69,"option",27),e._uU(70,"Active"),e.qZA(),e.TgZ(71,"option",27),e._uU(72,"Inactive"),e.qZA()(),e.TgZ(73,"div",28)(74,"div",29),e.YNc(75,h,1,0,"div",30),e.YNc(76,c,1,0,"div",31),e.qZA()()()()()(),e.YNc(77,d,1,0,"hr",32),e.YNc(78,i,7,6,"div",33),e.qZA()()),2&o&&(e.Q6J("formGroup",r.form),e.xp6(15),e.Q6J("items",r.masterData.productCategoriesOptions)("clearable",!1),e.xp6(10),e.Q6J("items",r.masterData.salesHSNList)("clearable",!1),e.xp6(7),e.Q6J("value",null),e.xp6(2),e.Q6J("ngForOf",null==r.masterData?null:r.masterData.colourCodeJCOptions),e.xp6(33),e.Q6J("value",null),e.xp6(2),e.Q6J("value","Active"),e.xp6(2),e.Q6J("value","Inactive"),e.xp6(4),e.Q6J("ngIf","Active"==r.form.value.status),e.xp6(1),e.Q6J("ngIf","Inactive"==r.form.value.status),e.xp6(1),e.Q6J("ngIf","view"!==r.action),e.xp6(1),e.Q6J("ngIf","view"!==r.action))},dependencies:[f.mk,f.sg,f.O5,u._Y,u.YN,u.Kr,u.Fj,u.wV,u.EJ,u.JJ,u.JL,u.sg,u.u,q.w9],styles:[".fa[_ngcontent-%COMP%]{font-size:1.6rem!important}"]})}return m})();var l=n(43818),C=n(25116),y=n(66558),I=n(77609),U=n(88059),F=n(53421);function J(m,Z){if(1&m){const s=e.EpF();e.TgZ(0,"a",28),e.NdJ("click",function(){e.CHM(s);const r=e.oxw().$implicit,g=e.oxw();return e.KtG(g.openConfirmModal(null==r?null:r._id,null==r?null:r.HSNCode))}),e._UZ(1,"i",29),e._uU(2," Delete "),e.qZA()}}function L(m,Z){if(1&m){const s=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"div",20),e._UZ(7,"div"),e.qZA()(),e.TgZ(8,"td"),e._uU(9),e.ALo(10,"number"),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"number"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.ALo(16,"number"),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.ALo(19,"number"),e.qZA(),e.TgZ(20,"td")(21,"div",21),e._UZ(22,"button",22),e.TgZ(23,"div",23)(24,"a",24),e.NdJ("click",function(){const g=e.CHM(s).$implicit,R=e.oxw();return e.KtG(R.navigateTo("../form",null==g?null:g._id,"view"))}),e._UZ(25,"i",25),e._uU(26," View "),e.qZA(),e.TgZ(27,"a",24),e.NdJ("click",function(){const g=e.CHM(s).$implicit,R=e.oxw();return e.KtG(R.navigateTo("../form",null==g?null:g._id,"edit"))}),e._UZ(28,"i",26),e._uU(29," Edit "),e.qZA(),e.YNc(30,J,3,0,"a",27),e.qZA()()()()}if(2&m){const s=Z.$implicit,o=e.oxw();e.xp6(2),e.Oqu(null==s?null:s.productCategory),e.xp6(2),e.Oqu(null==s?null:s.HSNCode),e.xp6(3),e.Udp("background-color",null==s?null:s.colourName),e.xp6(2),e.Oqu(e.xi3(10,11,null==s?null:s.igstRate,"1.2-2")),e.xp6(3),e.Oqu(e.xi3(13,14,null==s?null:s.cgstRate,"1.2-2")),e.xp6(3),e.Oqu(e.xi3(16,17,null==s?null:s.sgstRate,"1.2-2")),e.xp6(3),e.Oqu(e.xi3(19,20,null==s?null:s.ugstRate,"1.2-2")),e.xp6(6),e.Q6J("accessType",o.rolePermissionActions.viewAction),e.xp6(3),e.Q6J("accessType",o.rolePermissionActions.editAction),e.xp6(3),e.Q6J("ngIf",o.user==o.superAdminId)}}const w=function(m,Z,s,o){return{page:m,pageSize:Z,collection:s,search:o,type:"list"}};let G=(()=>{class m{constructor(s,o,r,g,R,E,x,P,B){this.exportExcelService=s,this.mapCategoryHSNService=o,this.router=r,this.spinner=g,this.activatedRoute=R,this.exportToPDFService=E,this.storageService=x,this.toastService=P,this.modalService=B,this.page=1,this.pageSize=8,this.collection=0,this.column="createdAt",this.direction=-1,this.search="",this.tableData=[],this.rolePermissionActions=C.a1,this.superAdminId=C.dA,this.user=""}ngOnInit(){this.user=this.storageService.get("IDMSAUser")?.roles?.find(s=>s==this.superAdminId),this.page=Number(this.activatedRoute.snapshot.queryParamMap.get("page")??1),this.getAll()}navigateTo(s,o,r){this.router.navigate([s],{relativeTo:this.activatedRoute,queryParams:{id:o,action:r}})}trackByFn(s,o){return o?._id}eventHeader(s){switch(s.key){case"SEARCH":this.search=s.value,this.getAll();break;case"PDF":this.getAll(!0,"PDF");break;case"EXCEL":this.getAll(!0,"EXCEL");break;case"PAGE":this.page=s.value,this.getAll()}}getAll(s=!1,o=""){this.spinner.show();let r={page:this.page,pageSize:this.pageSize,search:this.search,column:this.column,direction:this.direction,excel:s};this.subscription&&this.subscription.unsubscribe(),this.subscription=this.mapCategoryHSNService.getAll(r).subscribe(g=>{"EXCEL"==o?this.excelDownload(g.rows):"PDF"==o?this.pdfDownload(g.rows):(this.tableData=g.rows,this.collection=g.count),this.spinner.hide()})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}pdfDownload(s){let o=(0,y.oq)(s);this.exportToPDFService.generatePdf(o.tableData,o.title)}excelDownload(s){this.exportExcelService.exportExcel((0,y.if)(s))}onSort({column:s,direction:o}){this.headers.forEach(r=>{r.sortable!==s&&(r.direction="")}),this.column=s,this.direction="asc"==o?1:-1,this.getAll()}delete(s){this.spinner.show(),this.mapCategoryHSNService.delete(s).subscribe(o=>{this.spinner.hide(),this.toastService.success(o.message),this.getAll()})}openConfirmModal(s,o){const r=this.modalService.open(I.hn,{centered:!0,size:"md",backdrop:"static",keyboard:!1});r.componentInstance.heading="Confirm Deletion",r.componentInstance.confirmText=`Confirm Deletion of HSN Code ${o} ?`,r.result.then(g=>{"Yes"==g.title&&this.delete(s)},g=>{})}static#e=this.\u0275fac=function(o){return new(o||m)(e.Y36(v.Ol),e.Y36(H.Hd),e.Y36(t.F0),e.Y36(v.V),e.Y36(t.gz),e.Y36(v.$L),e.Y36(v.V1),e.Y36(v.kl),e.Y36(S.FF))};static#t=this.\u0275cmp=e.Xpm({type:m,selectors:[["app-map-category-hsn-list"]],viewQuery:function(o,r){if(1&o&&e.Gf(l.j,5),2&o){let g;e.iGM(g=e.CRH())&&(r.headers=g)}},decls:32,vars:9,consts:[[1,"listCard","card"],[1,"table-header"],[1,"heading"],["appAccessControl","",1,"text-center",3,"accessType"],["type","button",1,"btn","btn-primary","btn-add",3,"click"],["aria-hidden","true",1,"fa","fa-plus-square","fa-lg","me-2"],[1,"line-border"],[1,"table-responsive"],[3,"data","dataChange"],[1,"table","table-bordered"],[1,"bg-primary"],[1,"text-white"],["sortable","productCategory",3,"sort"],["sortable","HSNCode",3,"sort"],["sortable","colourName",3,"sort"],["sortable","igstRate",3,"sort"],["sortable","cgstRate",3,"sort"],["sortable","sgstRate",3,"sort"],["sortable","ugstRate",3,"sort"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"box"],[1,"dropdown"],[1,"dropbtn"],[1,"dropdown-content"],["appAccessControl","","href","javascript:void(0)",3,"accessType","click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg","me-2","text-primary"],["aria-hidden","true",1,"fa","fa-pencil-square-o","fa-lg","me-2","text-primary"],["href","javascript:void(0)",3,"click",4,"ngIf"],["href","javascript:void(0)",3,"click"],["aria-hidden","true",1,"fa","fa-trash","text-primary"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"label",2),e._uU(3,"Map Category HSN Summary"),e.qZA()(),e.TgZ(4,"div",3)(5,"button",4),e.NdJ("click",function(){return r.navigateTo("../form",null,"create")}),e._UZ(6,"i",5),e._uU(7," Map Category HSN "),e.qZA()(),e._UZ(8,"hr",6),e.TgZ(9,"div",7)(10,"app-setting-header",8),e.NdJ("dataChange",function(R){return r.eventHeader(R)}),e.qZA(),e.TgZ(11,"table",9)(12,"thead",10)(13,"tr",11)(14,"th",12),e.NdJ("sort",function(R){return r.onSort(R)}),e._uU(15,"Product Category"),e.qZA(),e.TgZ(16,"th",13),e.NdJ("sort",function(R){return r.onSort(R)}),e._uU(17,"HSN Code"),e.qZA(),e.TgZ(18,"th",14),e.NdJ("sort",function(R){return r.onSort(R)}),e._uU(19,"Colour Code"),e.qZA(),e.TgZ(20,"th",15),e.NdJ("sort",function(R){return r.onSort(R)}),e._uU(21,"IGST %"),e.qZA(),e.TgZ(22,"th",16),e.NdJ("sort",function(R){return r.onSort(R)}),e._uU(23,"CGST %"),e.qZA(),e.TgZ(24,"th",17),e.NdJ("sort",function(R){return r.onSort(R)}),e._uU(25,"SGST %"),e.qZA(),e.TgZ(26,"th",18),e.NdJ("sort",function(R){return r.onSort(R)}),e._uU(27,"UGST %"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Action"),e.qZA()()(),e.TgZ(30,"tbody"),e.YNc(31,L,31,23,"tr",19),e.qZA()()()()),2&o&&(e.xp6(4),e.Q6J("accessType",r.rolePermissionActions.createAction),e.xp6(6),e.Q6J("data",e.l5B(4,w,r.page,r.pageSize,r.collection,r.search)),e.xp6(21),e.Q6J("ngForOf",r.tableData)("ngForTrackBy",r.trackByFn))},dependencies:[f.sg,f.O5,U.P,l.j,F.J,f.JJ],styles:[".box[_ngcontent-%COMP%]{display:grid;place-items:center}.box[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:1rem;width:1rem}"]})}return m})();var Q=n(19964),Y=n(56208);const V=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:G},{path:"form",component:_,resolve:{accessScreen:Q.xr}}];let K=(()=>{class m{static#e=this.\u0275fac=function(o){return new(o||m)};static#t=this.\u0275mod=e.oAB({type:m});static#s=this.\u0275inj=e.cJS({imports:[f.ez,t.Bz.forChild(V),Y.m]})}return m})()},6244:(D,T,n)=>{n.d(T,{Z:()=>O});var f=n(43818),t=n(65879),u=n(37285),k=n(96814),A=n(88059),M=n(95346);const N=function(){return["view","edit"]};function b(S,q){if(1&S){const a=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td",24)(8,"span",25),t._uU(9),t.qZA()(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td")(13,"input",26),t.NdJ("change",function(){const d=t.CHM(a).$implicit,p=t.oxw();return t.KtG(p.setSelectData(d))}),t.qZA()()()}if(2&S){const a=q.$implicit,h=q.index,c=t.oxw();t.xp6(2),t.Oqu(1+h+(c.page-1)*c.pageSize),t.xp6(2),t.Oqu(null==a?null:a.productNumber),t.xp6(2),t.Oqu(null==a?null:a.productCode),t.xp6(2),t.Q6J("ngbTooltip",null==a?null:a.label),t.xp6(1),t.hij(" ",null!=a&&a.label?null==a?null:a.label:null," "),t.xp6(2),t.Oqu(null==a?null:a.application),t.xp6(2),t.MGl("name","formValue",c.productCategoryList[h],""),t.Q6J("disabled",t.DdM(9,N).includes(c.action))("checked",a.select)}}function e(S,q){1&S&&t._UZ(0,"hr",27)}function H(S,q){if(1&S){const a=t.EpF();t.TgZ(0,"div",28)(1,"button",29),t.NdJ("click",function(){t.CHM(a);const c=t.oxw();return t.KtG(c.dismissModel())}),t._uU(2,"Save & Close"),t.qZA()()}}const v=function(S,q,a,h){return{page:S,pageSize:q,collection:a,search:h,excelDisplay:"none"}};let O=(()=>{class S{constructor(a){this.activeModal=a,this.action="edit",this.productCategory="",this.productCategoryList=[],this.btnDisable=!1,this.page=1,this.pageSize=9,this.collection=0,this.search="",this.column="createdAt",this.direction=-1,this.selectedProductCategory=null}ngOnInit(){this.productCategory&&(this.selectedProductCategory=this.productCategory,this.productCategoryList=this.productCategoryList.map(a=>(a.select=!1,a.value==this.productCategory&&(a.select=!0),a))),this.collection=this.productCategoryList.length}setSelectData(a){this.selectedProductCategory=a?.value}dismissModel(){let a={};a.selectedProductCategory=this.selectedProductCategory,this.activeModal.close(a)}eventHeader(a){switch(a.key){case"SEARCH":this.search=a.value;break;case"EXCEL":default:break;case"PAGE":this.page=a.value}}onSort({column:a,direction:h}){this.headers.forEach(c=>{c.sortable!==a&&(c.direction="")}),this.productCategoryList=""===h||""===a?this.productCategoryList:[...this.productCategoryList].sort((c,d)=>{let p="string"==typeof c[a]?c[a].toLowerCase():c[a],i="string"==typeof d[a]?d[a].toLowerCase():d[a];const _=p<i?-1:p>i?1:0;return"asc"===h?_:-_})}static#e=this.\u0275fac=function(h){return new(h||S)(t.Y36(u.Kz))};static#t=this.\u0275cmp=t.Xpm({type:S,selectors:[["app-product-category-modal"]],viewQuery:function(h,c){if(1&h&&t.Gf(f.j,5),2&h){let d;t.iGM(d=t.CRH())&&(c.headers=d)}},inputs:{action:"action",productCategory:"productCategory",productCategoryList:"productCategoryList"},decls:37,vars:18,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,""],[1,"container-fluid"],[1,"row","justify-content-center"],[1,"col-12","px-0","mt-4"],[1,"px-5","mt-0"],[3,"data","dataChange"],[1,"table-responsive","px-5",2,"min-height","33rem"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],["sortable","SKUCategoryName",3,"sort"],["sortable","productCode",3,"sort"],["sortable","displayProductCategoryName",1,"text-start",3,"sort"],["sortable","application",3,"sort"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col","px-0","mb-3"],["class","line-border",4,"ngIf"],["class","text-center mb-2",4,"ngIf"],[1,"text-start"],["placement","right",1,"pointer",3,"ngbTooltip"],["type","radio",1,"form-check-input","pointer",3,"disabled","name","checked","change"],[1,"line-border"],[1,"text-center","mb-2"],["type","button",1,"btn","bg-primary","px-5","mb-4",3,"click"]],template:function(h,c){1&h&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Product Category"),t.qZA(),t.TgZ(4,"div")(5,"button",3),t.NdJ("click",function(){return c.activeModal.close()}),t._UZ(6,"i",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"app-setting-header",10),t.NdJ("dataChange",function(p){return c.eventHeader(p)}),t.qZA()(),t.TgZ(13,"div",11)(14,"table",12)(15,"thead",13)(16,"tr",14)(17,"th"),t._uU(18,"Sr. No."),t.qZA(),t.TgZ(19,"th",15),t.NdJ("sort",function(p){return c.onSort(p)}),t._uU(20,"Product No."),t.qZA(),t.TgZ(21,"th",16),t.NdJ("sort",function(p){return c.onSort(p)}),t._uU(22,"Product Code"),t.qZA(),t.TgZ(23,"th",17),t.NdJ("sort",function(p){return c.onSort(p)}),t._uU(24," Display Name "),t.qZA(),t.TgZ(25,"th",18),t.NdJ("sort",function(p){return c.onSort(p)}),t._uU(26,"Application"),t.qZA(),t.TgZ(27,"th"),t._uU(28,"Select"),t.qZA()()(),t.TgZ(29,"tbody"),t.YNc(30,b,14,10,"tr",19),t.ALo(31,"slice"),t.ALo(32,"searchFi1ter"),t.qZA()()()()(),t.TgZ(33,"div",20)(34,"div",21),t.YNc(35,e,1,0,"hr",22),t.qZA()(),t.YNc(36,H,3,0,"div",23),t.qZA()()()),2&h&&(t.xp6(12),t.Q6J("data",t.l5B(11,v,c.page,c.pageSize,c.collection,c.search)),t.xp6(18),t.Q6J("ngForOf",t.Dn7(31,4,t.xi3(32,8,c.productCategoryList,c.search),(c.page-1)*c.pageSize,(c.page-1)*c.pageSize+c.pageSize)),t.xp6(5),t.Q6J("ngIf",!t.DdM(16,N).includes(c.action)),t.xp6(1),t.Q6J("ngIf",!t.DdM(17,N).includes(c.action)))},dependencies:[k.sg,k.O5,A.P,u._L,f.j,k.OU,M.G],encapsulation:2})}return S})()},13107:(D,T,n)=>{n.d(T,{t:()=>f});const f={width:24,style:{alignment:{vertical:"middle",horizontal:"center",wrapText:!0}}}},28402:(D,T,n)=>{n.d(T,{J:()=>f});const f=({data:t,headers:u,widths:k,title:A})=>({tableData:{widths:k,headerRows:1,body:[u.map(b=>({text:b.header,style:"header"})),...t.map(b=>u.map(e=>({style:"subheader",text:b[e.key]})))]},title:A})},49580:(D,T,n)=>{n.d(T,{D:()=>f});const f=[{message:"HSN Code is Required",key:"hsnCode"},{message:"Description of Goods is Required",key:"goodsDescription"},{message:"GST Rate % is Required",key:"gstRate"},{message:"IGST Rate % is Required",key:"igstRate"},{message:"CGST Rate % is Required",key:"cgstRate"},{message:"SGST Rate % is Required",key:"sgstRate"},{message:"UTGST Rate % is Required",key:"ugstRate"},{message:"Revision No. is Required",key:"revisionNo"},{message:"Revision Date is Required",key:"revisionDate"}]},4092:(D,T,n)=>{n.d(T,{tm:()=>e,Kb:()=>f,lR:()=>v,jH:()=>t,y5:()=>O,OV:()=>q,HQ:()=>S,RS:()=>a,vc:()=>h,Nj:()=>p,rw:()=>i,Uh:()=>c,J4:()=>l,ff:()=>k,BC:()=>_,JY:()=>A,Dd:()=>d,Sy:()=>M,tH:()=>N,se:()=>H,RH:()=>b});const f=[{message:"Customer Name is Required",key:"customerName"},{message:"Mobile No. is Required",key:"mobileNo"},{message:"stateOfSupply is Required",key:"stateOfSupply"}],t=[{message:"Customer Code is Required",key:"customerCode"},{message:"Customer Name is Required",key:"customerName"},{message:"Sales Category is Required",key:"customerCategory"},{message:"PAN No. is Required",key:"customerPAN"},{message:"GSTIN is Required",key:"GSTIN"},{message:"GST Classification is Required",key:"GSTClassification"},{message:"Customer Category is Required",key:"customerType"},{message:"Customer Currency is Required",key:"customerCurrency"},{message:"Payment Terms is Required",key:"customerPaymentTerms"}];n(49580);const k=[{message:"SAC Code is Required",key:"sacCode"},{message:"Description of Service is Required",key:"serviceDescription"},{message:"GST Rate % is Required",key:"gstRate"},{message:"IGST Rate % is Required",key:"igstRate"},{message:"CGST Rate % is Required",key:"cgstRate"},{message:"SGST Rate % is Required",key:"sgstRate"},{message:"UTGST Rate % is Required",key:"ugstRate"},{message:"Revision Date is Required",key:"revisionNo"},{message:"Revision Date is Required",key:"revisionDate"}],A=[{message:"Service Description is Required",key:"serviceDescription"}],M=[{message:"SKU Stage is Required",key:"SKUStage"},{message:"Product Category is Required",key:"productCategory"},{message:"SKU No is Required",key:"SKUNo"},{message:"SKU Name is Required",key:"SKUName"},{message:"SKU Description is Required",key:"SKUDescription"},{message:"HSN Code is Required",key:"hsn"},{message:"Unit of Measurement is Required",key:"primaryUnit"}],N=[{message:"Shelf Life [Months] is required",key:"shelfLife"},{message:"Storage Temperature [\xb0C] is required",key:"storageTemp"},{message:"Storage Humidity [RH] is required",key:"storageHumidity"},{message:"Special Storage Instruction is required",key:"specialStorageInstruction"}],b=[{message:"Type is Required",key:"transporterType"}],e=[{message:"Bill From Location is Required",key:"billFromLocation"},{message:"Customer Category is Required",key:"salesCategory"},{message:"Customer Name is Required",key:"customer"},{message:"Purchase Order No. is Required",key:"PONumber"},{message:"Purchase Order Date is Required",key:"PODate"},{message:"Net SO Value is Required",key:"SOTotalAmount"},{message:"Status is Required",key:"SOStatus"},{message:"Customer Shipping Address is Required",key:"customerShippingAddress"},{message:"Freight Terms is Required",key:"frightTerms"},{message:"Transporter is Required",key:"transporter"},{message:"Destination is Required",key:"destination"}],H=[{message:"Freight Terms is Required",key:"frightTerms"},{message:"Transporter is Required",key:"transporter"},{message:"Mode of transport is Required",key:"modeOfTransport"},{message:"Destination is Required",key:"destination"}],v=[{message:"Customer Category is Required",key:"salesCategory"},{message:"Customer Name is Required",key:"customer"}],O=[{message:"Customer Category is Required",key:"salesCategory"},{message:"Customer Name is Required",key:"customer"}],S=[{message:"Customer Category is Required",key:"salesCategory"},{message:"Customer Name is Required",key:"customer"},{message:"Fright Terms is Required",key:"frightTerms"},{message:"Destination Terms is Required",key:"destination"},{message:"Mode of Transport is Required",key:"modeOfTransport"}],q=[{message:"Export Invoice No. is Required",key:"exportsInvoiceNo"},{message:"Export Invoice Date is Required",key:"exportsInvoiceDate"},{message:"Export Invoice Total Value is Required",key:"exportsInvoiceTotalValue"},{message:"Exchange Rate is Required",key:"exchangeRate"},{message:"Mode of Transport is Required",key:"modeOfTransport"},{message:"Fright Terms is Required",key:"frightTerms"},{message:"Port of Destination Terms is Required",key:"destination"},{message:"Final Destination Terms is Required",key:"finalDestination"}],a=[{message:"Payment Terms is Required",key:"paymentTerms"},{message:"Fright Terms is Required",key:"frightTerms"},{message:"Transporter Terms is Required",key:"transporter"},{message:"Destination Terms is Required",key:"destination"},{message:"Mode of Transport is Required",key:"modeOfTransport"}],h=[{message:"Supply Type is Required",key:"supplyType"},{message:"Sub Supply Type is Required",key:"subSupplyType"},{message:"Document Type is Required",key:"docType"},{message:"Document No. is Required of 16 Digits",key:"docNo"},{message:"Document Date is Required",key:"docDate"},{message:"From GSTIN is Required of 15 Digits",key:"fromGstin"},{message:"From Pin Code is Required",key:"fromPincode"},{message:"Act From State Code is Required",key:"actFromStateCode"},{message:"From State Code is Required",key:"fromStateCode"},{message:"To GSTIN is Required of 15 Digits",key:"toGstin"},{message:"To Pin Code is Required",key:"toPincode"},{message:"To State Code is Required",key:"toStateCode"},{message:"Act To State Code is Required",key:"actToStateCode"},{message:"Transaction Type is Required of 4 Digits",key:"transactionType"},{message:"Tot Inv Value is Required",key:"totInvValue"},{message:"Trans Distance is Required",key:"transDistance"}],c=[{message:"Bill From Location is Required",key:"billFromLocation"},{message:"Customer Category is Required",key:"salesCategory"},{message:"Customer Name is Required",key:"customer"},{message:"PO No. is Required",key:"PONumber"},{message:"Net SO Value is Required",key:"PITotalAmount"},{message:"Status is Required",key:"PIStatus"},{message:"Customer Shipping Address is Required",key:"customerShippingAddress"},{message:"Mode Of Transport is Required",key:"modeOfTransport"},{message:"frightTerms is Required",key:"frightTerms"},{message:"transporter is Required",key:"transporter"},{message:"destination is Required",key:"destination"}],d=[{message:"Invoice # is Required",key:"serviceInvoiceNumber"},{message:"Invoice Date is Required",key:"serviceInvoiceDate"},{message:"Customer/Sales Category is Required",key:"customerCategory"},{message:"Customer Name is Required",key:"customer"},{message:"Purchase Order No. is Required",key:"PONo"},{message:"Purchase Order Date is Required",key:"PODate"},{message:"Currency is Required",key:"currency"},{message:"Bill From Location is Required",key:"billFromLocation"}],p=[{message:"Product Category is Required",key:"productCategory"},{message:"HSN Code is Required",key:"HSN"},{message:"Description is Required",key:"description"},{message:"IGST Rate % is Required",key:"igstRate"},{message:"CGST Rate % is Required",key:"cgstRate"},{message:"SGST Rate % is Required",key:"sgstRate"}],i=[{message:"Order is Required",key:"order"},{message:"Payment Terms Description is Required",key:"paymentDescription"}],_=[{message:"Customer Category is Required",key:"customerCategory"},{message:"Customer Name is Required",key:"customer"},{message:"FC Type is Required",key:"FCType"},{message:"Net FC Value is Required",key:"netFCValue"}],l=[{message:"Quotation No. is Required",key:"quotationNo"},{message:"Customer Category is Required",key:"customerCategory"},{message:"Customer Name  is Required",key:"customerName"}]}}]);