"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[9141],{72414:(P,g,d)=>{d.d(g,{V:()=>_});var t=d(60095),r=d(25116),y=d(77609),e=d(65879),S=d(37285),O=d(16897),A=d(98977),U=d(96814),T=d(88059),D=d(50363),I=d(95346),N=d(83344),Z=d(59103);function k(l,C){if(1&l&&(e._UZ(0,"input",55),e.ALo(1,"UOMUnitsMaster")),2&l){const o=e.oxw(),u=e.MAs(118);e.s9C("value",e.lcZ(1,2,o.form.controls.uom1.value)),e.Q6J("ngbTooltip",u)}}function v(l,C){if(1&l&&(e._UZ(0,"input",56),e.ALo(1,"UOMUnitsMaster")),2&l){const o=e.oxw();e.s9C("value",e.lcZ(1,1,o.form.controls.uom1.value))}}function b(l,C){if(1&l&&(e._UZ(0,"input",55),e.ALo(1,"UOMUnitsMaster")),2&l){const o=e.oxw(),u=e.MAs(120);e.s9C("value",e.lcZ(1,2,o.form.controls.uom2.value)),e.Q6J("ngbTooltip",u)}}function E(l,C){if(1&l&&(e._UZ(0,"input",56),e.ALo(1,"UOMUnitsMaster")),2&l){const o=e.oxw();e.s9C("value",e.lcZ(1,1,o.form.controls.uom2.value))}}function c(l,C){if(1&l){const o=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",48,57)(5,"span",58),e._uU(6),e.qZA()(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"UOMUnitsMaster"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.ALo(18,"UOMUnitsMaster"),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA(),e.TgZ(21,"td")(22,"div",59),e._UZ(23,"button",60),e.TgZ(24,"div",61)(25,"a",62),e.NdJ("click",function(){const s=e.CHM(o),h=s.$implicit,M=s.index,R=e.oxw();return e.KtG(R.patchItem(h,M,"view"))}),e._UZ(26,"i",63),e._uU(27," View "),e.qZA(),e.TgZ(28,"a",62),e.NdJ("click",function(){const s=e.CHM(o),h=s.$implicit,M=s.index,R=e.oxw();return e.KtG(R.patchItem(h,M,"edit"))}),e._UZ(29,"i",64),e._uU(30," Edit "),e.qZA(),e.TgZ(31,"a",62),e.NdJ("click",function(){const h=e.CHM(o).index,M=e.oxw();return e.KtG(M.deleteItem(h))}),e._UZ(32,"i",65),e._uU(33," Delete "),e.qZA()()()()()}if(2&l){const o=C.$implicit,u=C.index,s=e.MAs(4),h=e.oxw();e.xp6(2),e.Oqu(u+1+(h.page-1)*h.pageSize),e.xp6(1),e.Udp("width",s.clientWidth),e.xp6(2),e.Q6J("ngbTooltip",o.supplierName)("positionTarget",s),e.xp6(1),e.hij(" ",o.supplierName," "),e.xp6(2),e.Oqu(null==o?null:o.supplierPartNo),e.xp6(2),e.Oqu(null==o?null:o.currency),e.xp6(2),e.Oqu(null!=o&&o.uom1?e.lcZ(13,14,null==o?null:o.uom1):null),e.xp6(3),e.Oqu(null==o?null:o.stdCostUom1),e.xp6(2),e.Oqu(null!=o&&o.uom2?e.lcZ(18,16,null==o?null:o.uom2):null),e.xp6(3),e.Oqu(null==o?null:o.stdCostUom2),e.xp6(11),e.ekj("disable","view"==h.action)}}function f(l,C){if(1&l&&(e.TgZ(0,"div",67)(1,"span",48),e._uU(2),e.qZA()()),2&l){const o=e.oxw(2);e.xp6(2),e.hij(" ",o.conversionOfUnitsForPrimary," ")}}function i(l,C){if(1&l&&e.YNc(0,f,3,1,"div",66),2&l){const o=e.oxw();e.Q6J("ngIf",o.primaryUnit||o.secondaryUnit)}}function m(l,C){if(1&l&&(e.TgZ(0,"div",67)(1,"span",48),e._uU(2),e.qZA()()),2&l){const o=e.oxw(2);e.xp6(2),e.hij(" ",o.conversionOfUnitsForSecondary," ")}}function a(l,C){if(1&l&&e.YNc(0,m,3,1,"div",66),2&l){const o=e.oxw();e.Q6J("ngIf",o.primaryUnit||o.secondaryUnit)}}const p=function(l,C,o,u){return{page:l,pageSize:C,collection:o,search:u,excelDisplay:"none"}};let _=(()=>{class l{constructor(o,u,s,h){this.activeModal=o,this.validationService=u,this.toastService=s,this.modalService=h,this.action="",this.primaryUnit="",this.secondaryUnit="",this.unitConversionFlag=0,this.primaryToSecondaryConversion=0,this.secondaryToPrimaryConversion=0,this.sourceOfManufacturing="",this.suppliers=[],this.supplierDetails=[],this.conversionOfUnitsForPrimary="",this.conversionOfUnitsForSecondary="",this.sourceOfMfg=r.mt,this.btnDisable=!1,this.page=1,this.pageSize=4,this.collection=0,this.search="",this.column="createdAt",this.direction=-1,this.selectedSupplierDetails={},this.form=new t.nJ({index:new t.p4(-1),sourceOfManufacturing:new t.p4(null),supplier:new t.p4(null),supplierName:new t.p4(null,[t.kI.required]),supplierPartNo:new t.p4(null),currency:new t.p4(null),uom1:new t.p4(null),stdCostUom1:new t.p4(null),uom2:new t.p4(null),stdCostUom2:new t.p4(null)})}ngOnInit(){this.form.controls.sourceOfManufacturing.setValue(this.sourceOfManufacturing),this.collection=this.supplierDetails.length,this.setSourceOfManufacturing(),this.secondaryUnit||(this.form.controls.uom2.disable(),this.form.controls.stdCostUom2.disable()),this.primaryUnit&&this.form.controls.uom1.setValue(this.primaryUnit),this.secondaryUnit&&this.form.controls.uom2.setValue(this.secondaryUnit),(this.primaryUnit||this.secondaryUnit)&&(this.conversionOfUnitsForPrimary=`${1==this.unitConversionFlag?1:2==this.unitConversionFlag?this.secondaryToPrimaryConversion:1} ${this.primaryUnit} = ${1==this.unitConversionFlag?this.primaryToSecondaryConversion:1} ${this.secondaryUnit??this.primaryUnit}`,this.conversionOfUnitsForSecondary=`${1==this.unitConversionFlag?this.primaryToSecondaryConversion:1} ${this.secondaryUnit} = ${1==this.unitConversionFlag?1:2==this.unitConversionFlag?this.secondaryToPrimaryConversion:1} ${this.primaryUnit}`)}setUnit2PurchaseCost(){let o=this.form.controls.stdCostUom1.value;this.secondaryUnit&&this.primaryUnit&&1==this.unitConversionFlag&&this.form.controls.stdCostUom2.setValue(+(o/this.primaryToSecondaryConversion).toFixed(2)),this.secondaryUnit&&this.primaryUnit&&2==this.unitConversionFlag&&this.form.controls.stdCostUom2.setValue(+(o/this.secondaryToPrimaryConversion).toFixed(2))}eventHeader(o){switch(o.key){case"SEARCH":this.search=o.value;break;case"EXCEL":default:break;case"PAGE":this.page=o.value}}addSuppliers(){let o=this.form.value;o.sourceOfManufacturing?o.supplier?o.stdCostUom1?((o.index||0==o.index)&&o.index>=0?this.supplierDetails.splice(o.index,1,o):this.supplierDetails.push(o),this.collection=this.supplierDetails.length,this.form.controls.index.setValue(null),this.form.controls.supplier.setValue(null),this.form.controls.supplierName.setValue(null),this.form.controls.supplierPartNo.setValue(null),this.form.controls.currency.setValue(null),this.form.controls.stdCostUom1.setValue(null),this.form.controls.stdCostUom2.setValue(null),this.primaryUnit&&this.form.controls.uom1.setValue(this.primaryUnit),this.secondaryUnit&&this.form.controls.uom2.setValue(this.secondaryUnit)):this.toastService.warning("Purchase Cost is required !"):this.toastService.warning("Supplier Name is required !"):this.toastService.warning("Source of Manufacturing is required !")}patchItem(o,u,s){o.index=u,this.form.patchValue(o),"view"==s?(this.btnDisable=!0,this.form.disable()):(this.form.enable(),this.btnDisable=!1)}deleteItem(o){"view"!=this.action&&(this.supplierDetails.splice(o+(this.page-1)*this.pageSize,1),this.collection=this.supplierDetails.length)}setSupplierCurrency(o){o.supplierCurrency&&this.form.controls.currency.setValue(o?.supplierCurrency),o.supplierName&&this.form.controls.supplierName.setValue(o?.supplierName)}submit(){this.form.enable();let o={};o.supplierDetails=this.supplierDetails,o.sourceOfManufacturing=this.form.controls.sourceOfManufacturing.value,this.activeModal.close(o)}setSourceOfManufacturing(){"Inhouse"==this.form.controls.sourceOfManufacturing.value?(this.form.controls.supplier.setValue(null),this.form.controls.supplierPartNo.setValue(null),this.form.controls.currency.setValue(null),this.form.controls.stdCostUom1.setValue(null),this.form.controls.stdCostUom2.setValue(null),this.form.controls.supplier.disable(),this.form.controls.supplierPartNo.disable(),this.form.controls.currency.disable(),this.form.controls.stdCostUom1.disable(),this.form.controls.stdCostUom2.disable(),this.supplierDetails=[],this.btnDisable=!0):(this.form.enable(),this.btnDisable=!1,this.secondaryUnit||(this.form.controls.uom2.disable(),this.form.controls.stdCostUom2.disable()))}openSupplierDetailsModal(){if("Inhouse"!=this.form.controls.sourceOfManufacturing.value){const u=this.modalService.open(y.Nx,{centered:!0,size:"xl",backdrop:"static",keyboard:!1});u.componentInstance.action="edit"==this.action?"create":this.action,u.componentInstance.selectedSupplierDetails=this.selectedSupplierDetails,u.componentInstance.supplierOptions=this.suppliers,u.componentInstance.supplier=this.form.controls.supplier.value,u.result.then(s=>{s&&(console.log("success",s),this.selectedSupplierDetails=s?.selectedSupplierDetails,this.form.controls.supplier.setValue(s?.selectedSupplierDetails?._id),this.setSupplierCurrency(this.selectedSupplierDetails))},s=>{})}}static#e=this.\u0275fac=function(u){return new(u||l)(e.Y36(S.Kz),e.Y36(O.RJ),e.Y36(A.kl),e.Y36(S.FF))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-child-item-supplier-modal"]],inputs:{action:"action",primaryUnit:"primaryUnit",secondaryUnit:"secondaryUnit",unitConversionFlag:"unitConversionFlag",primaryToSecondaryConversion:"primaryToSecondaryConversion",secondaryToPrimaryConversion:"secondaryToPrimaryConversion",sourceOfManufacturing:"sourceOfManufacturing",suppliers:"suppliers",supplierDetails:"supplierDetails"},decls:121,vars:31,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,""],[1,"container-fluid","px-0"],[3,"formGroup"],[1,"row","px-5","mt-4"],[1,"col-4"],[1,"form-label"],[1,"text-danger"],["bindLabel","sourceOfMfg","bindValue","sourceOfMfg","formControlName","sourceOfManufacturing",3,"items","clearable","change"],[1,"d-flex","align-items-center"],[1,"col-11"],["bindLabel","supplierName","bindValue","_id","formControlName","supplier",3,"items","clearable","change"],["id","basic-addon1",1,"input-group-text","bg-primary","pointer","col-auto","fs-4",2,"height","2.9rem",3,"click"],["aria-hidden","true",1,"fa","fa-search","text-white"],["type","text","formControlName","supplierPartNo",1,"form-control"],[1,"col-4","separate-row"],["type","text","formControlName","currency","readonly","",1,"form-control"],[1,"set-position","mt-1"],["src","./assets/new_icons/redstroke.svg","alt","","height","27","width","8"],[1,"col-8"],[1,"row"],[1,"col-5","pe-0"],[1,"d-flex"],[1,"col-4","me-1"],["type","text","class","form-control ps-2 pe-0 pointer","readonly","","placement","bottom",3,"value","ngbTooltip",4,"ngIf"],["type","text","class","form-control ps-2 pe-0 pointer","readonly","",3,"value",4,"ngIf"],[1,"input-group-text","combine-INR","text-secondary"],[1,"vr","ms-3"],["formControlName","stdCostUom1","type","number",1,"form-control","border-start-0",3,"input"],[1,"col-1","d-flex","align-items-center","justify-content-center","px-0"],[1,"d-flex","justify-content-center","mt-1"],[1,"fs-3","mt-4","text-secondary"],[1,"col-5","ps-0"],["formControlName","stdCostUom2","type","number",1,"form-control","border-start-0"],[1,"col-1","d-flex","align-items-end","ps-2"],["type","button",1,"plusIconSvg","btn","btn-primary",3,"disabled","click"],[1,"line-border","mt-4","px-5","mb-0"],[1,"row","justify-content-center","px-5"],[1,"col-12"],[3,"data","dataChange"],[1,"table-responsive",2,"min-height","17rem"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],[1,"text-start"],[4,"ngFor","ngForOf"],[1,"line-border","my-5","px-5"],[1,"text-center","mb-5"],["type","button",1,"btn","bg-primary","px-4",3,"disabled","click"],["list",""],["list2",""],["type","text","readonly","","placement","bottom",1,"form-control","ps-2","pe-0","pointer",3,"value","ngbTooltip"],["type","text","readonly","",1,"form-control","ps-2","pe-0","pointer",3,"value"],["supplierName",""],[1,"pointer",3,"ngbTooltip","positionTarget"],[1,"dropdown"],[1,"dropbtn"],[1,"dropdown-content"],["href","javascript:void(0)",3,"click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg","me-2","text-primary"],["aria-hidden","true",1,"fa","fa-pencil-square-o","fa-lg","me-2","text-primary"],["aria-hidden","true",1,"fa","fa-trash","me-2","text-primary"],["class","d-flex flex-column",4,"ngIf"],[1,"d-flex","flex-column"]],template:function(u,s){1&u&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Add Supplier"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return s.activeModal.close()}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"form",7)(10,"div",8)(11,"div",9)(12,"label",10),e._uU(13," Source of Manufacturing "),e.TgZ(14,"span",11),e._uU(15,"*"),e.qZA()(),e.TgZ(16,"ng-select",12),e.NdJ("change",function(){return s.setSourceOfManufacturing()}),e.qZA()(),e.TgZ(17,"div",9)(18,"label",10),e._uU(19," Supplier Name "),e.TgZ(20,"span",11),e._uU(21,"*"),e.qZA()(),e.TgZ(22,"div",13)(23,"div",14)(24,"ng-select",15),e.NdJ("change",function(M){return s.setSupplierCurrency(M)}),e.qZA()(),e.TgZ(25,"div",16),e.NdJ("click",function(){return s.openSupplierDetailsModal()}),e._UZ(26,"i",17),e.qZA()()(),e.TgZ(27,"div",9)(28,"label",10),e._uU(29," Supplier Part No. "),e.qZA(),e._UZ(30,"input",18),e.qZA()(),e.TgZ(31,"div",8)(32,"div",19)(33,"label",10),e._uU(34," Currency "),e.qZA(),e._UZ(35,"input",20),e.TgZ(36,"span",21),e._UZ(37,"img",22),e.qZA()(),e.TgZ(38,"div",23)(39,"div",24)(40,"div",25)(41,"div",26)(42,"div",27)(43,"label",10),e._uU(44,"Unit 1 "),e.TgZ(45,"span",11),e._uU(46,"*"),e.qZA()(),e.YNc(47,k,2,4,"input",28),e.YNc(48,v,2,3,"input",29),e.qZA(),e.TgZ(49,"div",23)(50,"label",10),e._uU(51," Purchase Cost "),e.TgZ(52,"span",11),e._uU(53,"*"),e.qZA()(),e.TgZ(54,"div",26)(55,"span",30),e._uU(56),e.ALo(57,"companyCurrency"),e._UZ(58,"div",31),e.qZA(),e.TgZ(59,"input",32),e.NdJ("input",function(){return s.setUnit2PurchaseCost()}),e.qZA()()()()(),e.TgZ(60,"div",33)(61,"span",34)(62,"div",35),e._uU(63,"="),e.qZA()()(),e.TgZ(64,"div",36)(65,"div",26)(66,"div",27)(67,"label",10),e._uU(68,"Unit 2"),e.qZA(),e.YNc(69,b,2,4,"input",28),e.YNc(70,E,2,3,"input",29),e.qZA(),e.TgZ(71,"div",23)(72,"label",10),e._uU(73," Purchase Cost "),e._UZ(74,"span",11),e.qZA(),e.TgZ(75,"div",26)(76,"span",30),e._uU(77),e.ALo(78,"companyCurrency"),e._UZ(79,"div",31),e.qZA(),e._UZ(80,"input",37),e.qZA()()()(),e.TgZ(81,"div",38)(82,"button",39),e.NdJ("click",function(){return s.addSuppliers()}),e.qZA()()()()()(),e._UZ(83,"hr",40),e.TgZ(84,"div",41)(85,"div",42)(86,"app-setting-header",43),e.NdJ("dataChange",function(M){return s.eventHeader(M)}),e.qZA(),e.TgZ(87,"div",44)(88,"table",45)(89,"thead",46)(90,"tr",47)(91,"th"),e._uU(92,"SN"),e.qZA(),e.TgZ(93,"th",48),e._uU(94,"Supplier Name"),e.qZA(),e.TgZ(95,"th"),e._uU(96,"Supplier Part No."),e.qZA(),e.TgZ(97,"th"),e._uU(98,"Currency"),e.qZA(),e.TgZ(99,"th"),e._uU(100,"Unit 1"),e.qZA(),e.TgZ(101,"th"),e._uU(102,"Purchase Cost"),e.qZA(),e.TgZ(103,"th"),e._uU(104,"Unit 2"),e.qZA(),e.TgZ(105,"th"),e._uU(106,"Purchase Cost"),e.qZA(),e.TgZ(107,"th"),e._uU(108,"Action"),e.qZA()()(),e.TgZ(109,"tbody"),e.YNc(110,c,34,18,"tr",49),e.ALo(111,"slice"),e.ALo(112,"searchFi1ter"),e.qZA()()()()(),e._UZ(113,"hr",50),e.TgZ(114,"div",51)(115,"button",52),e.NdJ("click",function(){return s.submit()}),e._uU(116," Save & Close "),e.qZA()()()()(),e.YNc(117,i,1,1,"ng-template",null,53,e.W1O),e.YNc(119,a,1,1,"ng-template",null,54,e.W1O)),2&u&&(e.xp6(9),e.Q6J("formGroup",s.form),e.xp6(7),e.Q6J("items",s.sourceOfMfg)("clearable",!1),e.xp6(8),e.Q6J("items",s.suppliers)("clearable",!1),e.xp6(23),e.Q6J("ngIf",s.secondaryUnit),e.xp6(1),e.Q6J("ngIf",!s.secondaryUnit),e.xp6(8),e.hij(" ",e.lcZ(57,15,"INR")," "),e.xp6(13),e.Q6J("ngIf",s.secondaryUnit),e.xp6(1),e.Q6J("ngIf",!s.secondaryUnit),e.xp6(7),e.hij(" ",e.lcZ(78,17,"INR")," "),e.xp6(5),e.Q6J("disabled",s.btnDisable||"view"==s.action),e.xp6(4),e.Q6J("data",e.l5B(26,p,s.page,s.pageSize,s.collection,s.search)),e.xp6(24),e.Q6J("ngForOf",e.Dn7(111,19,e.xi3(112,23,s.supplierDetails,s.search),(s.page-1)*s.pageSize,(s.page-1)*s.pageSize+s.pageSize)),e.xp6(5),e.Q6J("disabled","view"==s.action))},dependencies:[U.sg,U.O5,T.P,S._L,t._Y,t.Fj,t.wV,t.JJ,t.JL,t.sg,t.u,D.w9,U.OU,I.G,N.f,Z.S],encapsulation:2})}return l})()},9202:(P,g,d)=>{d.d(g,{K:()=>E});var t=d(43818),r=d(65879),y=d(37285),e=d(96814),S=d(88059),O=d(95346);function A(c,f){if(1&c){const i=r.EpF();r.TgZ(0,"tr")(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td",24,25)(5,"span",26),r._uU(6),r.qZA()(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.TgZ(9,"td"),r._uU(10),r.qZA(),r.TgZ(11,"td"),r._uU(12),r.qZA(),r.TgZ(13,"td"),r._uU(14),r.qZA(),r.TgZ(15,"td")(16,"input",27),r.NdJ("change",function(){const p=r.CHM(i).$implicit,_=r.oxw();return r.KtG(_.setSelectData(p))}),r.qZA()()()}if(2&c){const i=f.$implicit,m=f.index,a=r.MAs(4),p=r.oxw();r.xp6(2),r.Oqu(null==i?null:i.value),r.xp6(1),r.Udp("width",a.clientWidth),r.xp6(2),r.Q6J("positionTarget",a)("ngbTooltip",i.goodsDescription),r.xp6(1),r.hij(" ",null==i?null:i.goodsDescription," "),r.xp6(2),r.Oqu(null==i?null:i.gstRate),r.xp6(2),r.Oqu(null==i?null:i.igstRate),r.xp6(2),r.Oqu(null==i?null:i.cgstRate),r.xp6(2),r.Oqu(null==i?null:i.sgstRate),r.xp6(2),r.MGl("name","formValue",p.HSNCodeArr[m],""),r.Q6J("disabled","view"==p.action)("checked",i.select)}}function U(c,f){1&c&&r._UZ(0,"hr",32)}function T(c,f){if(1&c){const i=r.EpF();r.TgZ(0,"div",33)(1,"button",34),r.NdJ("click",function(){r.CHM(i);const a=r.oxw(2);return r.KtG(a.dismissModel())}),r._uU(2," Save & Close "),r.qZA()()}}const D=function(){return["create"]};function I(c,f){if(1&c&&(r.ynx(0),r.TgZ(1,"div",28)(2,"div",29),r.YNc(3,U,1,0,"hr",30),r.qZA()(),r.YNc(4,T,3,0,"div",31),r.BQk()),2&c){const i=r.oxw();r.xp6(3),r.Q6J("ngIf",r.DdM(2,D).includes(i.action)),r.xp6(1),r.Q6J("ngIf",r.DdM(3,D).includes(i.action))}}function N(c,f){1&c&&r._UZ(0,"hr",32)}function Z(c,f){if(1&c){const i=r.EpF();r.TgZ(0,"div",33)(1,"button",34),r.NdJ("click",function(){r.CHM(i);const a=r.oxw(2);return r.KtG(a.dismissModel())}),r._uU(2," Save & Close "),r.qZA()()}}const k=function(){return["view"]};function v(c,f){if(1&c&&(r.ynx(0),r.TgZ(1,"div",28)(2,"div",29),r.YNc(3,N,1,0,"hr",30),r.qZA()(),r.YNc(4,Z,3,0,"div",31),r.BQk()),2&c){const i=r.oxw();r.xp6(3),r.Q6J("ngIf",!r.DdM(2,k).includes(i.action)),r.xp6(1),r.Q6J("ngIf",!r.DdM(3,k).includes(i.action))}}const b=function(c,f,i,m){return{page:c,pageSize:f,collection:i,search:m,excelDisplay:"none"}};let E=(()=>{class c{constructor(i){this.activeModal=i,this.action="edit",this.HSNValue="",this.HSNCode="",this.editScreen="",this.HSNCodeArr=[],this.btnDisable=!1,this.page=1,this.pageSize=9,this.collection=0,this.search="",this.column="createdAt",this.direction=-1,this.HSNSelect=null,this.HSNSelectCode=null}ngOnInit(){(this.HSNValue||this.HSNCode)&&(this.HSNSelect=this.HSNValue,this.HSNSelectCode=this.HSNCode,this.HSNCodeArr=this.HSNCodeArr.map(i=>(i.select=!1,i.value==this.HSNCode&&(i.select=!0),i))),this.collection=this.HSNCodeArr.length}setSelectData(i){this.HSNSelect=i?._id,this.HSNSelectCode=i?.value}dismissModel(){let i={};i.HSNSelect=this.HSNSelect,i.HSNSelectCode=this.HSNSelectCode,this.activeModal.close(i)}eventHeader(i){switch(i.key){case"SEARCH":this.search=i.value;break;case"EXCEL":default:break;case"PAGE":this.page=i.value}}onSort({column:i,direction:m}){this.headers.forEach(a=>{a.sortable!==i&&(a.direction="")}),this.HSNCodeArr=""===m||""===i?this.HSNCodeArr:[...this.HSNCodeArr].sort((a,p)=>{let _="string"==typeof a[i]?a[i].toLowerCase():a[i],l="string"==typeof p[i]?p[i].toLowerCase():p[i];const C=_<l?-1:_>l?1:0;return"asc"===m?C:-C})}static#e=this.\u0275fac=function(m){return new(m||c)(r.Y36(y.Kz))};static#t=this.\u0275cmp=r.Xpm({type:c,selectors:[["app-ink-hsn-modal"]],viewQuery:function(m,a){if(1&m&&r.Gf(t.j,5),2&m){let p;r.iGM(p=r.CRH())&&(a.headers=p)}},inputs:{action:"action",HSNValue:"HSNValue",HSNCode:"HSNCode",editScreen:"editScreen",HSNCodeArr:"HSNCodeArr"},decls:37,vars:16,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,""],[1,"container-fluid"],[1,"row","justify-content-center"],[1,"col-12","px-0","mt-4"],[1,"px-5","mt-0"],[3,"data","dataChange"],[1,"table-responsive","px-5",2,"min-height","33rem"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],["sortable","value",3,"sort"],["sortable","goodsDescription",1,"text-start",3,"sort"],["sortable","gstRate",3,"sort"],["sortable","igstRate",3,"sort"],["sortable","cgstRate",3,"sort"],["sortable","sgstRate",3,"sort"],["sortable","UOM",3,"sort"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-start"],["goodsDescription",""],[1,"pointer",3,"positionTarget","ngbTooltip"],["type","radio",1,"form-check-input","pointer",3,"disabled","name","checked","change"],[1,"row"],[1,"col","px-0","mb-3"],["class","line-border",4,"ngIf"],["class","text-center mb-2",4,"ngIf"],[1,"line-border"],[1,"text-center","mb-2"],["type","button",1,"btn","bg-primary","px-5","mb-4",3,"click"]],template:function(m,a){1&m&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2),r._uU(3,"HSN Master"),r.qZA(),r.TgZ(4,"div")(5,"button",3),r.NdJ("click",function(){return a.activeModal.close()}),r._UZ(6,"i",4),r.qZA()()(),r.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"app-setting-header",10),r.NdJ("dataChange",function(_){return a.eventHeader(_)}),r.qZA()(),r.TgZ(13,"div",11)(14,"table",12)(15,"thead",13)(16,"tr",14)(17,"th",15),r.NdJ("sort",function(_){return a.onSort(_)}),r._uU(18,"HSN Code"),r.qZA(),r.TgZ(19,"th",16),r.NdJ("sort",function(_){return a.onSort(_)}),r._uU(20," Description of Goods "),r.qZA(),r.TgZ(21,"th",17),r.NdJ("sort",function(_){return a.onSort(_)}),r._uU(22,"GST Rate %"),r.qZA(),r.TgZ(23,"th",18),r.NdJ("sort",function(_){return a.onSort(_)}),r._uU(24,"IGST Rate %"),r.qZA(),r.TgZ(25,"th",19),r.NdJ("sort",function(_){return a.onSort(_)}),r._uU(26,"CGST Rate %"),r.qZA(),r.TgZ(27,"th",20),r.NdJ("sort",function(_){return a.onSort(_)}),r._uU(28,"SGST Rate %"),r.qZA(),r.TgZ(29,"th",21),r.NdJ("sort",function(_){return a.onSort(_)}),r._uU(30,"Select"),r.qZA()()(),r.TgZ(31,"tbody"),r.YNc(32,A,17,13,"tr",22),r.ALo(33,"slice"),r.ALo(34,"searchFi1ter"),r.qZA()()()()(),r.YNc(35,I,5,4,"ng-container",23),r.YNc(36,v,5,4,"ng-container",23),r.qZA()()()),2&m&&(r.xp6(12),r.Q6J("data",r.l5B(11,b,a.page,a.pageSize,a.collection,a.search)),r.xp6(20),r.Q6J("ngForOf",r.Dn7(33,4,r.xi3(34,8,a.HSNCodeArr,a.search),(a.page-1)*a.pageSize,(a.page-1)*a.pageSize+a.pageSize)),r.xp6(3),r.Q6J("ngIf","Edit Screen"!=a.editScreen),r.xp6(1),r.Q6J("ngIf","Edit Screen"==a.editScreen))},dependencies:[e.sg,e.O5,S.P,y._L,t.j,e.OU,O.G],encapsulation:2})}return c})()},13107:(P,g,d)=>{d.d(g,{t:()=>t});const t={width:24,style:{alignment:{vertical:"middle",horizontal:"center",wrapText:!0}}}},28402:(P,g,d)=>{d.d(g,{J:()=>t});const t=({data:r,headers:y,widths:e,title:S})=>({tableData:{widths:e,headerRows:1,body:[y.map(U=>({text:U.header,style:"header"})),...r.map(U=>y.map(T=>({style:"subheader",text:U[T.key]})))]},title:S})},65129:(P,g,d)=>{d.d(g,{o7:()=>A,W0:()=>O,_D:()=>fe,xD:()=>me,TN:()=>N,CE:()=>I,cz:()=>E,Xg:()=>b,B7:()=>pe,cX:()=>a,W5:()=>m,FY:()=>R,t_:()=>M,sm:()=>Te,t8:()=>Se,KY:()=>ie,lX:()=>oe,e7:()=>Ue,Do:()=>ye,PQ:()=>ce,OX:()=>de,rw:()=>ae,EW:()=>se,Tf:()=>De,$k:()=>Ae});var t=d(13107),r=d(28402);let y=["*","*","*","*","*","*","*","*","*"],e="Bill of Material (BoM) of Child Item",S=[{header:"BoM No.",key:"BOMNo",...t.t},{header:"Item Code",key:"childItemCode",...t.t},{header:"Item Name",key:"childItemName",...t.t},{header:"Item Description",key:"childItemDescription",...t.t},{header:"UoM",key:"UOM",...t.t},{header:"Part Count",key:"partCount",...t.t},{header:"Material Cost",key:"totalMaterialCost",...t.t},{header:"Status",key:"status",...t.t}];const O=n=>({title:e,csvData:n,headers:S}),A=n=>(0,r.J)({data:n,headers:S,widths:y,title:e});let U=["*","*","*","*","*","*","*","*"],T="Bill of Material (BoM) of Gr. Child Item",D=[{header:"BoM No.",key:"BOMNo",...t.t},{header:"Item Code",key:"grandChildItemCode",...t.t},{header:"Item Name",key:"grandChildItemName",...t.t},{header:"Item Description",key:"grandChildItemDescription",...t.t},{header:"UoM",key:"UOM",...t.t},{header:"Part Count",key:"partCount",...t.t},{header:"Material Cost",key:"totalMaterialCost",...t.t},{header:"Status",key:"status",...t.t}];const I=n=>({title:T,csvData:n,headers:D}),N=n=>(0,r.J)({data:n,headers:D,widths:U,title:T});let Z=["*","*","*","*","*","*","*","*","*","*"],k="Bill of Material (BoM) of Product",v=[{header:"BoM No.",key:"BOMNo",...t.t},{header:"Product No.",key:"productNo",...t.t},{header:"Product Category",key:"productCategory",...t.t},{header:"Product Name",key:"productName",...t.t},{header:"Product Description",key:"productDescription",...t.t},{header:"UoM",key:"UOM",...t.t},{header:"Part Count",key:"partCount",...t.t},{header:"Material Cost",key:"totalMaterialCost",...t.t},{header:"Status",key:"status",...t.t}];const b=n=>({title:k,csvData:n,headers:v}),E=n=>(0,r.J)({data:n,headers:v,widths:Z,title:k});let c=["*","*","*","*","*","*","*","*","*"],f="Bill of Material (BoM) of SKU",i=[{header:"BoM No.",key:"BOMNo",...t.t},{header:"SKU Code",key:"SKUCode",...t.t},{header:"SKU Name",key:"SKUName",...t.t},{header:"SKU Description",key:"SKUDescription",...t.t},{header:"UoM",key:"UOM",...t.t},{header:"Part Count",key:"partCount",...t.t},{header:"Total Material Cost",key:"totalMaterialCost",...t.t},{header:"Status",key:"status",...t.t}];const m=n=>({title:f,csvData:n,headers:i}),a=n=>(0,r.J)({data:n,headers:i,widths:c,title:f});let u=["*","*","*","*","*","*","*","*","*","*"],s="Child Item Master",h=[{header:"Child Item Category ",key:"childItemCategory",...t.t},{header:"Item Code",key:"itemCode",...t.t},{header:"Item Name",key:"itemName",...t.t},{header:"Item Description",key:"itemDescription",...t.t},{header:"UoM",key:"unitOfMeasurement",...t.t},{header:"HSN Code",key:"HSNCode",...t.t},{header:"Item Cost",key:"itemCost",...t.t},{header:"Source of mfg.",key:"sourceOfManufacturing",...t.t},{header:"Shelf Life (Months)",key:"shelfLife",...t.t},{header:"Status",key:"status",...t.t}];const M=n=>({title:s,csvData:n,headers:h}),R=n=>(0,r.J)({data:n,headers:h,widths:u,title:s});let re=["*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*"],x="Gr. Child Item Master",H=[{header:"Gr. Child Item Category ",key:"childItemCategory",...t.t},{header:"Item Code",key:"itemCode",...t.t},{header:"Item Name",key:"itemName",...t.t},{header:"Item Description",key:"itemDescription",...t.t},{header:"UoM",key:"unitOfMeasurement",...t.t},{header:"HSN Code",key:"HSNCode",...t.t},{header:"Item Cost",key:"itemCost",...t.t},{header:"Shelf Life (M) ",key:"shelfLife",...t.t},{header:"Source of mfg.",key:"sourceOfManufacturing",...t.t},{header:"Status",key:"status",...t.t}];const oe=n=>({title:x,csvData:n,headers:H}),ie=n=>(0,r.J)({data:n,headers:H,widths:re,title:x});let ne=["*","*","*","*","*","*","*","*","*","*","*","*"],w="Product Master",F=[{header:"Product No.",key:"productNo",...t.t},{header:"Product Category/Code",key:"productCategory",...t.t},{header:"Product Name",key:"productName",...t.t},{header:"Product Description",key:"productDescription",...t.t},{header:"HSN Code",key:"hsn",...t.t},{header:"UoM",key:"primaryUnit",...t.t},{header:"Unit Cost",key:"unitCost",...t.t},{header:"Source Of MFG.",key:"sourceOfMFG",...t.t},{header:"Shelf Life [Months]",key:"shelfLife",...t.t},{header:"Storage Temperature",key:"storageTemp",...t.t},{header:"Storage Humidity",key:"storageHumidity",...t.t}];const se=n=>({title:w,csvData:n,headers:F}),ae=n=>(0,r.J)({data:n,headers:F,widths:ne,title:w});let le=["*","*","*","*","*","*","*","*","*"],K="Process Resource Management",q=[{header:"Process Name",key:"processName",...t.t},{header:"Work Centre/Machine Name",key:"machineName",...t.t},{header:"# of Manpower",key:"noOfManpower",...t.t},{header:"Output/hr",key:"outputPerHr",...t.t},{header:"Labour Cost/hr",key:"labourCostPerHr",...t.t},{header:"Power consumption cost/hr",key:"powerConsumptionPerHr",...t.t}];const de=n=>({title:K,csvData:n,headers:q}),ce=n=>(0,r.J)({data:n,headers:q,widths:le,title:K});let G=[{header:"Item Code",key:"itemCode",...t.t},{header:"Item Name",key:"itemName",...t.t},{header:"Item Description",key:"itemDescription",...t.t},{header:"UoM",key:"UOM",...t.t},{header:"Qty/SKU Unit",key:"qtyPerSKUUnit",...t.t},{header:"Waste %",key:"wastePercentage",...t.t},{header:"Qty/Part Count",key:"partCount",...t.t},{header:"Unit Cost",key:"unitCost",...t.t},{header:"Item Cost",key:"itemCost",...t.t}];const pe=n=>({title:"Bill of Material (BoM) of SKU",csvData:n,headers:G});let V=[{header:"Item Code<",key:"itemCode",...t.t},{header:"Item Name",key:"itemName",...t.t},{header:"Item Description",key:"itemDescription",...t.t},{header:"UoM",key:"UOM",...t.t},{header:"Qty/SKU Unit",key:"qtyPerSKUUnit",...t.t},{header:"Waste %",key:"wastePercentage",...t.t},{header:"Qty/Part Count",key:"partCount",...t.t},{header:"Unit Cost",key:"unitCost",...t.t},{header:"Item Cost",key:"itemCost",...t.t}];const me=n=>({title:"BOM Of Grand Child Part",csvData:n,headers:V});let Y=[{header:"Item Code",key:"itemCode",...t.t},{header:"Item Name",key:"itemName",...t.t},{header:"Item Description",key:"itemDescription",...t.t},{header:"UoM",key:"UOM",...t.t},{header:"Qty/SKU Unit",key:"qtyPerSKUUnit",...t.t},{header:"Waste %",key:"wastePercentage",...t.t},{header:"Qty/Part Count",key:"partCount",...t.t},{header:"Unit Cost",key:"unitCost",...t.t},{header:"Item Cost",key:"itemCost",...t.t}];const fe=n=>({title:"Bill of Material (BoM) of D-SKU",csvData:n,headers:Y});let ge=["*","*","*","*","*","*","*"],z="Process Master",j=[{header:"Process ID",key:"processId",...t.t},{header:"Process Name",key:"processName",...t.t},{header:"Source",key:"sourceOfManufacturing",...t.t},{header:"Primary Assets/Allocation",key:"primaryAssetAllocation",...t.t},{header:"Std.Output/H",key:"unitProcessOutput",...t.t},{header:"Labour Rate/Hr",key:"totalRatePerHr",...t.t},{header:"Asset Rate/Hr",key:"totalAllocatedAssetCostPerHr",...t.t}];const ye=n=>({title:z,csvData:n,headers:j}),Ue=n=>(0,r.J)({data:n,headers:j,widths:ge,title:z});let Me=["*","*","*","*","*","*","*","*","*","*","*"],X="Direct Cost",$=[{header:"Product Category",key:"productCategory",...t.t},{header:"SKU No.",key:"SKUNo",...t.t},{header:"SKU Name",key:"SKUName",...t.t},{header:"SKU Description",key:"SKUDescription",...t.t},{header:"UoM",key:"UOM",...t.t},{header:"Labour Cost/Unit",key:"totalLabourCostPerUnit",...t.t},{header:"Asset Cost/Unit",key:"totalAssetCostPerUnit",...t.t},{header:"Tooling Cost/Unit",key:"totalToolingCostPerUnit",...t.t},{header:"Total Direct Process Cost/Unit",key:"totalCostPerUnit",...t.t}];const Se=n=>({title:X,csvData:n,headers:$}),Te=n=>(0,r.J)({data:n,headers:$,widths:Me,title:X});let Oe=["*","*","*","*","*","*","*","*","*","*","*","*"],ee="SKU Cost Sheet",te=[{header:"SKU No",key:"SKUNo",...t.t},{header:"SKU Name",key:"SKUName",...t.t},{header:"SKU Description",key:"SKUDescription",...t.t},{header:"UoM",key:"UOM",...t.t},{header:"COGS",key:"costOfGoodsSold",...t.t},{header:"OPEX",key:"operatingExpenses",...t.t},{header:"Total COO",key:"totalCostOfOperation",...t.t},{header:"Profit",key:"profit",...t.t},{header:"Selling Price",key:"sellingPrice",...t.t}];const Ae=n=>({title:ee,csvData:n,headers:te}),De=n=>(0,r.J)({data:n,headers:te,widths:Oe,title:ee})},72370:(P,g,d)=>{d.d(g,{ax:()=>t,ji:()=>y});const t=[{message:"Child Item Category is required",key:"childItemCategory"},{message:"Item Code is required",key:"itemCode"},{message:"Item Name is required",key:"itemName"},{message:"Item Description is required",key:"itemDescription"},{message:"HSN Code is required",key:"HSN"},{message:"Unit of Measuremen is required",key:"unitOfMeasurement"},{message:"Dual Units is required",key:"primaryUnit"},{message:"Item Cost (Exclusive of GS T) is required",key:"itemCost"},{message:"Source of Manufacturing is required",key:"sourceOfManufacturing"}],y=[]}}]);