"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[8075],{68075:(he,T,c)=>{c.r(T),c.d(T,{JobWorkerMasterModule:()=>ge});var u=c(96814),f=c(1076),s=c(60095),x=c(21631),w=c(22096),U=c(78944),b=c(43818),e=c(65879),p=c(37285),v=c(16897),m=c(2742),Z=c(88059),A=c(95346);function q(a,l){if(1&a){const i=e.EpF();e.TgZ(0,"tr")(1,"td",40),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"div",45),e._UZ(13,"button",46),e.TgZ(14,"div",47)(15,"a",48),e.NdJ("click",function(){const o=e.CHM(i),n=o.$implicit,r=o.index,d=e.oxw();return e.KtG(d.patchItem(n,r,"view"))}),e._UZ(16,"i",49),e._uU(17," View "),e.qZA(),e.TgZ(18,"a",48),e.NdJ("click",function(){const o=e.CHM(i),n=o.$implicit,r=o.index,d=e.oxw();return e.KtG(d.patchItem(n,r,"edit"))}),e._UZ(19,"i",50),e._uU(20," Edit "),e.qZA(),e.TgZ(21,"a",48),e.NdJ("click",function(){const n=e.CHM(i).index,r=e.oxw();return e.KtG(r.deleteItem(n))}),e._UZ(22,"i",51),e._uU(23," Delete "),e.qZA()()()()()}if(2&a){const i=l.$implicit,t=e.oxw();e.xp6(2),e.Oqu(i.bankName),e.xp6(2),e.Oqu(i.accountNumber),e.xp6(2),e.Oqu(i.accountType),e.xp6(2),e.Oqu(i.bankIFSCCode),e.xp6(2),e.Oqu(i.bankSwiftCode),e.xp6(5),e.ekj("disable","view"==t.action),e.xp6(3),e.ekj("disable","view"==t.action),e.xp6(3),e.ekj("disable","view"==t.action)}}function D(a,l){1&a&&e._UZ(0,"hr",52)}function S(a,l){if(1&a){const i=e.EpF();e.TgZ(0,"div",53)(1,"button",54),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dismiss())}),e._uU(2,"Save & Close"),e.qZA()()}}const W=function(a,l,i,t){return{page:a,pageSize:l,collection:i,search:t,excelDisplay:"none"}};let j=(()=>{var a;class l{constructor(t,o,n,r){this.activeModal=t,this.validationService=o,this.exportExcelService=n,this.toastService=r,this.action="",this.jobWorkerName="",this.jobWorkerBankDetails=[],this.btnDisable=!1,this.page=1,this.pageSize=5,this.collection=0,this.search="",this.column="createdAt",this.direction=-1,this.form=new s.nJ({index:new s.p4(-1),befName:new s.p4("",[s.kI.required]),bankName:new s.p4(""),accountNumber:new s.p4(""),accountType:new s.p4(""),bankIFSCCode:new s.p4(""),bankSwiftCode:new s.p4(""),supplierPurchaseType:new s.p4(""),ESPCategory:new s.p4("")}),this.exportsArr=[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],this.findFormErrors=[{message:"Beneficiary Name is required",key:"befName"}]}ngOnInit(){this.form.controls.befName.setValue(this.jobWorkerName),this.collection=this.jobWorkerBankDetails?.length,"view"==this.action&&this.form.disable()}eventHeader(t){switch(t.key){case"SEARCH":this.search=t.value;break;case"EXCEL":this.excelDownload(this.jobWorkerBankDetails);break;case"PAGE":this.page=t.value}}save(){if(this.validationService.checkErrors(this.form,this.findFormErrors))return;let t=this.form.value;(t.index||0==t.index)&&t.index>=0?this.jobWorkerBankDetails.splice(t.index,1,t):this.jobWorkerBankDetails.push(t),this.collection=this.jobWorkerBankDetails.length,this.form.reset(),this.form.controls.befName.setValue(this.jobWorkerName)}setSwiftCodeDisable(){this.form.controls.bankIFSCCode.value?(this.form.controls.bankSwiftCode.setValue(null),this.form.controls.bankSwiftCode.disable()):this.form.controls.bankSwiftCode.enable()}setIFSDisable(){this.form.controls.bankSwiftCode.value?(this.form.controls.bankIFSCCode.setValue(null),this.form.controls.bankIFSCCode.disable()):this.form.controls.bankIFSCCode.enable()}dismiss(){this.activeModal.close(this.jobWorkerBankDetails)}patchItem(t,o,n){"view"!=this.action&&(this.form.reset(),t.index=o,this.form.patchValue(t),"view"==n?(this.btnDisable=!0,this.form.disable()):(this.form.enable(),this.btnDisable=!1)),this.setSwiftCodeDisable(),this.setIFSDisable()}deleteItem(t){"view"!=this.action&&(this.jobWorkerBankDetails.splice(t+(this.page-1)*this.pageSize,1),this.collection=this.jobWorkerBankDetails.length)}excelDownload(t){let o={width:24,style:{alignment:{vertical:"middle",horizontal:"center",wrapText:!0}}},n={title:"Customer Contact Details",csvData:t,headers:[{header:"Beneficiary Name",key:"befName",...o},{header:"Bank Name",key:"bankName",...o},{header:"Account Type",key:"accountType",...o},{header:"Account No.",key:"accountNumber",...o},{header:"IFS/Swift Code",key:"bankIFSCCode",...o}]};this.exportExcelService.exportExcel(n)}onSort({column:t,direction:o}){this.headers.forEach(n=>{n.sortable!==t&&(n.direction="")}),this.jobWorkerBankDetails=""===o||""===t?this.jobWorkerBankDetails:[...this.jobWorkerBankDetails].sort((n,r)=>{let d="string"==typeof n[t]?n[t].toLowerCase():n[t],_="string"==typeof r[t]?r[t].toLowerCase():r[t];const g=d<_?-1:d>_?1:0;return"asc"===o?g:-g})}}return(a=l).\u0275fac=function(t){return new(t||a)(e.Y36(p.Kz),e.Y36(v.RJ),e.Y36(m.Ol),e.Y36(m.kl))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-jw-bank-details-modal"]],viewQuery:function(t,o){if(1&t&&e.Gf(b.j,5),2&t){let n;e.iGM(n=e.CRH())&&(o.headers=n)}},inputs:{action:"action",jobWorkerName:"jobWorkerName",jobWorkerBankDetails:"jobWorkerBankDetails"},decls:95,vars:23,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container-fluid"],[3,"formGroup"],[1,"row","my-4","px-5"],[1,"col-md-4","ps-0"],[1,"form-label"],[1,"text-danger"],["type","text","formControlName","befName",1,"form-control"],[1,"row","my-4"],[1,"line-border","mb-0"],[1,"col-7"],[1,"row"],[1,"col-6","ps-1"],["type","text","formControlName","bankName",1,"form-control"],[1,"col-3","ps-0"],["formControlName","accountNumber",1,"form-select"],["selected","","disabled","",3,"value"],[3,"value"],["type","text","formControlName","accountType",1,"form-control"],[1,"col-5"],[1,"row","px-0"],[1,"col-5","ps-1"],["type","text","formControlName","bankIFSCCode",1,"form-control",3,"input"],[1,"col-6","ps-0","pe-2"],["type","text","formControlName","bankSwiftCode",1,"form-control",3,"input"],[1,"col-1","d-flex","align-items-end","ps-1"],["type","button",1,"plusIconSvg","btn","btn-primary",3,"disabled","click"],[1,"row","mt-4"],[1,"mt-3","line-border-with-title","d-flex","justify-content-center"],[1,"px-4"],[1,"px-3","mt-0"],[3,"data","dataChange"],[1,"table-responsive","px-3",2,"min-height","23rem"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],[1,"text-start"],[4,"ngFor","ngForOf"],["class","row line-border",4,"ngIf"],[1,"row","mb-3"],["class","col text-center",4,"ngIf"],[1,"dropdown"],[1,"dropbtn"],[1,"dropdown-content"],["href","javascript:void(0)",3,"click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg","me-2","text-primary"],["aria-hidden","true",1,"fa","fa-pencil-square-o","fa-lg","me-2","text-primary"],["aria-hidden","true",1,"fa","fa-trash","me-2","text-primary"],[1,"row","line-border"],[1,"col","text-center"],["type","button",1,"btn","btn-primary","px-5",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"JW Bank Details"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return o.activeModal.close()}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"form",6)(9,"div",7)(10,"div",8)(11,"label",9),e._uU(12," Beneficiary Name "),e.TgZ(13,"span",10),e._uU(14,"*"),e.qZA()(),e._UZ(15,"input",11),e.qZA()(),e.TgZ(16,"div",12),e._UZ(17,"hr",13),e.qZA(),e.TgZ(18,"div",7)(19,"div",14)(20,"div",15)(21,"div",16)(22,"label",9),e._uU(23," Bank Name "),e.TgZ(24,"span",10),e._uU(25,"*"),e.qZA()(),e._UZ(26,"input",17),e.qZA(),e.TgZ(27,"div",18)(28,"label",9),e._uU(29," Account Type "),e.TgZ(30,"span",10),e._uU(31,"*"),e.qZA()(),e.TgZ(32,"div")(33,"select",19)(34,"option",20),e._uU(35,"Select"),e.qZA(),e.TgZ(36,"option",21),e._uU(37,"Current"),e.qZA(),e.TgZ(38,"option",21),e._uU(39,"Saving"),e.qZA(),e.TgZ(40,"option",21),e._uU(41,"Cash Credit - CC"),e.qZA(),e.TgZ(42,"option",21),e._uU(43,"Over Draft - OD"),e.qZA()()()(),e.TgZ(44,"div",18)(45,"label",9),e._uU(46," Account No. "),e.TgZ(47,"span",10),e._uU(48,"*"),e.qZA()(),e._UZ(49,"input",22),e.qZA()()(),e.TgZ(50,"div",23)(51,"div",24)(52,"div",25)(53,"label",9),e._uU(54," IFS Code "),e.TgZ(55,"span",10),e._uU(56,"*"),e.qZA()(),e.TgZ(57,"input",26),e.NdJ("input",function(){return o.setSwiftCodeDisable()}),e.qZA()(),e.TgZ(58,"div",27)(59,"label",9),e._uU(60," Swift Code"),e.TgZ(61,"span",10),e._uU(62,"*"),e.qZA()(),e.TgZ(63,"input",28),e.NdJ("input",function(){return o.setIFSDisable()}),e.qZA()(),e.TgZ(64,"div",29)(65,"button",30),e.NdJ("click",function(){return o.save()}),e.qZA()()()()()(),e.TgZ(66,"div",31)(67,"div",32)(68,"span",33),e._uU(69," Bank Details "),e.qZA()()(),e.TgZ(70,"div",34)(71,"app-setting-header",35),e.NdJ("dataChange",function(r){return o.eventHeader(r)}),e.qZA()(),e.TgZ(72,"div",36)(73,"table",37)(74,"thead",38)(75,"tr",39)(76,"th",40),e._uU(77,"Bank Name"),e.qZA(),e.TgZ(78,"th"),e._uU(79,"Account Type"),e.qZA(),e.TgZ(80,"th"),e._uU(81,"Account No."),e.qZA(),e.TgZ(82,"th"),e._uU(83,"IFS Code"),e.qZA(),e.TgZ(84,"th"),e._uU(85,"Swift Code"),e.qZA(),e.TgZ(86,"th"),e._uU(87,"Action"),e.qZA()()(),e.TgZ(88,"tbody"),e.YNc(89,q,24,11,"tr",41),e.ALo(90,"slice"),e.ALo(91,"searchFi1ter"),e.qZA()()(),e.YNc(92,D,1,0,"hr",42),e.TgZ(93,"div",43),e.YNc(94,S,3,0,"div",44),e.qZA()()()),2&t&&(e.xp6(8),e.Q6J("formGroup",o.form),e.xp6(26),e.Q6J("value",null),e.xp6(2),e.Q6J("value","Current"),e.xp6(2),e.Q6J("value","Saving"),e.xp6(2),e.Q6J("value","Cash Credit - CC"),e.xp6(2),e.Q6J("value","Over Draft - OD"),e.xp6(23),e.Q6J("disabled",o.btnDisable||"view"==o.action),e.xp6(6),e.Q6J("data",e.l5B(18,W,o.page,o.pageSize,o.collection,o.search)),e.xp6(18),e.Q6J("ngForOf",e.Dn7(90,11,e.xi3(91,15,o.jobWorkerBankDetails,o.search),(o.page-1)*o.pageSize,(o.page-1)*o.pageSize+o.pageSize)),e.xp6(3),e.Q6J("ngIf","view"!=o.action),e.xp6(2),e.Q6J("ngIf","view"!=o.action))},dependencies:[u.sg,u.O5,Z.P,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.sg,s.u,u.OU,A.G],encapsulation:2}),l})();function I(a,l){if(1&a){const i=e.EpF();e.TgZ(0,"tr")(1,"td",33),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"div",38),e._UZ(13,"button",39),e.TgZ(14,"div",40)(15,"a",41),e.NdJ("click",function(){const o=e.CHM(i),n=o.$implicit,r=o.index,d=e.oxw();return e.KtG(d.patchItem(n,r,"view"))}),e._UZ(16,"i",42),e._uU(17," View "),e.qZA(),e.TgZ(18,"a",41),e.NdJ("click",function(){const o=e.CHM(i),n=o.$implicit,r=o.index,d=e.oxw();return e.KtG(d.patchItem(n,r,"edit"))}),e._UZ(19,"i",43),e._uU(20," Edit "),e.qZA(),e.TgZ(21,"a",41),e.NdJ("click",function(){const n=e.CHM(i).index,r=e.oxw();return e.KtG(r.deleteItem(n))}),e._UZ(22,"i",44),e._uU(23," Delete "),e.qZA()()()()()}if(2&a){const i=l.$implicit,t=e.oxw();e.xp6(2),e.Oqu(null==i?null:i.contactPersonName),e.xp6(2),e.Oqu(null==i?null:i.department),e.xp6(2),e.Oqu(null==i?null:i.designation),e.xp6(2),e.Oqu(null==i?null:i.mobileNo),e.xp6(2),e.Oqu(null==i?null:i.emailId),e.xp6(5),e.ekj("disable","view"==t.action),e.xp6(3),e.ekj("disable","view"==t.action),e.xp6(3),e.ekj("disable","view"==t.action)}}function O(a,l){1&a&&e._UZ(0,"hr",45)}function F(a,l){if(1&a){const i=e.EpF();e.TgZ(0,"div",46)(1,"button",47),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.dismiss())}),e._uU(2,"Save & Close"),e.qZA()()}}const E=function(a,l,i,t){return{page:a,pageSize:l,collection:i,search:t,excelDisplay:"none"}};let P=(()=>{var a;class l{constructor(t,o,n){this.activeModal=t,this.validationService=o,this.exportExcelService=n,this.action="",this.jobWorkerContactDetails=[],this.btnDisable=!1,this.page=1,this.pageSize=5,this.collection=0,this.search="",this.column="createdAt",this.direction=-1,this.form=new s.nJ({index:new s.p4(-1),contactPersonName:new s.p4(null,[s.kI.required]),department:new s.p4(null),designation:new s.p4(null),mobileNo:new s.p4(null,[s.kI.required]),emailId:new s.p4(null,[s.kI.required])}),this.findFormErrors=[{message:"Contact Persons Name is Required",key:"contactPersonName"},{message:"Mobile No. is Required",key:"mobileNo"},{message:"E-mail ID is Required",key:"emailId"}]}ngOnInit(){this.collection=this.jobWorkerContactDetails?.length,"view"==this.action&&this.form.disable()}eventHeader(t){switch(t.key){case"SEARCH":this.search=t.value;break;case"EXCEL":this.excelDownload(this.jobWorkerContactDetails);break;case"PAGE":this.page=t.value}}save(){if(this.validationService.checkErrors(this.form,this.findFormErrors))return;let t=this.form.value;(t.index||0==t.index)&&t.index>=0?this.jobWorkerContactDetails.splice(t.index,1,t):this.jobWorkerContactDetails.push(t),this.collection=this.jobWorkerContactDetails.length,this.form.reset()}patchItem(t,o,n){"view"!=this.action&&(t.index=o,this.form.patchValue(t),"view"==n?(this.btnDisable=!0,this.form.disable()):(this.form.enable(),this.btnDisable=!1))}deleteItem(t){"view"!=this.action&&(this.jobWorkerContactDetails.splice(t+(this.page-1)*this.pageSize,1),this.collection=this.jobWorkerContactDetails.length)}dismiss(){this.activeModal.close(this.jobWorkerContactDetails)}excelDownload(t){let o={width:24,style:{alignment:{vertical:"middle",horizontal:"center",wrapText:!0}}},n={title:"Customer Contact Details",csvData:t,headers:[{header:"Contact Person",key:"supplierContactPersonName",...o},{header:"Designation",key:"supplierContactPersonDesignation",...o},{header:"Mobile No.",key:"supplierContactPersonNumber",...o},{header:"E-mail ID",key:"supplierContactPersonEmail",...o}]};this.exportExcelService.exportExcel(n)}onSort({column:t,direction:o}){this.headers.forEach(n=>{n.sortable!==t&&(n.direction="")}),this.jobWorkerContactDetails=""===o||""===t?this.jobWorkerContactDetails:[...this.jobWorkerContactDetails].sort((n,r)=>{let d="string"==typeof n[t]?n[t].toLowerCase():n[t],_="string"==typeof r[t]?r[t].toLowerCase():r[t];const g=d<_?-1:d>_?1:0;return"asc"===o?g:-g})}}return(a=l).\u0275fac=function(t){return new(t||a)(e.Y36(p.Kz),e.Y36(v.RJ),e.Y36(m.Ol))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-jw-contact-details-modal"]],viewQuery:function(t,o){if(1&t&&e.Gf(b.j,5),2&t){let n;e.iGM(n=e.CRH())&&(o.headers=n)}},inputs:{action:"action",jobWorkerContactDetails:"jobWorkerContactDetails"},decls:74,vars:18,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,""],[1,"container-fluid"],[3,"formGroup"],[1,"row","px-5","mt-4"],[1,"col-7","px-0"],[1,"row"],[1,"col-6"],[1,"form-label"],[1,"text-danger"],["type","text","formControlName","contactPersonName",1,"form-control"],[1,"col-3","ps-1"],["type","text","formControlName","department",1,"form-control"],["type","text","formControlName","designation",1,"form-control"],[1,"col-5"],["type","text","formControlName","mobileNo",1,"form-control"],[1,"col-6","ps-1"],["type","text","formControlName","emailId",1,"form-control"],[1,"col-1","d-flex","align-items-end","ps-0"],["type","button",1,"plusIconSvg","btn","btn-primary",3,"disabled","click"],[1,"row","mt-4"],[1,"mt-3","line-border-with-title","d-flex","justify-content-center"],[1,"px-4"],[1,"mt-0","px-3"],[3,"data","dataChange"],[1,"table-responsive","px-3",2,"min-height","20.8rem"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],[1,"text-start"],[4,"ngFor","ngForOf"],["class","row line-border",4,"ngIf"],[1,"row","mb-3"],["class","col text-center",4,"ngIf"],[1,"dropdown"],[1,"dropbtn"],[1,"dropdown-content"],["href","javascript:void(0)",3,"click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg","me-2","text-primary"],["aria-hidden","true",1,"fa","fa-pencil-square-o","fa-lg","me-2","text-primary"],["aria-hidden","true",1,"fa","fa-trash","me-2","text-primary"],[1,"row","line-border"],[1,"col","text-center"],["type","button",1,"btn","btn-primary","px-5",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"JW Contact Details"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return o.activeModal.close()}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"form",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"label",12),e._uU(15," Contact Person's Name "),e.TgZ(16,"span",13),e._uU(17,"*"),e.qZA()(),e._UZ(18,"input",14),e.qZA(),e.TgZ(19,"div",15)(20,"label",12),e._uU(21," Department"),e._UZ(22,"span",13),e.qZA(),e._UZ(23,"input",16),e.qZA(),e.TgZ(24,"div",15)(25,"label",12),e._uU(26," Designation "),e._UZ(27,"span",13),e.qZA(),e._UZ(28,"input",17),e.qZA()()(),e.TgZ(29,"div",18)(30,"div",10)(31,"div",18)(32,"label",12),e._uU(33," Mobile No. "),e.TgZ(34,"span",13),e._uU(35,"*"),e.qZA()(),e._UZ(36,"input",19),e.qZA(),e.TgZ(37,"div",20)(38,"label",12),e._uU(39," E-mail ID"),e.TgZ(40,"span",13),e._uU(41,"*"),e.qZA()(),e._UZ(42,"input",21),e.qZA(),e.TgZ(43,"div",22)(44,"button",23),e.NdJ("click",function(){return o.save()}),e.qZA()()()()()(),e.TgZ(45,"div",24)(46,"div",25)(47,"span",26),e._uU(48," Contact List "),e.qZA()()(),e.TgZ(49,"div",27)(50,"app-setting-header",28),e.NdJ("dataChange",function(r){return o.eventHeader(r)}),e.qZA()(),e.TgZ(51,"div",29)(52,"table",30)(53,"thead",31)(54,"tr",32)(55,"th",33),e._uU(56,"Contact Person's Name"),e.qZA(),e.TgZ(57,"th"),e._uU(58,"Department"),e.qZA(),e.TgZ(59,"th"),e._uU(60,"Designation"),e.qZA(),e.TgZ(61,"th"),e._uU(62,"Mobile No."),e.qZA(),e.TgZ(63,"th"),e._uU(64,"E-mail ID"),e.qZA(),e.TgZ(65,"th"),e._uU(66,"Action"),e.qZA()()(),e.TgZ(67,"tbody"),e.YNc(68,I,24,11,"tr",34),e.ALo(69,"slice"),e.ALo(70,"searchFi1ter"),e.qZA()()(),e.YNc(71,O,1,0,"hr",35),e.TgZ(72,"div",36),e.YNc(73,F,3,0,"div",37),e.qZA()()()()),2&t&&(e.xp6(9),e.Q6J("formGroup",o.form),e.xp6(35),e.Q6J("disabled",o.btnDisable||"view"==o.action),e.xp6(6),e.Q6J("data",e.l5B(13,E,o.page,o.pageSize,o.collection,o.search)),e.xp6(18),e.Q6J("ngForOf",e.Dn7(69,6,e.xi3(70,10,o.jobWorkerContactDetails,o.search),(o.page-1)*o.pageSize,(o.page-1)*o.pageSize+o.pageSize)),e.xp6(3),e.Q6J("ngIf","view"!=o.action),e.xp6(2),e.Q6J("ngIf","view"!=o.action))},dependencies:[u.sg,u.O5,Z.P,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,u.OU,A.G],encapsulation:2}),l})();function B(a,l){if(1&a){const i=e.EpF();e.TgZ(0,"div",19)(1,"button",20),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.save())}),e._uU(2,"Save & Close"),e.qZA()()}}let Q=(()=>{var a;class l{constructor(t){this.activeModal=t,this.MSMEClassification="",this.action="",this.btnDisable=!1,this.page=1,this.pageSize=5,this.collection=0,this.search="",this.column="createdAt",this.direction=-1,this.supplierBankDetailsArray=[],this.findFormErrors=[{message:"MSME Classification is required",key:"MSMEClassification"}]}ngOnInit(){}eventHeader(t){switch(t.key){case"SEARCH":this.search=t.value;break;case"EXCEL":default:break;case"PAGE":this.page=t.value}}save(){this.activeModal.close(this.MSMEClassification)}}return(a=l).\u0275fac=function(t){return new(t||a)(e.Y36(p.Kz))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-jw-msme-category-modal"]],viewQuery:function(t,o){if(1&t&&e.Gf(b.j,5),2&t){let n;e.iGM(n=e.CRH())&&(o.headers=n)}},inputs:{MSMEClassification:"MSMEClassification",action:"action",supplierBankDetailsArray:"supplierBankDetailsArray"},decls:27,vars:4,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container-fluid"],[1,"row","my-4","px-5"],[1,"col","px-0"],[1,"form-label","mb-2"],[1,"text-danger"],[1,"form-select",3,"disabled","ngModel","ngModelChange"],["selected","","disabled","",3,"value"],["value","Micro"],["value","Small"],["value","Medium"],["value","Large"],[1,"row","line-border"],[1,"row","mb-4"],["class","col text-center",4,"ngIf"],[1,"col","text-center"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"MSME Category"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return o.activeModal.close()}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"label",8),e._uU(11," MSME Category of Job Worker "),e._UZ(12,"span",9),e.qZA(),e.TgZ(13,"select",10),e.NdJ("ngModelChange",function(r){return o.MSMEClassification=r}),e.TgZ(14,"option",11),e._uU(15,"Select"),e.qZA(),e.TgZ(16,"option",12),e._uU(17,"Micro"),e.qZA(),e.TgZ(18,"option",13),e._uU(19,"Small"),e.qZA(),e.TgZ(20,"option",14),e._uU(21,"Medium"),e.qZA(),e.TgZ(22,"option",15),e._uU(23,"Large"),e.qZA()()()(),e._UZ(24,"hr",16),e.TgZ(25,"div",17),e.YNc(26,B,3,0,"div",18),e.qZA()()()),2&t&&(e.xp6(13),e.Q6J("disabled","view"==o.action)("ngModel",o.MSMEClassification),e.xp6(1),e.Q6J("value",null),e.xp6(12),e.Q6J("ngIf","view"!=o.action))},dependencies:[u.O5,s.YN,s.Kr,s.EJ,s.JJ,s.On],encapsulation:2}),l})();function L(a,l){if(1&a){const i=e.EpF();e.TgZ(0,"div",14)(1,"button",15),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.save())}),e._uU(2,"Save & Close"),e.qZA()()}}let Y=(()=>{var a;class l{constructor(t){this.activeModal=t,this.jobWorkerNickName="",this.action="",this.btnDisable=!1,this.page=1,this.pageSize=5,this.collection=0,this.search="",this.column="createdAt",this.direction=-1,this.supplierBankDetailsArray=[],this.findFormErrors=[{message:"job Worker Nick Name is required",key:"jobWorkerNickName"}]}ngOnInit(){}eventHeader(t){switch(t.key){case"SEARCH":this.search=t.value;break;case"EXCEL":default:break;case"PAGE":this.page=t.value}}save(){this.activeModal.close(this.jobWorkerNickName)}}return(a=l).\u0275fac=function(t){return new(t||a)(e.Y36(p.Kz))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-jw-nick-name-modal"]],viewQuery:function(t,o){if(1&t&&e.Gf(b.j,5),2&t){let n;e.iGM(n=e.CRH())&&(o.headers=n)}},inputs:{jobWorkerNickName:"jobWorkerNickName",action:"action",supplierBankDetailsArray:"supplierBankDetailsArray"},decls:17,vars:3,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container-fluid"],[1,"row","my-4","px-5"],[1,"col","px-0"],[1,"form-label","mb-2"],[1,"text-danger"],["type","text",1,"form-control",3,"disabled","ngModel","ngModelChange"],[1,"row","line-border"],[1,"row","mb-4"],["class","col text-center",4,"ngIf"],[1,"col","text-center"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Nick Name"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return o.activeModal.close()}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"label",8),e._uU(11," Job Worker - Nick Name "),e._UZ(12,"span",9),e.qZA(),e.TgZ(13,"input",10),e.NdJ("ngModelChange",function(r){return o.jobWorkerNickName=r}),e.qZA()()(),e._UZ(14,"hr",11),e.TgZ(15,"div",12),e.YNc(16,L,3,0,"div",13),e.qZA()()()),2&t&&(e.xp6(13),e.Q6J("disabled","view"==o.action)("ngModel",o.jobWorkerNickName),e.xp6(3),e.Q6J("ngIf","view"!=o.action))},dependencies:[u.O5,s.Fj,s.JJ,s.On],encapsulation:2}),l})();var G=c(66929),M=c(48720);function z(a,l){if(1&a&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&a){const i=l.$implicit;e.Q6J("value",null==i?null:i.value),e.xp6(1),e.hij(" ",null==i?null:i.label," ")}}function H(a,l){if(1&a&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&a){const i=l.$implicit;e.Q6J("value",i.value),e.xp6(1),e.hij(" ",null==i?null:i.label," ")}}function K(a,l){1&a&&e._UZ(0,"div",50)}function R(a,l){1&a&&e._UZ(0,"div",51)}function $(a,l){if(1&a&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&a){const i=l.$implicit;e.Q6J("value",i),e.xp6(1),e.hij(" ",i," ")}}function V(a,l){if(1&a&&(e.ynx(0,52),e.TgZ(1,"div",5)(2,"div",53)(3,"label",7),e._uU(4," Country "),e.TgZ(5,"span",10),e._uU(6,"*"),e.qZA()(),e._UZ(7,"input",54),e.qZA(),e.TgZ(8,"div",53)(9,"label",7),e._uU(10," State/Province "),e.TgZ(11,"span",10),e._uU(12,"*"),e.qZA()(),e.TgZ(13,"select",55)(14,"option",56),e._uU(15,"Select State"),e.qZA(),e.YNc(16,$,2,2,"option",23),e.qZA()(),e.TgZ(17,"div",53)(18,"label",7),e._uU(19," City/District "),e.TgZ(20,"span",10),e._uU(21,"*"),e.qZA()(),e._UZ(22,"input",57),e.qZA(),e.TgZ(23,"div",53)(24,"label",7),e._uU(25," Pin Code "),e.TgZ(26,"span",10),e._uU(27,"*"),e.qZA()(),e._UZ(28,"input",58),e.qZA()(),e.TgZ(29,"div",59)(30,"div",53)(31,"label",7),e._uU(32,"Address Line 1 "),e.TgZ(33,"span",10),e._uU(34,"*"),e.qZA()(),e._UZ(35,"input",60),e.qZA(),e.TgZ(36,"div",53)(37,"label",7),e._uU(38,"Address Line 2 "),e.TgZ(39,"span",10),e._uU(40,"*"),e.qZA()(),e._UZ(41,"input",61),e.qZA(),e.TgZ(42,"div",53)(43,"label",7),e._uU(44,"Address Line 3 "),e.TgZ(45,"span",10),e._uU(46,"*"),e.qZA()(),e._UZ(47,"input",62),e.qZA(),e.TgZ(48,"div",53)(49,"label",7),e._uU(50,"Address Line 4 "),e._UZ(51,"span",10),e.qZA(),e._UZ(52,"input",63),e.qZA()(),e.BQk()),2&a){const i=e.oxw();e.xp6(16),e.Q6J("ngForOf",i.statesOfIndia)}}function X(a,l){if(1&a&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&a){const i=l.$implicit;e.Q6J("value",i.parameterName),e.xp6(1),e.hij(" ",i.parameterLabel," ")}}function ee(a,l){if(1&a&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&a){const i=l.$implicit;e.Q6J("value",i),e.xp6(1),e.hij(" ",i," ")}}const h=function(){return{standalone:!0}};function te(a,l){if(1&a){const i=e.EpF();e.TgZ(0,"div",5)(1,"div",53)(2,"label",7),e._uU(3," Country "),e.TgZ(4,"span",10),e._uU(5,"*"),e.qZA()(),e.TgZ(6,"select",66),e.NdJ("ngModelChange",function(o){e.CHM(i);const n=e.oxw().$implicit;return e.KtG(n.country=o)}),e.TgZ(7,"option",28),e._uU(8,"Select Country"),e.qZA(),e.YNc(9,X,2,2,"option",23),e.qZA()(),e.TgZ(10,"div",53)(11,"label",7),e._uU(12," State/Province "),e.TgZ(13,"span",10),e._uU(14,"*"),e.qZA()(),e.TgZ(15,"select",66),e.NdJ("ngModelChange",function(o){e.CHM(i);const n=e.oxw().$implicit;return e.KtG(n.state=o)}),e.TgZ(16,"option",56),e._uU(17,"Select State"),e.qZA(),e.YNc(18,ee,2,2,"option",23),e.qZA()(),e.TgZ(19,"div",53)(20,"label",7),e._uU(21," City/District "),e.TgZ(22,"span",10),e._uU(23,"*"),e.qZA()(),e.TgZ(24,"input",67),e.NdJ("ngModelChange",function(o){e.CHM(i);const n=e.oxw().$implicit;return e.KtG(n.cityOrDistrict=o)}),e.qZA()(),e.TgZ(25,"div",53)(26,"label",7),e._uU(27," Pin Code "),e.TgZ(28,"span",10),e._uU(29,"*"),e.qZA()(),e.TgZ(30,"input",68),e.NdJ("ngModelChange",function(o){e.CHM(i);const n=e.oxw().$implicit;return e.KtG(n.pinCode=o)}),e.qZA()()(),e.TgZ(31,"div",59)(32,"div",53)(33,"label",7),e._uU(34,"Address Line 1 "),e.TgZ(35,"span",10),e._uU(36,"*"),e.qZA()(),e.TgZ(37,"input",67),e.NdJ("ngModelChange",function(o){e.CHM(i);const n=e.oxw().$implicit;return e.KtG(n.line1=o)}),e.qZA()(),e.TgZ(38,"div",53)(39,"label",7),e._uU(40,"Address Line 2 "),e.TgZ(41,"span",10),e._uU(42,"*"),e.qZA()(),e.TgZ(43,"input",67),e.NdJ("ngModelChange",function(o){e.CHM(i);const n=e.oxw().$implicit;return e.KtG(n.line2=o)}),e.qZA()(),e.TgZ(44,"div",53)(45,"label",7),e._uU(46,"Address Line 3 "),e.TgZ(47,"span",10),e._uU(48,"*"),e.qZA()(),e.TgZ(49,"input",67),e.NdJ("ngModelChange",function(o){e.CHM(i);const n=e.oxw().$implicit;return e.KtG(n.line3=o)}),e.qZA()(),e.TgZ(50,"div",53)(51,"label",7),e._uU(52,"Address Line 4 "),e._UZ(53,"span",10),e.qZA(),e.TgZ(54,"input",67),e.NdJ("ngModelChange",function(o){e.CHM(i);const n=e.oxw().$implicit;return e.KtG(n.line4=o)}),e.qZA()()()}if(2&a){const i=e.oxw().$implicit,t=e.oxw();e.xp6(6),e.Q6J("ngModel",i.country)("ngModelOptions",e.DdM(27,h))("disabled","view"==t.action),e.xp6(1),e.Q6J("value",null),e.xp6(2),e.Q6J("ngForOf",null==t.masterData?null:t.masterData.purchaseCountryOptions),e.xp6(6),e.Q6J("ngModel",i.state)("ngModelOptions",e.DdM(28,h))("disabled","view"==t.action),e.xp6(3),e.Q6J("ngForOf",t.statesOfIndia),e.xp6(6),e.Q6J("ngModel",i.cityOrDistrict)("ngModelOptions",e.DdM(29,h))("disabled","view"==t.action),e.xp6(6),e.Q6J("ngModel",i.pinCode)("ngModelOptions",e.DdM(30,h))("disabled","view"==t.action),e.xp6(7),e.Q6J("ngModel",i.line1)("ngModelOptions",e.DdM(31,h))("disabled","view"==t.action),e.xp6(6),e.Q6J("ngModel",i.line2)("ngModelOptions",e.DdM(32,h))("disabled","view"==t.action),e.xp6(6),e.Q6J("ngModel",i.line3)("ngModelOptions",e.DdM(33,h))("disabled","view"==t.action),e.xp6(5),e.Q6J("ngModel",i.line4)("ngModelOptions",e.DdM(34,h))("disabled","view"==t.action)}}function oe(a,l){if(1&a){const i=e.EpF();e.TgZ(0,"li",36)(1,"button",37),e._uU(2),e.TgZ(3,"span",64)(4,"i",65),e.NdJ("click",function(){const n=e.CHM(i).index,r=e.oxw();return e.KtG(r.removePlace(n))}),e.qZA()()(),e.YNc(5,te,55,35,"ng-template",38),e.qZA()}if(2&a){const i=l.index;e.Q6J("ngbNavItem",i),e.xp6(2),e.hij(" Address ",i+2," ")}}function ie(a,l){if(1&a){const i=e.EpF();e.TgZ(0,"div",69)(1,"button",70),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.submit())}),e._uU(2,"Save"),e.qZA()()}}let ne=(()=>{var a;class l{constructor(t,o,n,r,d,_,g,C,k){this.jobWorkerService=t,this.activatedRoute=o,this.spinner=n,this.toastService=r,this.validationService=d,this.modalService=_,this.location=g,this.utilityService=C,this.fb=k,this.submitted=!1,this.action="create",this.jobWorkerAdditionalPlacesOfBusiness=[],this.jobWorkerBankDetails=[],this.jobWorkerContactDetails=[],this.additionalPlacesOfBusiness=[],this.active=-1,this.cpaPurchaseAgreement=null,this.statesOfIndia=U.F,this.masterData={autoIncrementNo:"",currenciesOptions:[],paymentTermsOptions:[],purchaseCountryOptions:[]},this.tabs=[1,2,3,4,5],this.counter=this.tabs.length+1,this.form=this.fb.group({_id:[null],jobWorkerCode:[null,[s.kI.required]],jobWorkerName:[null,[s.kI.required]],jobWorkerNickName:[null],GSTClassification:[null],GSTINNo:[null],PANNo:[null],currency:["INR"],paymentTerms:[null],MSMEClassification:[null],status:["Active"],primaryAddress:this.fb.group({country:["India"],state:[null],cityOrDistrict:[null],pinCode:[null],line1:[null],line2:[null],line3:[null],line4:[null]}),additionalPlacesOfBusiness:[[]],contactDetails:this.fb.group({contactPersonName:[null],department:[null],designation:[null],mobileNo:[null],emailId:[null]}),bankDetails:this.fb.group({befName:[null],bankName:[null],accountNumber:[null],accountType:[null],bankIFSCCode:[null],bankSwiftCode:[null]})})}close(t,o){this.tabs=this.tabs.filter(n=>n!==o),t.preventDefault(),t.stopImmediatePropagation()}add(t){this.tabs.push(this.counter++),t.preventDefault()}get f(){return this.form.controls}get jobWorkerContactInfo(){return this.form.get("contactDetails")}get jobWorkerBankInfo(){return this.form.get("bankDetails")}get primaryAddressDetails(){return this.form.get("primaryAddress")}newAdditionalAddress(){this.additionalPlacesOfBusiness.push({country:null,state:null,cityOrDistrict:null,pinCode:null,line1:null,line2:null,line3:null,line4:null})}addPlace(){if(["edit","create"].includes(this.action)){let t=this.additionalPlacesOfBusiness.length-1,o={};if(o=-1!=t?this.additionalPlacesOfBusiness[t]:this.primaryAddressDetails.value,!o.country)return void this.toastService.warning("Country is required !");if(!o.state)return void this.toastService.warning("State/Province is required !");if(!o.cityOrDistrict)return void this.toastService.warning("City/District is required !");if(!o.pinCode)return void this.toastService.warning("Pin Code is required !");if(!o.line1)return void this.toastService.warning("Address Line 1 is required !");if(!o.line2)return void this.toastService.warning("Address Line 2 is required !");if(!o.line3)return void this.toastService.warning("Address Line 3 is required !");this.newAdditionalAddress(),this.active=this.additionalPlacesOfBusiness.length-1}}removePlace(t){["edit","create"].includes(this.action)&&(this.additionalPlacesOfBusiness.splice(t,1),t==this.active&&(this.active=this.additionalPlacesOfBusiness.length-1))}ngOnInit(){this.getInitialData()}reset(){this.form.reset(),this.getInitialData()}submit(){if(this.submitted=!0,this.form.enable(),this.validationService.checkErrors(this.form,G.we))return;let t=this.form.value;t.additionalPlacesOfBusiness=this.additionalPlacesOfBusiness,t.contactDetails=this.jobWorkerContactDetails,t.bankDetails=this.jobWorkerBankDetails,t._id?this.update(t._id,t):(delete t._id,this.create(t))}create(t){this.spinner.show(),this.jobWorkerService.create(t).subscribe(o=>{this.submitted=!1,this.spinner.hide(),this.toastService.success(o.message),this.location.back()})}update(t,o){this.spinner.show(),this.jobWorkerService.update(t,o).subscribe(n=>{this.spinner.hide(),this.submitted=!1,this.toastService.success(n.message),this.location.back()})}getInitialData(){this.spinner.show(),this.jobWorkerService.getAllMasterData({}).subscribe(t=>{this.masterData=t,this.form.controls.jobWorkerCode.setValue(this.masterData.autoIncrementNo),this.form.controls.status.setValue("Active"),this.activatedRoute.queryParams.pipe((0,x.z)(o=>(this.action=o.action,this.utilityService.accessDenied(this.action),o.id?this.jobWorkerService.getById(o.id):(0,w.of)({})))).subscribe(o=>{this.spinner.hide(),0!=Object.keys(o).length&&(this.additionalPlacesOfBusiness=o.additionalPlacesOfBusiness,this.jobWorkerBankDetails=o.bankDetails,this.jobWorkerContactDetails=o.contactDetails,this.form.patchValue(o),"edit"!=this.action&&this.form.disable())})})}trackByFn(t,o){return o?._id}setPANNumber(){let o=this.utilityService.patchPANNumber(this.f.GSTINNo.value);this.f.PANNo.setValue(o)}openContactDetailsModal(){const t=this.modalService.open(P,{centered:!0,size:"xl",backdrop:"static",keyboard:!1});t.componentInstance.action=this.action,t.componentInstance.jobWorkerContactDetails=this.jobWorkerContactDetails,t.result.then(o=>{o&&["create","edit"].includes(this.action)&&(this.jobWorkerContactDetails=o)},o=>{})}openNickNameModal(){const t=this.modalService.open(Y,{centered:!0,size:"sm",backdrop:"static",keyboard:!1});t.componentInstance.action=this.action,t.componentInstance.jobWorkerNickName=this.form.controls.jobWorkerNickName.value,t.result.then(o=>{o&&["create","edit"].includes(this.action)&&this.f.jobWorkerNickName.setValue(o)},o=>{})}openMSMECategoryModal(){const t=this.modalService.open(Q,{centered:!0,size:"sm",backdrop:"static",keyboard:!1});t.componentInstance.action=this.action,t.componentInstance.MSMEClassification=this.form.controls.MSMEClassification.value,t.result.then(o=>{o&&["create","edit"].includes(this.action)&&this.f.MSMEClassification.setValue(o)},o=>{})}openBankDetailsModal(){const t=this.modalService.open(j,{centered:!0,size:"xl",backdrop:"static",keyboard:!1});t.componentInstance.action=this.action,t.componentInstance.jobWorkerBankDetails=this.jobWorkerBankDetails,t.componentInstance.jobWorkerName=this.form.controls.jobWorkerName.value,t.result.then(o=>{o&&["create","edit"].includes(this.action)&&(this.jobWorkerBankDetails=o)},o=>{})}}return(a=l).\u0275fac=function(t){return new(t||a)(e.Y36(M.gy),e.Y36(f.gz),e.Y36(m.V),e.Y36(m.kl),e.Y36(v.RJ),e.Y36(p.FF),e.Y36(u.Ye),e.Y36(m.tI),e.Y36(s.qu))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-job-worker-master-form"]],decls:118,vars:14,consts:[[1,"formCard","card",3,"formGroup"],[1,"set-remaining-margin"],[1,"row","form-header"],[1,"col","heading"],[1,"form-body"],[1,"row"],[1,"col-3"],[1,"form-label"],["type","text","formControlName","jobWorkerCode","readonly","",1,"form-control"],[1,"form-label","d-flex","justify-content-between"],[1,"text-danger"],["type","button",1,"btn","btn-primary","form-btn-sm","py-0",3,"click"],["type","text","formControlName","jobWorkerName",1,"form-control"],["formControlName","GSTClassification",1,"form-select"],["value","null","selected","","disabled",""],["value","Regular B2B"],["value","Composition Dealer"],["value","SEZ Supplier"],["value","E-Com Operator"],["value","Unregistered Dealer"],["type","text","formControlName","GSTINNo",1,"form-control",3,"input"],["type","text","formControlName","PANNo",1,"form-control"],["formControlName","currency",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["formControlName","paymentTerms",1,"form-select"],["value","null","selected",""],[1,"d-flex"],["formControlName","status",1,"form-select","statusSelectBorder"],["selected","","disabled","",3,"value"],[3,"value"],[1,"input-group-text","statusSpanHeight"],["class","statusActive",4,"ngIf"],["class","statusInActive",4,"ngIf"],[1,"row","line-border","mb-0"],["ngbNav","",1,"nav-tabs","tabs-card",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavItem",4,"ngFor","ngForOf"],["role","presentation",1,"nav-item","align-self-center"],["type","button",1,"plusSmallIconSvg","btn","btn-primary","add-address",3,"ngbTooltip","click"],[1,"mt-2",3,"ngbNavOutlet"],[1,"row","line-border"],[1,"row","mb-4"],[1,"col-10"],[1,"plusIconSvg","btn","btn-primary","me-1"],["type","button",1,"btn","bg-primary","me-4",3,"click"],["type","button",1,"btn","bg-primary",3,"click"],["class","col-2 text-end",4,"ngIf"],[1,"statusActive"],[1,"statusInActive"],["formGroupName","primaryAddress"],[1,"col"],["type","text","formControlName","country",1,"form-control"],["formControlName","state",1,"form-select"],["value","","selected","","disabled",""],["type","text","formControlName","cityOrDistrict",1,"form-control"],["oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);","type","number","maxlength","6","formControlName","pinCode",1,"form-control"],[1,"row","mt-4"],["type","text","formControlName","line1",1,"form-control"],["type","text","formControlName","line2",1,"form-control"],["type","text","formControlName","line3",1,"form-control"],["type","text","formControlName","line4",1,"form-control"],[1,""],["aria-hidden","true",1,"fa","fa-minus-circle","pe-0",3,"click"],[1,"form-select",3,"ngModel","ngModelOptions","disabled","ngModelChange"],["type","text",1,"form-control",3,"ngModel","ngModelOptions","disabled","ngModelChange"],["oninput","javascript: if (this.value.length > this.maxLength)\n                                this.value = this.value.slice(0, this.maxLength);","type","number","maxlength","6",1,"form-control",3,"ngModel","ngModelOptions","disabled","ngModelChange"],[1,"col-2","text-end"],["type","button",1,"btn","btn-primary","px-5",3,"click"]],template:function(t,o){if(1&t&&(e.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label"),e._uU(5,"Job Worker Details"),e.qZA()()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),e._uU(10," Job Worker Code "),e.qZA(),e._UZ(11,"input",8),e.qZA(),e.TgZ(12,"div",6)(13,"label",9),e._uU(14," Job Worker Name "),e.TgZ(15,"span",10),e._uU(16,"*"),e.qZA(),e._UZ(17,"span")(18,"span")(19,"span")(20,"span")(21,"span")(22,"span"),e.TgZ(23,"button",11),e.NdJ("click",function(){return o.openNickNameModal()}),e._uU(24," Nick Name "),e.qZA()(),e._UZ(25,"input",12),e.qZA(),e.TgZ(26,"div",6)(27,"label",7),e._uU(28," GST Classification "),e.qZA(),e.TgZ(29,"select",13)(30,"option",14),e._uU(31,"Select"),e.qZA(),e.TgZ(32,"option",15),e._uU(33,"Regular B2B"),e.qZA(),e.TgZ(34,"option",16),e._uU(35,"Composition Dealer"),e.qZA(),e.TgZ(36,"option",17),e._uU(37,"SEZ Supplier"),e.qZA(),e.TgZ(38,"option",18),e._uU(39,"E-Com Operator"),e.qZA(),e.TgZ(40,"option",19),e._uU(41,"Unregistered Dealer"),e.qZA()()(),e.TgZ(42,"div",6)(43,"label",7),e._uU(44," GSTIN No."),e.TgZ(45,"span",10),e._uU(46,"*"),e.qZA()(),e.TgZ(47,"input",20),e.NdJ("input",function(){return o.setPANNumber()}),e.qZA()()(),e.TgZ(48,"div",5)(49,"div",6)(50,"label",7),e._uU(51," PAN No."),e.TgZ(52,"span",10),e._uU(53,"*"),e.qZA()(),e._UZ(54,"input",21),e.qZA(),e.TgZ(55,"div",6)(56,"label",7),e._uU(57," Currency"),e.TgZ(58,"span",10),e._uU(59,"*"),e.qZA()(),e.TgZ(60,"select",22)(61,"option",14),e._uU(62,"Select Currency"),e.qZA(),e.YNc(63,z,2,2,"option",23),e.qZA()(),e.TgZ(64,"div",6)(65,"label",9),e._uU(66," Payment Terms"),e.TgZ(67,"span",10),e._uU(68,"*"),e.qZA(),e._UZ(69,"span")(70,"span")(71,"span")(72,"span")(73,"span")(74,"span"),e.TgZ(75,"button",11),e.NdJ("click",function(){return o.openMSMECategoryModal()}),e._uU(76," MSME "),e.qZA()(),e.TgZ(77,"select",24)(78,"option",25),e._uU(79,"Select Payment Terms"),e.qZA(),e.YNc(80,H,2,2,"option",23),e.qZA()(),e.TgZ(81,"div",6)(82,"label",7),e._uU(83," Status "),e.TgZ(84,"span",10),e._uU(85,"*"),e.qZA()(),e.TgZ(86,"div",26)(87,"select",27)(88,"option",28),e._uU(89,"Select Status"),e.qZA(),e.TgZ(90,"option",29),e._uU(91,"Active"),e.qZA(),e.TgZ(92,"option",29),e._uU(93,"Inactive"),e.qZA()(),e.TgZ(94,"span",30),e.YNc(95,K,1,0,"div",31),e.YNc(96,R,1,0,"div",32),e.qZA()()()(),e._UZ(97,"hr",33),e.TgZ(98,"ul",34,35),e.NdJ("activeIdChange",function(r){return o.active=r}),e.TgZ(100,"li",36)(101,"button",37),e._uU(102,"Primary Address"),e.qZA(),e.YNc(103,V,53,1,"ng-template",38),e.qZA(),e.YNc(104,oe,6,2,"li",39),e.TgZ(105,"li",40)(106,"button",41),e.NdJ("click",function(){return o.addPlace()}),e.qZA()()(),e._UZ(107,"div",42),e.qZA(),e._UZ(108,"hr",43),e.TgZ(109,"div",44)(110,"div",45),e._UZ(111,"button",46),e.TgZ(112,"button",47),e.NdJ("click",function(){return o.openContactDetailsModal()}),e._uU(113," Contact Details "),e.qZA(),e._UZ(114,"button",46),e.TgZ(115,"button",48),e.NdJ("click",function(){return o.openBankDetailsModal()}),e._uU(116,"Bank Details"),e.qZA()(),e.YNc(117,ie,3,0,"div",49),e.qZA()()()),2&t){const n=e.MAs(99);e.Q6J("formGroup",o.form),e.xp6(63),e.Q6J("ngForOf",null==o.masterData?null:o.masterData.currenciesOptions),e.xp6(17),e.Q6J("ngForOf",null==o.masterData?null:o.masterData.paymentTermsOptions),e.xp6(8),e.Q6J("value",null),e.xp6(2),e.Q6J("value","Active"),e.xp6(2),e.Q6J("value","Inactive"),e.xp6(3),e.Q6J("ngIf","Active"==o.form.value.status),e.xp6(1),e.Q6J("ngIf","Inactive"==o.form.value.status),e.xp6(2),e.Q6J("activeId",o.active),e.xp6(2),e.Q6J("ngbNavItem",-1),e.xp6(4),e.Q6J("ngForOf",o.additionalPlacesOfBusiness),e.xp6(2),e.Q6J("ngbTooltip","Additional places of business"),e.xp6(1),e.Q6J("ngbNavOutlet",n),e.xp6(10),e.Q6J("ngIf","view"!=o.action)}},dependencies:[u.sg,u.O5,p.uN,p.Pz,p.nv,p.Is,p.Fh,p.tO,p.Dy,p._L,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.nD,s.sg,s.u,s.x0,s.On],styles:[".set-address[_ngcontent-%COMP%]{height:1rem;width:1rem;margin-top:.4rem;padding:1rem 1rem .8rem .8rem}.close[_ngcontent-%COMP%]{font-size:1.4rem;opacity:.1;transition:opacity .3s}.nav-link[_ngcontent-%COMP%]:hover > .close[_ngcontent-%COMP%]{opacity:.8}.tabs-card[_ngcontent-%COMP%]{box-shadow:none;display:flex;text-align:center;justify-content:flex-start;background-color:transparent;border-bottom:none}.tabs-card[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{display:grid}.tabs-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;min-width:3rem;font-size:1.4rem;border-radius:0 0 6px 6px;margin-bottom:1rem;color:var(--bs-white);background-color:var(--bs-secondary)!important;border:0px;opacity:.5;margin-top:-.09rem;margin-right:.5rem;padding:.2rem 1.5rem}.tabs-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .fa-minus-circle[_ngcontent-%COMP%]{color:var(--bs-white)!important;padding:.2rem .5rem 0rem;opacity:1!important}.tabs-card[_ngcontent-%COMP%]   .add-address[_ngcontent-%COMP%]{flex:1;min-width:3rem;font-size:1.4rem;border-radius:6px;margin-bottom:1rem;color:transparent;background-color:transparent!important;border:0px;margin-top:-.09rem;opacity:1;height:1rem;width:1rem;padding:1rem 1rem .8rem .8rem}.tabs-card[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:var(--bs-white);background-color:var(--bs-secondary);border:0px;opacity:1;padding:.2rem 1.5rem;margin-top:-.09rem}"]}),l})();var N=c(77203),y=c(25116),J=c(11909),ae=c(53421);function re(a,l){1&a&&e._UZ(0,"div",33)}function se(a,l){1&a&&e._UZ(0,"div",34)}function le(a,l){if(1&a){const i=e.EpF();e.TgZ(0,"a",35),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,n=e.oxw();return e.KtG(n.openConfirmModal(null==o?null:o._id,null==o?null:o.jobWorkerCode))}),e._UZ(1,"i",36),e._uU(2," Delete "),e.qZA()}}function ce(a,l){if(1&a){const i=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",20,21)(5,"span",22),e._uU(6),e.qZA()(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td")(16,"span",23),e.YNc(17,re,1,0,"div",24),e.YNc(18,se,1,0,"div",25),e.qZA()(),e.TgZ(19,"td")(20,"div",26),e._UZ(21,"button",27),e.TgZ(22,"div",28)(23,"a",29),e.NdJ("click",function(){const n=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.navigateTo("../form",null==n?null:n._id,"view"))}),e._UZ(24,"i",30),e._uU(25," View "),e.qZA(),e.TgZ(26,"a",29),e.NdJ("click",function(){const n=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.navigateTo("../form",null==n?null:n._id,"edit"))}),e._UZ(27,"i",31),e._uU(28," Edit "),e.qZA(),e.YNc(29,le,3,0,"a",32),e.qZA()()()()}if(2&a){const i=l.$implicit,t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==i?null:i.jobWorkerCode),e.xp6(1),e.Udp("width",t.clientWidth),e.xp6(2),e.Q6J("positionTarget",t)("ngbTooltip",i.jobWorkerName),e.xp6(1),e.hij(" ",i.jobWorkerName," "),e.xp6(2),e.Oqu(null==i?null:i.country),e.xp6(2),e.Oqu(null==i?null:i.state),e.xp6(2),e.Oqu(null==i?null:i.GSTINNo),e.xp6(2),e.Oqu(null==i?null:i.currency),e.xp6(3),e.Q6J("ngIf","Active"==i.status),e.xp6(1),e.Q6J("ngIf","Inactive"==i.status),e.xp6(5),e.Q6J("accessType",o.rolePermissionActions.viewAction),e.xp6(3),e.Q6J("accessType",o.rolePermissionActions.editAction),e.xp6(3),e.Q6J("ngIf",o.user==o.superAdminId)}}const de=function(a,l,i,t){return{page:a,pageSize:l,collection:i,search:t,type:"list"}};let pe=(()=>{var a;class l{constructor(t,o,n,r,d,_,g,C,k){this.jobWorkerService=t,this.router=o,this.spinner=n,this.modalService=r,this.exportExcelService=d,this.activatedRoute=_,this.exportToPDFService=g,this.storageService=C,this.toastService=k,this.page=1,this.pageSize=8,this.collection=0,this.column="jobWorkerCode",this.direction=-1,this.search="",this.tableData=[],this.tableDataObject={},this.superAdminId=y.dA,this.user="",this.rolePermissionActions=y.a1}ngOnInit(){this.user=this.storageService.get("IDMSAUser")?.roles?.find(t=>t==this.superAdminId),this.page=Number(this.activatedRoute.snapshot.queryParamMap.get("page")??1),this.getAll()}navigateTo(t,o,n){this.router.navigate([t],{relativeTo:this.activatedRoute,queryParams:{id:o,action:n}})}open(t){0==t.supplierShippingAddress.length&&(t.supplierShippingAddress=[t.supplierBillingAddress]),this.modalService.open(N.MU,{centered:!0,size:"lg"}).componentInstance.data={title:t.supplierName,addressA:{label:"Shipping Address",address:t.supplierShippingAddress},addressB:{label:"Billing Address",address:t.supplierBillingAddress?[t.supplierBillingAddress]:[]}}}trackByFn(t,o){return o?._id}eventHeader(t){switch(t.key){case"SEARCH":this.search=t.value,this.getAll();break;case"PDF":this.getAll(!0,"PDF");break;case"EXCEL":this.getAll(!0,"EXCEL");break;case"PAGE":this.page=t.value,this.getAll()}}getAll(t=!1,o=""){this.spinner.show();let n={page:this.page,pageSize:this.pageSize,search:this.search,column:this.column,direction:this.direction,excel:t};this.subscription&&this.subscription.unsubscribe(),this.subscription=this.jobWorkerService.getAll(n).subscribe(r=>{"EXCEL"==o?this.excelDownload(r.rows):"PDF"==o?this.pdfDownload(r.rows):(this.tableData=r.rows,this.tableDataObject=JSON.stringify(Object.assign({},r.rows)),this.collection=r.count),this.spinner.hide()})}delete(t){this.spinner.show(),this.jobWorkerService.delete(t).subscribe(o=>{this.spinner.hide(),this.toastService.success(o.message),this.getAll()})}openConfirmModal(t,o){const n=this.modalService.open(N.hn,{centered:!0,size:"md",backdrop:"static",keyboard:!1});n.componentInstance.heading="Confirm Deletion",n.componentInstance.confirmText=`Confirm Deletion of JW Code ${o} ?`,n.result.then(r=>{"Yes"==r.title&&this.delete(t)},r=>{})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}excelDownload(t){this.exportExcelService.exportExcel((0,J.sq)(t))}pdfDownload(t){let o=(0,J.lT)(t);this.exportToPDFService.generatePdf(o.tableData,o.title)}onSort({column:t,direction:o}){this.headers.forEach(n=>{n.sortable!==t&&(n.direction="")}),this.column=t,this.direction="asc"==o?1:-1,this.getAll()}}return(a=l).\u0275fac=function(t){return new(t||a)(e.Y36(M.gy),e.Y36(f.F0),e.Y36(m.V),e.Y36(p.FF),e.Y36(m.Ol),e.Y36(f.gz),e.Y36(m.$L),e.Y36(m.V1),e.Y36(m.kl))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-job-worker-master-list"]],viewQuery:function(t,o){if(1&t&&e.Gf(b.j,5),2&t){let n;e.iGM(n=e.CRH())&&(o.headers=n)}},decls:32,vars:9,consts:[[1,"listCard","card"],[1,"table-header"],[1,"heading"],["appAccessControl","",1,"text-center",3,"accessType"],[1,"plusIconSvg","btn","btn-primary","me-1"],["type","button",1,"btn","btn-primary","btn-add",3,"click"],[1,"row","line-border"],[1,"table-responsive"],[3,"data","dataChange"],[1,"table","table-bordered"],[1,"bg-primary"],[1,"text-white"],["sortable","jobWorkerCode",3,"sort"],["sortable","jobWorkerName",1,"text-start",3,"sort"],["sortable","country",3,"sort"],["sortable","state",3,"sort"],["sortable","GSTINNo",3,"sort"],["sortable","currency",3,"sort"],["sortable","status",3,"sort"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-start"],["jobWorkerName",""],[1,"pointer",3,"positionTarget","ngbTooltip"],[1,"d-flex","justify-content-center"],["class","statusActive",4,"ngIf"],["class","statusInActive",4,"ngIf"],[1,"dropdown"],[1,"dropbtn"],[1,"dropdown-content"],["appAccessControl","","href","javascript:void(0)",3,"accessType","click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg","me-2","text-primary"],["aria-hidden","true",1,"fa","fa-pencil-square-o","fa-lg","me-2","text-primary"],["href","javascript:void(0)",3,"click",4,"ngIf"],[1,"statusActive"],[1,"statusInActive"],["href","javascript:void(0)",3,"click"],["aria-hidden","true",1,"fa","fa-trash","text-primary"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"label",2),e._uU(3,"Job Worker Summary"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"button",4),e.TgZ(6,"button",5),e.NdJ("click",function(){return o.navigateTo("../form",null,"create")}),e._uU(7," Job Worker "),e.qZA()(),e._UZ(8,"hr",6),e.TgZ(9,"div",7)(10,"app-setting-header",8),e.NdJ("dataChange",function(r){return o.eventHeader(r)}),e.qZA(),e.TgZ(11,"table",9)(12,"thead",10)(13,"tr",11)(14,"th",12),e.NdJ("sort",function(r){return o.onSort(r)}),e._uU(15,"JW Code"),e.qZA(),e.TgZ(16,"th",13),e.NdJ("sort",function(r){return o.onSort(r)}),e._uU(17,"Job Worker Name"),e.qZA(),e.TgZ(18,"th",14),e.NdJ("sort",function(r){return o.onSort(r)}),e._uU(19,"Country"),e.qZA(),e.TgZ(20,"th",15),e.NdJ("sort",function(r){return o.onSort(r)}),e._uU(21,"State/Province"),e.qZA(),e.TgZ(22,"th",16),e.NdJ("sort",function(r){return o.onSort(r)}),e._uU(23,"GSTIN"),e.qZA(),e.TgZ(24,"th",17),e.NdJ("sort",function(r){return o.onSort(r)}),e._uU(25,"Currency"),e.qZA(),e.TgZ(26,"th",18),e.NdJ("sort",function(r){return o.onSort(r)}),e._uU(27,"Status"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Action"),e.qZA()()(),e.TgZ(30,"tbody"),e.YNc(31,ce,30,15,"tr",19),e.qZA()()()()),2&t&&(e.xp6(4),e.Q6J("accessType",o.rolePermissionActions.createAction),e.xp6(6),e.Q6J("data",e.l5B(4,de,o.page,o.pageSize,o.collection,o.search)),e.xp6(21),e.Q6J("ngForOf",o.tableData)("ngForTrackBy",o.trackByFn))},dependencies:[u.sg,u.O5,Z.P,p._L,b.j,ae.J],encapsulation:2}),l})();var ue=c(19964),me=c(56208);const _e=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:pe},{path:"form",component:ne,resolve:{accessScreen:ue.xr}}];let ge=(()=>{var a;class l{}return(a=l).\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.ez,f.Bz.forChild(_e),me.m]}),l})()}}]);