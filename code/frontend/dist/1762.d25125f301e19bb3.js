"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[1762],{1762:(v,m,d)=>{d.r(m),d.d(m,{NpdRequestModule:()=>W});var o=d(96814),p=d(1076),D=d(25116),f=d(43818),y=d(29391),e=d(65879),h=d(2742),g=d(78212),_=d(88059),R=d(37285),Z=d(53421);function P(n,u){if(1&n){const s=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",20,21)(7,"span",22),e._uU(8),e.qZA()(),e.TgZ(9,"td",20,23)(11,"span",22),e._uU(12),e.qZA()(),e.TgZ(13,"td",null,24)(15,"span",22),e._uU(16),e.qZA()(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA(),e.TgZ(21,"td")(22,"div",25),e._UZ(23,"button",26),e.TgZ(24,"div",27)(25,"a",28),e.NdJ("click",function(){const a=e.CHM(s).$implicit,l=e.oxw();return e.KtG(l.navigateTo("../form",a,"view"))}),e._UZ(26,"i",29),e._uU(27," View "),e.qZA(),e.TgZ(28,"a",28),e.NdJ("click",function(){const a=e.CHM(s).$implicit,l=e.oxw();return e.KtG(l.navigateTo("../form",a,"edit"))}),e._UZ(29,"i",30),e._uU(30," Edit "),e.qZA()()()()()}if(2&n){const s=u.$implicit,i=e.MAs(6),t=e.MAs(10),a=e.MAs(14),l=e.oxw();e.xp6(2),e.Oqu(null==s?null:s.NPDNo),e.xp6(2),e.Oqu(null==s?null:s.NPDDate),e.xp6(1),e.Udp("width",i.clientWidth),e.xp6(2),e.Q6J("ngbTooltip",s.name)("positionTarget",i),e.xp6(1),e.hij(" ",s.name," "),e.xp6(1),e.Udp("width",t.clientWidth),e.xp6(2),e.Q6J("ngbTooltip",s.projectName)("positionTarget",t),e.xp6(1),e.hij(" ",s.projectName," "),e.xp6(1),e.Udp("width",a.clientWidth),e.xp6(2),e.Q6J("ngbTooltip",s.productCategory)("positionTarget",a),e.xp6(1),e.hij(" ",s.productCategory," "),e.xp6(2),e.Oqu(null==s?null:s.expectedDeliveryDate),e.xp6(2),e.Oqu(null==s?null:s.status),e.xp6(5),e.Q6J("accessType",l.rolePermissionActions.viewAction),e.xp6(3),e.Q6J("accessType",l.rolePermissionActions.editAction)}}const b=function(n,u,s,i){return{page:n,pageSize:u,collection:s,search:i,type:"list"}};let k=(()=>{var n;class u{constructor(i,t,a,l,J,Y){this.exportExcelService=i,this.router=t,this.spinner=a,this.npdRequestService=l,this.activatedRoute=J,this.exportToPDFService=Y,this.page=1,this.pageSize=8,this.collection=0,this.column="createdAt",this.direction=-1,this.search="",this.tableData=[],this.rolePermissionActions=D.a1}ngOnInit(){this.page=Number(this.activatedRoute.snapshot.queryParamMap.get("page")??1),this.getAll()}getAll(i=!1,t=""){this.spinner.show();let a={page:this.page,pageSize:this.pageSize,search:this.search,column:this.column,direction:this.direction,excel:i};this.subscription&&this.subscription.unsubscribe(),this.subscription=this.npdRequestService.getAll(a).subscribe(l=>{"EXCEL"==t?this.excelDownload(l.rows):"PDF"==t?this.pdfDownload(l.rows):(this.tableData=l.rows,this.collection=l.count),this.spinner.hide()})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}navigateTo(i,t,a){this.router.navigate([i],{relativeTo:this.activatedRoute,queryParams:{id:t?._id,action:a}})}eventHeader(i){switch(i.key){case"SEARCH":this.search=i.value,this.getAll();break;case"PDF":this.getAll(!0,"PDF");break;case"EXCEL":this.getAll(!0,"EXCEL");break;case"PAGE":this.page=i.value,this.getAll()}}trackByFn(i,t){return t?._id}pdfDownload(i){let t=(0,y.On)(i);this.exportToPDFService.generatePdf(t.tableData,t.title)}excelDownload(i){this.exportExcelService.exportExcel((0,y.hl)(i))}onSort({column:i,direction:t}){this.headers.forEach(a=>{a.sortable!==i&&(a.direction="")}),this.column=i,this.direction="asc"==t?1:-1,this.getAll()}}return(n=u).\u0275fac=function(i){return new(i||n)(e.Y36(h.Ol),e.Y36(p.F0),e.Y36(h.V),e.Y36(g.W4),e.Y36(p.gz),e.Y36(h.$L))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-npd-request-list"]],viewQuery:function(i,t){if(1&i&&e.Gf(f.j,5),2&i){let a;e.iGM(a=e.CRH())&&(t.headers=a)}},decls:32,vars:9,consts:[[1,"listCard","card"],[1,"table-header"],[1,"heading"],["appAccessControl","",1,"text-center",3,"accessType"],["type","button",1,"btn","btn-primary","btn-add",3,"click"],["aria-hidden","true",1,"fa","fa-plus-square","fa-lg","me-2"],[1,"line-border"],[1,"table-responsive"],[3,"data","dataChange"],[1,"table","table-bordered"],[1,"bg-secondary"],[1,"text-white"],["sortable","NPDNo",3,"sort"],["sortable","NPDDate",3,"sort"],["sortable","customerName",1,"text-start",3,"sort"],["sortable","projectName",1,"text-start",3,"sort"],["sortable","productCategory",3,"sort"],["sortable","expectedDeliveryDate",3,"sort"],["sortable","status",3,"sort"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-start"],["name",""],[1,"pointer",3,"ngbTooltip","positionTarget"],["projectName",""],["productCategory",""],[1,"dropdown"],[1,"dropbtn"],[1,"dropdown-content"],["appAccessControl","","href","javascript:void(0)",3,"accessType","click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg","me-2","text-primary"],["aria-hidden","true",1,"fa","fa-pencil-square-o","fa-lg","me-2","text-primary"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"label",2),e._uU(3,"NPD Summary"),e.qZA()(),e.TgZ(4,"div",3)(5,"button",4),e.NdJ("click",function(){return t.navigateTo("../form",{},"create")}),e._UZ(6,"i",5),e._uU(7," Create NPD Request "),e.qZA()(),e._UZ(8,"hr",6),e.TgZ(9,"div",7)(10,"app-setting-header",8),e.NdJ("dataChange",function(l){return t.eventHeader(l)}),e.qZA(),e.TgZ(11,"table",9)(12,"thead",10)(13,"tr",11)(14,"th",12),e.NdJ("sort",function(l){return t.onSort(l)}),e._uU(15,"NPD. NO"),e.qZA(),e.TgZ(16,"th",13),e.NdJ("sort",function(l){return t.onSort(l)}),e._uU(17,"NPD. Date"),e.qZA(),e.TgZ(18,"th",14),e.NdJ("sort",function(l){return t.onSort(l)}),e._uU(19,"Customer/Prospect Name"),e.qZA(),e.TgZ(20,"th",15),e.NdJ("sort",function(l){return t.onSort(l)}),e._uU(21,"Project Name"),e.qZA(),e.TgZ(22,"th",16),e.NdJ("sort",function(l){return t.onSort(l)}),e._uU(23,"Product Code"),e.qZA(),e.TgZ(24,"th",17),e.NdJ("sort",function(l){return t.onSort(l)}),e._uU(25,"EDD"),e.qZA(),e.TgZ(26,"th",18),e.NdJ("sort",function(l){return t.onSort(l)}),e._uU(27,"Status"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Action"),e.qZA()()(),e.TgZ(30,"tbody"),e.YNc(31,P,31,21,"tr",19),e.qZA()()()()),2&i&&(e.xp6(4),e.Q6J("accessType",t.rolePermissionActions.createAction),e.xp6(6),e.Q6J("data",e.l5B(4,b,t.page,t.pageSize,t.collection,t.search)),e.xp6(21),e.Q6J("ngForOf",t.tableData)("ngForTrackBy",t.trackByFn))},dependencies:[o.sg,_.P,R._L,f.j,Z.J],encapsulation:2}),u})();var r=d(60095),Q=d(21631),L=d(22096),A=d(78944),T=d(62576),N=d(68352),F=d(77134),K=d(66730),w=d(18689),S=d(77203),C=d(83572),O=d(16897),x=d(50363);function I(n,u){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const s=u.$implicit;e.Q6J("value",s.value),e.xp6(1),e.hij(" ",s.label," ")}}function q(n,u){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const s=u.$implicit;e.Q6J("value",s.value),e.xp6(1),e.hij(" ",s.label," ")}}function U(n,u){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const s=u.$implicit;e.Q6J("value",s.value),e.xp6(1),e.hij(" ",s.label," ")}}function E(n,u){1&n&&e._UZ(0,"div",57)}function M(n,u){1&n&&e._UZ(0,"div",58)}function c(n,u){1&n&&e._UZ(0,"div",59)}function j(n,u){if(1&n&&(e.TgZ(0,"div",49)(1,"div",50),e._uU(2," Status "),e.TgZ(3,"span",51),e._uU(4,"*"),e.qZA(),e.TgZ(5,"span"),e._uU(6,"\u25b6"),e.qZA()(),e.TgZ(7,"select",52)(8,"option",29),e._uU(9,"Select Status"),e.qZA(),e.TgZ(10,"option",48),e._uU(11,"Awaiting Review"),e.qZA(),e.TgZ(12,"option",48),e._uU(13,"Put On Hold"),e.qZA(),e.TgZ(14,"option",48),e._uU(15,"Terminate"),e.qZA()(),e.TgZ(16,"span",53),e.YNc(17,E,1,0,"div",54),e.YNc(18,M,1,0,"div",55),e.YNc(19,c,1,0,"div",56),e.qZA()()),2&n){const s=e.oxw();e.xp6(8),e.Q6J("value",null),e.xp6(2),e.Q6J("value","Awaiting Review"),e.xp6(2),e.Q6J("value","Put On Hold"),e.xp6(2),e.Q6J("value","Terminate"),e.xp6(3),e.Q6J("ngIf","Awaiting Review"==s.form.value.status),e.xp6(1),e.Q6J("ngIf","Put On Hold"==s.form.value.status),e.xp6(1),e.Q6J("ngIf","Terminate"==s.form.value.status)}}function V(n,u){1&n&&(e.TgZ(0,"div")(1,"div",49)(2,"div",50),e._uU(3," Remarks "),e.TgZ(4,"span",51),e._uU(5,"*"),e.qZA(),e.TgZ(6,"span"),e._uU(7,"\u25b6"),e.qZA()(),e._UZ(8,"input",60),e.qZA()())}function B(n,u){if(1&n){const s=e.EpF();e.TgZ(0,"div",61)(1,"button",62),e.NdJ("click",function(){e.CHM(s);const t=e.oxw();return e.KtG(t.submit())}),e._uU(2,"Save \xa0"),e.qZA()()}}function G(n,u){if(1&n){const s=e.EpF();e.TgZ(0,"div",63)(1,"button",64),e.NdJ("click",function(){e.CHM(s);const t=e.oxw();return e.KtG(t.goBack())}),e._uU(2,"Back"),e.qZA()()}}let H=(()=>{var n;class u{constructor(i,t,a,l,J,Y,ee,te,ie){this.npdRequestService=i,this.activatedRoute=t,this.spinner=a,this.toastService=l,this.modalService=J,this.validationService=Y,this.storageService=ee,this.utilityService=te,this.location=ie,this.NPDId="",this.active=1,this.action="create",this.submitted=!1,this.variantsInfo=[],this.user={},this.engineeringDrawing=null,this.productSpecification=null,this.designMockUpFile=null,this.artworkForProcessingFile=null,this.masterData={autoIncrementNo:"",customers:[],productCategory:[],buildStage:[],orderType:[],developmentCharges:[],checklistParticularsList:[]},this.selectedCustomerDetails={},this.form=new r.nJ({_id:new r.p4(null),NPDNo:new r.p4(""),NPDDate:new r.p4(this.utilityService.getTodayDate("YYYY-MM-DD")),name:new r.p4(""),reference:new r.p4(""),referenceModel:new r.p4("",[r.kI.required]),productCategory:new r.p4(null,[r.kI.required]),projectName:new r.p4(null,[r.kI.required]),productBrief:new r.p4(""),buildStage:new r.p4(null,[r.kI.required]),orderType:new r.p4(null,[r.kI.required]),developmentCharges:new r.p4(null,[r.kI.required]),requestedQty:new r.p4("",[r.kI.required]),expectedDeliveryDate:new r.p4(this.utilityService.getTodayDate("YYYY-MM-DD"),[r.kI.required]),validationRequired:new r.p4(null,[r.kI.required]),NPDRequestedBy:new r.p4("",[r.kI.required]),noOfVariants:new r.p4(1),monthlyOffTakeQty:new r.p4(null),annualOffTakeQty:new r.p4(null),expProductionStartDate:new r.p4(this.utilityService.getTodayDate("YYYY-MM-DD"),[r.kI.required]),remarks:new r.p4(null),customerInputsChecklist:new r.p4([]),variantsInfo:new r.p4([]),engineeringDrawing:new r.p4(null),engineeringDrawingUrl:new r.p4(null),productSpecification:new r.p4(null),productSpecificationUrl:new r.p4(null),designMockUpFile:new r.p4(null),designMockUpFileUrl:new r.p4(null),artworkForProcessingFile:new r.p4(null),artworkForProcessingFileUrl:new r.p4(null),status:new r.p4("Awaiting Review",[r.kI.required])}),this.statesOfIndia=A.F}trackByFn(i,t){return t?._id}ngOnInit(){this.user=this.storageService.get("IDMSAUser"),this.form.controls.NPDRequestedBy.setValue(this.user.name),this.getInitialData()}submit(){if(this.submitted=!0,this.form.enable(),this.validationService.checkErrors(this.form,T.JD))return;if("edit"==this.action&&!this.form.controls.remarks.value)return void this.toastService.warning("Remarks is Required");let i=this.form.value;i.customerInputsChecklist=this.masterData?.checklistParticularsList,i.variantsInfo=this.variantsInfo,delete i.engineeringDrawing,delete i.productSpecification,delete i.designMockUpFile,delete i.artworkForProcessingFile;let t=new FormData;t.append("key","NPDRequest");for(let a=0;a<Object.keys(i).length;a++){const l=Object.keys(i)[a];i[l]&&"object"==typeof i[l]?i[l]&&t.append(l,JSON.stringify(i[l])):i[l]&&t.append(l,i[l])}this.engineeringDrawing&&"object"==typeof this.engineeringDrawing&&t.append("engineeringDrawing",this.engineeringDrawing,this.engineeringDrawing.name),this.productSpecification&&"object"==typeof this.productSpecification&&t.append("productSpecification",this.productSpecification,this.productSpecification.name),this.designMockUpFile&&"object"==typeof this.designMockUpFile&&t.append("designMockUpFile",this.designMockUpFile,this.designMockUpFile.name),this.artworkForProcessingFile&&"object"==typeof this.artworkForProcessingFile&&t.append("artworkForProcessingFile",this.artworkForProcessingFile,this.artworkForProcessingFile.name),i._id?this.update(i._id,t):(delete i._id,this.create(t))}create(i){this.spinner.show(),this.npdRequestService.create(i).subscribe(t=>{this.submitted=!1,this.spinner.hide(),this.toastService.success(t.message),this.location.back()})}update(i,t){this.spinner.show(),this.npdRequestService.update(i,t).subscribe(a=>{this.spinner.hide(),this.submitted=!1,this.toastService.success(a.message),this.location.back()})}getInitialData(){this.spinner.show(),this.npdRequestService.getAllMasterData({}).subscribe(i=>{this.masterData=i,this.form.controls.NPDNo.setValue(this.masterData.autoIncrementNo),this.form.controls.noOfVariants.setValue(1),this.initialVariantsInfoData(),this.NPDId?(this.action="view",this.npdRequestService.getById(this.NPDId).subscribe(t=>{this.spinner.hide(),0!=Object.keys(t).length&&(this.masterData.checklistParticularsList=t.customerInputsChecklist.map(a=>({inputCheckListParticular:a.inputCheckListParticular._id,name:a.inputCheckListParticular.name,order:a.inputCheckListParticular.order,isChecked:a.isChecked})),t.NPDDate&&(t.NPDDate=this.utilityService.getFormatDate(t.NPDDate,"YYYY-MM-DD")),t.expectedDeliveryDate&&(t.expectedDeliveryDate=this.utilityService.getFormatDate(t.expectedDeliveryDate,"YYYY-MM-DD")),t.expProductionStartDate&&(t.expProductionStartDate=this.utilityService.getFormatDate(t.expProductionStartDate,"YYYY-MM-DD")),this.form.patchValue(t),"edit"==this.action&&(this.form.enable(),this.form.controls.NPDDate.disable(),this.form.controls.reference.disable()),"view"==this.action&&this.form.disable())})):this.activatedRoute.queryParams.pipe((0,Q.z)(t=>(this.action=t.action,this.utilityService.accessDenied(this.action),t.id?this.npdRequestService.getById(t.id):(0,L.of)({})))).subscribe(t=>{this.spinner.hide(),0!=Object.keys(t).length&&(t.variantsInfo&&(this.variantsInfo=t.variantsInfo),this.masterData.checklistParticularsList=t.customerInputsChecklist.map(a=>({inputCheckListParticular:a.inputCheckListParticular._id,name:a.inputCheckListParticular.name,order:a.inputCheckListParticular.order,isChecked:a.isChecked})),t.NPDDate&&(t.NPDDate=this.utilityService.getFormatDate(t.NPDDate,"YYYY-MM-DD")),t.expectedDeliveryDate&&(t.expectedDeliveryDate=this.utilityService.getFormatDate(t.expectedDeliveryDate,"YYYY-MM-DD")),t.expProductionStartDate&&(t.expProductionStartDate=this.utilityService.getFormatDate(t.expProductionStartDate,"YYYY-MM-DD")),this.form.patchValue(t),"edit"==this.action&&(this.form.enable(),this.form.controls.NPDDate.disable(),this.form.controls.reference.disable()),"view"==this.action&&this.form.disable())})})}openCustomerInputChecklist(){const i=this.modalService.open(w.U,{centered:!0,size:"lg",backdrop:"static",keyboard:!1});i.componentInstance.action=this.action,i.componentInstance.checklistParticulars=this.masterData?.checklistParticularsList,i.result.then(t=>{["create","edit"].includes(this.action)&&(this.masterData.checklistParticularsList=t)},t=>{})}initialVariantsInfoData(){0==this.variantsInfo.length&&this.variantsInfo.push({variant:this.variantsInfo.length+1,variantName:"",partNo:"",drawingNo:""})}openVariantsModal(){const i=this.modalService.open(N.H,{centered:!0,size:"xl",backdrop:"static",keyboard:!1});i.componentInstance.action=this.action,i.componentInstance.noOfVariants=this.form.controls.noOfVariants.value,i.componentInstance.variantsInfo=this.variantsInfo,i.result.then(t=>{t&&["create","edit"].includes(this.action)&&(this.form.controls.noOfVariants.setValue(t?.noOfVariants),this.variantsInfo=t?.variantsInfo)},t=>{})}openOffTakeQtyModal(){const i=this.modalService.open(K.K,{centered:!0,size:"md",backdrop:"static",keyboard:!1});i.componentInstance.action=this.action,i.componentInstance.monthlyOffTakeQty=this.form.controls.monthlyOffTakeQty.value,i.componentInstance.annualOffTakeQty=this.form.controls.annualOffTakeQty.value,i.result.then(t=>{t&&["create","edit"].includes(this.action)&&(this.form.controls.monthlyOffTakeQty.setValue(t.monthlyOffTakeQty),this.form.controls.annualOffTakeQty.setValue(t.annualOffTakeQty))},t=>{})}setReference(i){this.form.controls.name.setValue(i.name),this.form.controls.referenceModel.setValue(i.type)}setMonthlyOffTake(i){"One time project"==i.target.value?(this.form.controls.monthlyOffTakeQty.setValue(null),this.form.controls.monthlyOffTakeQty.disable()):this.form.controls.monthlyOffTakeQty.enable()}openUploadDocsModal(){const i=this.modalService.open(F._,{centered:!0,size:"lg",backdrop:"static",keyboard:!1,windowClass:"modelPage"});i.componentInstance.action=this.action,i.componentInstance.NPDUploadDocs={engineeringDrawing:this.form.controls.engineeringDrawing.value,engineeringDrawingUrl:this.form.controls.engineeringDrawingUrl.value,productSpecification:this.form.controls.productSpecification.value,productSpecificationUrl:this.form.controls.productSpecificationUrl.value,designMockUpFile:this.form.controls.designMockUpFile.value,designMockUpFileUrl:this.form.controls.designMockUpFileUrl.value,artworkForProcessingFile:this.form.controls.artworkForProcessingFile.value,artworkForProcessingFileUrl:this.form.controls.artworkForProcessingFileUrl.value},i.result.then(t=>{t&&["create","edit"].includes(this.action)&&(this.form.patchValue(t),this.engineeringDrawing=t.engineeringDrawing,this.productSpecification=t.productSpecification,this.designMockUpFile=t.designMockUpFile,this.artworkForProcessingFile=t.artworkForProcessingFile)},t=>{})}openProductCategoryModal(){const i=this.modalService.open(C.Z8,{centered:!0,size:"xl",backdrop:"static",keyboard:!1});i.componentInstance.action=this.action,i.componentInstance.productCategoryList=this.masterData?.productCategory,i.componentInstance.productCategory=this.form.controls.productCategory.value,i.result.then(t=>{t&&this.form.controls.productCategory.setValue(t?.selectedProductCategory)},t=>{})}goBack(){this.location.back()}openCustomersDetailsModal(){const i=this.modalService.open(S.e7,{centered:!0,size:"xl",backdrop:"static",keyboard:!1});i.componentInstance.action=this.action,i.componentInstance.selectedCustomerDetails=this.selectedCustomerDetails,i.componentInstance.customerOptions=this.masterData.customers,i.componentInstance.customer=this.form.controls.reference.value,i.result.then(t=>{t&&(this.selectedCustomerDetails=t?.selectedCustomerDetails,this.form.controls.reference.setValue(t?.selectedCustomerDetails?._id),this.setReference(this.selectedCustomerDetails))},t=>{})}}return(n=u).\u0275fac=function(i){return new(i||n)(e.Y36(g.W4),e.Y36(p.gz),e.Y36(h.V),e.Y36(h.kl),e.Y36(R.FF),e.Y36(O.RJ),e.Y36(h.V1),e.Y36(h.tI),e.Y36(o.Ye))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-npd-request-form"]],inputs:{NPDId:"NPDId"},decls:153,vars:19,consts:[[1,"formCard","card",3,"formGroup"],[1,"set-remaining-margin"],[1,"row","form-header"],[1,"col","heading"],[1,"form-body"],[1,"row"],[1,"col"],[1,"col-6","pe-3"],[1,"form-label"],[1,"text-danger"],["type","text","formControlName","NPDNo","readonly","",1,"form-control"],[1,"col-6","ps-0"],["type","date","formControlName","NPDDate",1,"form-control"],[1,"col-3","pe-5"],[1,"d-flex","align-items-center"],[1,"col-11"],["bindLabel","name","bindValue","_id","formControlName","reference",3,"items","clearable","change"],["id","basic-addon1",1,"input-group-text","bg-primary","pointer","col-auto","fs-4",2,"height","2.9rem",3,"click"],["aria-hidden","true",1,"fa","fa-search","text-white"],[1,"col-3"],[1,"form-label","d-flex","justify-content-between"],["type","button",1,"btn","btn-primary","form-btn-sm","py-0",3,"click"],["type","text","formControlName","projectName",1,"form-control"],["bindLabel","label","bindValue","value","formControlName","productCategory",3,"items","clearable"],["id","basic-addon1",1,"input-group-text","bg-primary","pointer","fs-4","col-auto",2,"height","2.9rem",3,"click"],[1,"row","line-border"],[1,"col","form-group"],["formControlName","productBrief","rows","5",1,"form-control","form-text-area"],["formControlName","buildStage",1,"form-select"],["selected","","disabled","",3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"form-label","mb-1","d-flex","justify-content-between"],["formControlName","orderType",1,"form-select",3,"change"],["type","number","formControlName","requestedQty",1,"form-control"],["type","date","formControlName","expectedDeliveryDate",1,"form-control"],["type","date","formControlName","expProductionStartDate",1,"form-control"],["formControlName","developmentCharges",1,"form-select"],["formControlName","validationRequired",1,"form-select"],["value","Yes"],["value","No"],["type","text","formControlName","NPDRequestedBy","readonly","",1,"form-control"],[1,"row","my-4","justify-content-between"],["type","button",1,"btn","bg-primary",3,"click"],["class","d-flex",4,"ngIf"],[1,"col-3","text-start"],[4,"ngIf"],["class","col-1 ps-0 text-end",4,"ngIf"],["class","col-1 ps-2 text-end",4,"ngIf"],[3,"value"],[1,"d-flex"],[1,"col-form-label","text-nowrap"],[1,"text-danger","pe-2"],["formControlName","status",1,"form-select","statusSelectBorder","mx-2"],[1,"input-group-text","statusSpanHeight"],["class","statusActive",4,"ngIf"],["class","statusYellow",4,"ngIf"],["class","statusInActive",4,"ngIf"],[1,"statusActive"],[1,"statusYellow"],[1,"statusInActive"],["type","text","formControlName","remarks",1,"form-control","mx-2"],[1,"col-1","ps-0","text-end"],["type","button",1,"btn","btn-primary","ps-3",3,"click"],[1,"col-1","ps-2","text-end"],["type","button",1,"btn","btn-primary","px-4",3,"click"]],template:function(i,t){1&i&&(e.TgZ(0,"Form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label"),e._uU(5),e.ALo(6,"titlecase"),e.qZA()()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",5)(11,"div",7)(12,"label",8),e._uU(13," NPD No. "),e._UZ(14,"span",9),e.qZA(),e._UZ(15,"input",10),e.qZA(),e.TgZ(16,"div",11)(17,"label",8),e._uU(18," NPD Date "),e._UZ(19,"span",9),e.qZA(),e._UZ(20,"input",12),e.qZA()()(),e.TgZ(21,"div",13)(22,"label",8),e._uU(23," Customer/Prospect Name "),e.TgZ(24,"span",9),e._uU(25,"*"),e.qZA()(),e.TgZ(26,"div",14)(27,"div",15)(28,"ng-select",16),e.NdJ("change",function(l){return t.setReference(l)}),e.qZA()(),e.TgZ(29,"div",17),e.NdJ("click",function(){return t.openCustomersDetailsModal()}),e._UZ(30,"i",18),e.qZA()()(),e.TgZ(31,"div",19)(32,"label",20),e._uU(33,"Project/Part Name"),e.TgZ(34,"span",9),e._uU(35,"*"),e.qZA(),e._UZ(36,"span")(37,"span")(38,"span")(39,"span")(40,"span")(41,"span"),e.TgZ(42,"button",21),e.NdJ("click",function(){return t.openVariantsModal()}),e._uU(43," Variants "),e.qZA()(),e._UZ(44,"input",22),e.qZA(),e.TgZ(45,"div",13)(46,"label",8),e._uU(47," Product Category "),e.TgZ(48,"span",9),e._uU(49,"*"),e.qZA()(),e.TgZ(50,"div",14)(51,"div",15),e._UZ(52,"ng-select",23),e.qZA(),e.TgZ(53,"div",24),e.NdJ("click",function(){return t.openProductCategoryModal()}),e._UZ(54,"i",18),e.qZA()()()()(),e._UZ(55,"hr",25),e.TgZ(56,"div",5)(57,"div",26)(58,"label",8),e._uU(59," Product Brief "),e._UZ(60,"span",9),e._uU(61," [General Product information/Functional & Performance requirements/specification and application] "),e.qZA(),e._UZ(62,"textarea",27),e.qZA()(),e.TgZ(63,"div",5)(64,"div",6)(65,"label",8),e._uU(66," Build Stage "),e.TgZ(67,"span",9),e._uU(68,"*"),e.qZA()(),e.TgZ(69,"select",28)(70,"option",29),e._uU(71,"Select Build Stage"),e.qZA(),e.YNc(72,I,2,2,"option",30),e.qZA()(),e.TgZ(73,"div",6)(74,"label",31),e._uU(75," Order Type "),e.TgZ(76,"span",9),e._uU(77,"*"),e.qZA(),e._UZ(78,"span")(79,"span")(80,"span")(81,"span")(82,"span")(83,"span")(84,"span")(85,"span"),e.TgZ(86,"button",21),e.NdJ("click",function(){return t.openOffTakeQtyModal()}),e._uU(87," Offtake Qty "),e.qZA()(),e.TgZ(88,"select",32),e.NdJ("change",function(l){return t.setMonthlyOffTake(l)}),e.TgZ(89,"option",29),e._uU(90,"Select Order Type"),e.qZA(),e.YNc(91,q,2,2,"option",30),e.qZA()(),e.TgZ(92,"div",6)(93,"label",8),e._uU(94,"Quantity [Requested] "),e.TgZ(95,"span",9),e._uU(96,"*"),e.qZA()(),e._UZ(97,"input",33),e.qZA(),e.TgZ(98,"div",6)(99,"label",8),e._uU(100,"Expected Delivery Date [EDD] "),e.TgZ(101,"span",9),e._uU(102,"*"),e.qZA()(),e._UZ(103,"input",34),e.qZA()(),e.TgZ(104,"div",5)(105,"div",6)(106,"label",8),e._uU(107," Expected Production Start Date"),e.TgZ(108,"span",9),e._uU(109,"*"),e.qZA()(),e._UZ(110,"input",35),e.qZA(),e.TgZ(111,"div",6)(112,"label",8),e._uU(113," Development Charges "),e.TgZ(114,"span",9),e._uU(115,"*"),e.qZA()(),e.TgZ(116,"select",36)(117,"option",29),e._uU(118,"Select Development Charges"),e.qZA(),e.YNc(119,U,2,2,"option",30),e.qZA()(),e.TgZ(120,"div",6)(121,"label",8),e._uU(122," Validation Required "),e.TgZ(123,"span",9),e._uU(124,"*"),e.qZA()(),e.TgZ(125,"select",37)(126,"option",29),e._uU(127,"Select Validation Required"),e.qZA(),e.TgZ(128,"option",38),e._uU(129,"Yes"),e.qZA(),e.TgZ(130,"option",39),e._uU(131,"No"),e.qZA()()(),e.TgZ(132,"div",6)(133,"label",8),e._uU(134,"NPD Requested by/Coordinator "),e.TgZ(135,"span",9),e._uU(136,"*"),e.qZA()(),e._UZ(137,"input",40),e.qZA()(),e._UZ(138,"hr",25),e.TgZ(139,"div",41)(140,"div",6)(141,"button",42),e.NdJ("click",function(){return t.openCustomerInputChecklist()}),e._uU(142," Customer Input Checklist "),e.qZA()(),e.TgZ(143,"div",6)(144,"button",42),e.NdJ("click",function(){return t.openUploadDocsModal()}),e._uU(145,"Upload Docs"),e.qZA()(),e.TgZ(146,"div",19)(147,"div"),e.YNc(148,j,20,7,"div",43),e.qZA()(),e.TgZ(149,"div",44),e.YNc(150,V,9,0,"div",45),e.qZA(),e.YNc(151,B,3,0,"div",46),e.YNc(152,G,3,0,"div",47),e.qZA()()()),2&i&&(e.Q6J("formGroup",t.form),e.xp6(5),e.hij("",e.lcZ(6,17,t.action)," NPD Details"),e.xp6(23),e.Q6J("items",t.masterData.customers)("clearable",!1),e.xp6(24),e.Q6J("items",t.masterData.productCategory)("clearable",!1),e.xp6(18),e.Q6J("value",null),e.xp6(2),e.Q6J("ngForOf",t.masterData.buildStage),e.xp6(17),e.Q6J("value",null),e.xp6(2),e.Q6J("ngForOf",t.masterData.orderType),e.xp6(26),e.Q6J("value",null),e.xp6(2),e.Q6J("ngForOf",t.masterData.developmentCharges),e.xp6(7),e.Q6J("value",null),e.xp6(22),e.Q6J("ngIf","edit"==t.action),e.xp6(2),e.Q6J("ngIf","edit"==t.action),e.xp6(1),e.Q6J("ngIf","view"!=t.action),e.xp6(1),e.Q6J("ngIf","view"==t.action))},dependencies:[o.sg,o.O5,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r.JJ,r.JL,r.sg,r.u,x.w9,o.rS],encapsulation:2}),u})();var z=d(56208),X=d(65876);const $=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:k},{path:"upload-docs-modal",component:F._},{path:"form",component:H,resolve:{accessScreen:X.x}}];let W=(()=>{var n;class u{}return(n=u).\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[o.ez,z.m,p.Bz.forChild($)]}),u})()},29391:(v,m,d)=>{d.d(m,{On:()=>P,hl:()=>Z,lI:()=>h,ZA:()=>e,_c:()=>M,bc:()=>E,ck:()=>x,Lk:()=>O});var o=d(13107),p=d(28402);let D=["*","*","*","*","*","*","*","*","*"],f="NPD Review for Feasibility",y=[{header:"NPD No",key:"NPDNo",...o.t},{header:"NPD Date",key:"NPDDate",...o.t},{header:"Project Name",key:"projectName",...o.t},{header:"Product Code",key:"productCategory",...o.t},{header:"Customer Name",key:"name",...o.t},{header:"EDD",key:"expectedDeliveryDate",...o.t},{header:"Inputs",key:"customerInputs",...o.t},{header:"T",key:"technicalReview",...o.t},{header:"E",key:"economicReview",...o.t},{header:"L",key:"legalReview",...o.t},{header:"O",key:"operationalReview",...o.t},{header:"S",key:"schedulingReview",...o.t},{header:"Status",key:"status",...o.t}];const e=c=>({title:f,csvData:c,headers:y}),h=c=>(0,p.J)({data:c,headers:y,widths:D,title:f});let g=["*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*"],_="NPD Request",R=[{header:"NPD. NO",key:"NPDNo",...o.t},{header:"NPD. Date",key:"NPDDate",...o.t},{header:"Customer/Prospect Name",key:"name",...o.t},{header:"Project Name",key:"projectName",...o.t},{header:"Product Code",key:"productCategory",...o.t},{header:"Product Brief",key:"productBrief",...o.t},{header:"Build Stage",key:"buildStage",...o.t},{header:"Order Type",key:"orderType",...o.t},{header:"Monthly off-take Quantity",key:"monthlyOffTakeQty",...o.t},{header:"Development Charges",key:"developmentCharges",...o.t},{header:"Quantity [Requested]",key:"requestedQty",...o.t},{header:"EDD",key:"expectedDeliveryDate",...o.t},{header:"Validation Required",key:"validationRequired",...o.t},{header:"NPD Requested by/Coordinator",key:"NPDRequestedBy",...o.t},{header:"Remark",key:"remarks",...o.t},{header:"Status",key:"status",...o.t}];const Z=c=>({title:_,csvData:c,headers:R}),P=c=>(0,p.J)({data:c,headers:R,widths:g,title:_});let w=["*","*","*","*","*","*","*"],S="SampleRequest Report",C=[{header:"SR No.",key:"sampleReqNo",...o.t},{header:"SR Date",key:"SRDate",...o.t},{header:"Sales Category",key:"salesCategory",...o.t},{header:"Customer Name",key:"customerName",...o.t},{header:"Currency",key:"currency",...o.t},{header:"SR Total Amount",key:"SRTotalAmount",...o.t},{header:"SR Status",key:"SRStatus",...o.t}];const O=c=>({title:S,csvData:c,headers:C}),x=c=>(0,p.J)({data:c,headers:C,widths:w,title:S});let I=["*","*","*","*","*","*","*","*"],q="Sample Job Card Creation",U=[{header:"JC No.",key:"jobCardNo",...o.t},{header:"JC Date",key:"jobCardDate",...o.t},{header:"SKU No.",key:"SKUNo",...o.t},{header:"SKU Name",key:"SKUName",...o.t},{header:"SKU Description",key:"SKUDescription",...o.t},{header:"Batch Qty.",key:"batchQty",...o.t},{header:"Customer Nick Name",key:"customerNickName",...o.t},{header:"Status",key:"status",...o.t}];const E=c=>({title:q,csvData:c,headers:U}),M=c=>(0,p.J)({data:c,headers:U,widths:I,title:q})},13107:(v,m,d)=>{d.d(m,{t:()=>o});const o={width:24,style:{alignment:{vertical:"middle",horizontal:"center",wrapText:!0}}}},28402:(v,m,d)=>{d.d(m,{J:()=>o});const o=({data:p,headers:D,widths:f,title:y})=>({tableData:{widths:f,headerRows:1,body:[D.map(g=>({text:g.header,style:"header"})),...p.map(g=>D.map(_=>({style:"subheader",text:g[_.key]})))]},title:y})},62576:(v,m,d)=>{d.d(m,{Qj:()=>f,rz:()=>o,JD:()=>p,wG:()=>g});const o=[{message:"NPD No. is Required",key:"NPD"}],p=[{message:"Customer/Prospect Name is Required",key:"referenceModel"},{message:"Product Category is Required",key:"productCategory"},{message:"Project Name is Required",key:"projectName"},{message:"Build Stage is Required",key:"buildStage"},{message:"Order Type is Required",key:"orderType"},{message:"Development Charges is Required",key:"developmentCharges"},{message:"Quantity [Requested] is Required",key:"requestedQty"},{message:"Expected Delivery Date [EDD] is Required",key:"expectedDeliveryDate"},{message:"Validation Required is Required",key:"validationRequired"},{message:"NPD Requested by/Coordinator is Required",key:"NPDRequestedBy"}];d(84982);const f=[{message:"Order is Required",key:"order"},{message:"Name is Required",key:"name"},{message:"Status is Required",key:"status"}],g=[{message:"Bill From Location is Required",key:"billFromLocation"},{message:"Customer Category is Required",key:"salesCategory"},{message:"Customer Name is Required",key:"customer"},{message:"Net SO Value is Required",key:"SRTotalAmount"},{message:"Status is Required",key:"SRStatus"},{message:"Customer Shipping Address is Required",key:"customerShippingAddress"},{message:"Fright Terms is Required",key:"frightTerms"},{message:"Transporter is Required",key:"transporter"},{message:"Destination is Required",key:"destination"}]},84982:(v,m,d)=>{d.d(m,{$:()=>o});const o=[{message:"Prospect Name is Required",key:"prospectName"},{message:"Customer category Name is Required",key:"customerCategory"},{message:"Ccy is Required",key:"currency"}]}}]);