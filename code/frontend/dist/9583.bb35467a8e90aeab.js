"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[9583],{69583:(A,g,h)=>{h.r(g),h.d(g,{HomeModule:()=>y});var d=h(96814),c=h(1076),m=h(43818),t=h(65879),p=h(2742),v=h(31384),_=h(74661),s=h(88059);function a(n,u){1&n&&t._UZ(0,"i",26)}function Z(n,u){1&n&&t._UZ(0,"i",27)}function U(n,u){if(1&n&&(t.TgZ(0,"tr")(1,"td",22),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td")(12,"div",23),t.YNc(13,a,1,0,"i",24),t.YNc(14,Z,1,0,"i",25),t.qZA()(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA()()),2&n){const r=u.$implicit;t.xp6(2),t.Oqu(null==r?null:r.name),t.xp6(2),t.Oqu(null==r?null:r.userType),t.xp6(2),t.Oqu(null==r?null:r.role),t.xp6(2),t.Oqu(null==r?null:r.userEmail),t.xp6(2),t.Oqu(null==r?null:r.status),t.xp6(3),t.Q6J("ngIf","Yes"==r.isLoggedIn),t.xp6(1),t.Q6J("ngIf","No"==r.isLoggedIn),t.xp6(2),t.Oqu(null==r?null:r.lastLoggedIn),t.xp6(2),t.Oqu(null==r?null:r.userIP)}}const f=function(n,u,r,o){return{page:n,pageSize:u,collection:r,search:o,excelDisplay:"none"}};let T=(()=>{var n;class u{constructor(o,e,i,l,S){this.menuTitleService=o,this.service=e,this.spinner=i,this.setting=l,this.appGlobalService=S,this.title="",this.page=1,this.pageSize=10,this.collection=0,this.search="",this.tableData=[],this.column="lastLoggedIn",this.direction=-1,this.dashBoardData={activeUsers:0,activeRoles:0,totalAdminUsers:0,loggedInUsers:0,totalCompanyLocations:0}}ngOnInit(){this.getAll(),this.getAllDashboardData(),this.title=this.appGlobalService.moduleName,this.menuTitleService.set({title:`${this.title} Overview`,subTitle:null,type:null})}trackByFn(o,e){return e?._id}onSort({column:o,direction:e}){this.headers.forEach(i=>{i.sortable!==o&&(i.direction="")}),this.column=o,this.direction="asc"==e?1:-1,this.getAll()}eventHeader(o){switch(o.key){case"SEARCH":this.search=o.value,this.getAll();break;case"EXCEL":this.getAll(!0);break;case"PAGE":this.page=o.value,this.getAll()}}getAll(o=!1){this.spinner.show(),this.service.getAllReport({page:this.page,pageSize:this.pageSize,search:this.search,column:this.column,direction:this.direction,excel:o}).subscribe(i=>{this.tableData=i.rows,this.collection=i.count,this.spinner.hide()})}getAllDashboardData(){this.setting.getAllSetting({}).subscribe(o=>{this.dashBoardData=o})}}return(n=u).\u0275fac=function(o){return new(o||n)(t.Y36(p.Uh),t.Y36(v.KD),t.Y36(p.V),t.Y36(_.s),t.Y36(p.P0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-home"]],viewQuery:function(o,e){if(1&o&&t.Gf(m.j,5),2&o){let i;t.iGM(i=t.CRH())&&(e.headers=i)}},decls:62,vars:13,consts:[[1,"container-fluid","text-center","dashboard-page"],[1,"row","mt-5","mx-1"],[1,"col"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"row","mt-3","mx-1"],[3,"data","dataChange"],[1,"table-responsive"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],["sortable","name",1,"text-start",3,"sort"],["sortable","userType",3,"sort"],["sortable","role",3,"sort"],["sortable","userEmail",3,"sort"],["sortable","status",3,"sort"],["sortable","isLoggedIn",3,"sort"],["sortable","lastLoggedIn",3,"sort"],["sortable","userIP",3,"sort"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-start"],[1,""],["class","fa fa-circle text-success","aria-hidden","true",4,"ngIf"],["class","fa fa-circle text-danger","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"fa","fa-circle","text-success"],["aria-hidden","true",1,"fa","fa-circle","text-danger"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),t._uU(6,"Active Users"),t.qZA(),t.TgZ(7,"p",6),t._uU(8),t.qZA()()()(),t.TgZ(9,"div",2)(10,"div",3)(11,"div",4)(12,"h5",5),t._uU(13,"Active Roles"),t.qZA(),t.TgZ(14,"p",6),t._uU(15),t.qZA()()()(),t.TgZ(16,"div",2)(17,"div",3)(18,"div",4)(19,"h5",5),t._uU(20,"Total Admin Users"),t.qZA(),t.TgZ(21,"p",6),t._uU(22),t.qZA()()()(),t.TgZ(23,"div",2)(24,"div",3)(25,"div",4)(26,"h5",5),t._uU(27,"Logged In Users"),t.qZA(),t.TgZ(28,"p",6),t._uU(29),t.qZA()()()(),t.TgZ(30,"div",2)(31,"div",3)(32,"div",4)(33,"h5",5),t._uU(34,"Total Company Locations"),t.qZA(),t.TgZ(35,"p",6),t._uU(36),t.qZA()()()()(),t.TgZ(37,"div",7)(38,"div",2)(39,"app-setting-header",8),t.NdJ("dataChange",function(l){return e.eventHeader(l)}),t.qZA(),t.TgZ(40,"div",9)(41,"table",10)(42,"thead",11)(43,"tr",12)(44,"th",13),t.NdJ("sort",function(l){return e.onSort(l)}),t._uU(45,"User Name"),t.qZA(),t.TgZ(46,"th",14),t.NdJ("sort",function(l){return e.onSort(l)}),t._uU(47,"User type"),t.qZA(),t.TgZ(48,"th",15),t.NdJ("sort",function(l){return e.onSort(l)}),t._uU(49,"Role"),t.qZA(),t.TgZ(50,"th",16),t.NdJ("sort",function(l){return e.onSort(l)}),t._uU(51,"Email"),t.qZA(),t.TgZ(52,"th",17),t.NdJ("sort",function(l){return e.onSort(l)}),t._uU(53,"Status"),t.qZA(),t.TgZ(54,"th",18),t.NdJ("sort",function(l){return e.onSort(l)}),t._uU(55,"Logged In status"),t.qZA(),t.TgZ(56,"th",19),t.NdJ("sort",function(l){return e.onSort(l)}),t._uU(57,"Last Logged In"),t.qZA(),t.TgZ(58,"th",20),t.NdJ("sort",function(l){return e.onSort(l)}),t._uU(59,"IP Address"),t.qZA()()(),t.TgZ(60,"tbody"),t.YNc(61,U,19,9,"tr",21),t.qZA()()()()()()),2&o&&(t.xp6(8),t.hij(" ",e.dashBoardData.activeUsers," "),t.xp6(7),t.hij(" ",e.dashBoardData.activeRoles," "),t.xp6(7),t.hij(" ",e.dashBoardData.totalAdminUsers," "),t.xp6(7),t.hij(" ",e.dashBoardData.loggedInUsers," "),t.xp6(7),t.hij(" ",e.dashBoardData.totalCompanyLocations," "),t.xp6(3),t.Q6J("data",t.l5B(8,f,e.page,e.pageSize,e.collection,e.search)),t.xp6(22),t.Q6J("ngForOf",e.tableData)("ngForTrackBy",e.trackByFn))},dependencies:[d.sg,d.O5,s.P,m.j],encapsulation:2}),u})();var b=h(34702),P=h(56208);const C=[{path:"",component:T}];let y=(()=>{var n;class u{}return(n=u).\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,b.vQ,c.Bz.forChild(C),P.m]}),u})()},74661:(A,g,h)=>{h.d(g,{s:()=>t});var d=h(37398),c=h(65879),m=h(2742);let t=(()=>{var p;class v{constructor(s){this.http=s,this.routes={salesPath:"/dashboard/sales",businessLeadsPath:"/dashboard/businessLeads",hrPath:"/dashboard/hr",purchasePath:"/dashboard/purchase",productionPath:"/dashboard/production",maintenancePath:"/dashboard/maintenance",qualityPath:"/dashboard/quality",dispatchPath:"/dashboard/dispatch",storePath:"/dashboard/stores",settingPath:"/dashboard/setting",supportPath:"/dashboard/support",planningPath:"/dashboard/planning"}}getAllBusinessLeads(s){return this.http.get(this.routes.businessLeadsPath,s).pipe((0,d.U)(a=>a))}getAllHr(s){return this.http.get(this.routes.hrPath,s).pipe((0,d.U)(a=>a))}getAllSales(s){return this.http.get(this.routes.salesPath,s).pipe((0,d.U)(a=>a))}getAllPurchase(s){return this.http.get(this.routes.purchasePath,s).pipe((0,d.U)(a=>a))}getAllProduction(s){return this.http.get(this.routes.productionPath,s).pipe((0,d.U)(a=>a))}getAllMaintenance(s){return this.http.get(this.routes.maintenancePath,s).pipe((0,d.U)(a=>a))}getAllQuality(s){return this.http.get(this.routes.qualityPath,s).pipe((0,d.U)(a=>a))}getAllDispatch(s){return this.http.get(this.routes.dispatchPath,s).pipe((0,d.U)(a=>a))}getAllStores(s){return this.http.get(this.routes.storePath,s).pipe((0,d.U)(a=>a))}getAllSetting(s){return this.http.get(this.routes.settingPath,s).pipe((0,d.U)(a=>a))}getAllSupport(s){return this.http.get(this.routes.supportPath,s).pipe((0,d.U)(a=>a))}getAllPlanning(s){return this.http.get(this.routes.planningPath,s).pipe((0,d.U)(a=>a))}}return(p=v).\u0275fac=function(s){return new(s||p)(c.LFG(m.sM))},p.\u0275prov=c.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),v})()}}]);