"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[9257],{99257:(x,d,n)=>{n.r(d),n.d(d,{MapProcessNameModule:()=>y});var g=n(96814),u=n(1076),m=n(43818),f=n(25116),P=n(93383),t=n(65879),c=n(2742),l=n(37398);let N=(()=>{class i{constructor(e){this.http=e,this.routes={createPath:"/planning/processMaster/create",getAllPath:"/planning/processMaster/getAll",getAllMapProcessNamesPath:"/planning/processMaster/getAllMapProcessNames",getAllMasterDataPath:"/planning/processMaster/getAllMasterData",updatePath:s=>`/planning/processMaster/update/${s}`,getByIdPath:s=>`/planning/processMaster/getById/${s}`,deletePath:s=>`/planning/processMaster/delete/${s}`}}create(e){return this.http.post(this.routes.createPath,e).pipe((0,l.U)(s=>s))}getAll(e){return this.http.get(this.routes.getAllPath,e).pipe((0,l.U)(s=>s))}getAllMapProcessNames(e){return this.http.get(this.routes.getAllMapProcessNamesPath,e).pipe((0,l.U)(s=>s))}getAllMasterData(e){return this.http.get(this.routes.getAllMasterDataPath,e).pipe((0,l.U)(s=>s))}getMonthlySupplierEvaluation(e){return this.http.get(this.routes.getMonthlySupplierEvaluationPath,e).pipe((0,l.U)(s=>s))}update(e,s){return this.http.put(this.routes.updatePath(e),s).pipe((0,l.U)(a=>a))}getById(e){return this.http.get(this.routes.getByIdPath(e)).pipe((0,l.U)(s=>s))}delete(e){return this.http.delete(this.routes.deletePath(e)).pipe((0,l.U)(s=>s))}static#t=this.\u0275fac=function(s){return new(s||i)(t.LFG(c.sM))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var M=n(88059),h=n(60095);function v(i,p){if(1&i&&(t.TgZ(0,"option",22),t._uU(1),t.qZA()),2&i){const e=p.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",null==e?null:e.label," ")}}function A(i,p){if(1&i&&(t.TgZ(0,"option",22),t._uU(1),t.qZA()),2&i){const e=p.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",null==e?null:e.label," ")}}function C(i,p){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"select",14),t.NdJ("ngModelChange",function(a){const o=t.CHM(e).$implicit;return t.KtG(o.processOriginalName=a)}),t.TgZ(7,"option",15),t._uU(8,"Select Process Original Name"),t.qZA(),t.YNc(9,v,2,2,"option",16),t.qZA()(),t.TgZ(10,"td")(11,"select",14),t.NdJ("ngModelChange",function(a){const o=t.CHM(e).$implicit;return t.KtG(o.qualityOriginalName=a)}),t.TgZ(12,"option",15),t._uU(13,"Select IPQA Original Name"),t.qZA(),t.YNc(14,A,2,2,"option",16),t.qZA()(),t.TgZ(15,"td")(16,"div",17),t._UZ(17,"button",18),t.TgZ(18,"div",19)(19,"a",20),t.NdJ("click",function(){const r=t.CHM(e).$implicit,o=t.oxw();return t.KtG(o.update(r,{processOriginalName:r.processOriginalName,qualityOriginalName:r.qualityOriginalName}))}),t._UZ(20,"i",21),t._uU(21," Update "),t.qZA()()()()()}if(2&i){const e=p.$implicit,s=t.oxw();t.xp6(2),t.Oqu(null==e?null:e.processId),t.xp6(2),t.Oqu(null==e?null:e.processName),t.xp6(2),t.Q6J("ngModel",e.processOriginalName),t.xp6(3),t.Q6J("ngForOf",s.processOptions),t.xp6(2),t.Q6J("ngModel",e.qualityOriginalName),t.xp6(3),t.Q6J("ngForOf",s.IPQAOptions)}}const _=function(i,p,e,s){return{page:i,pageSize:p,collection:e,search:s,type:"list"}};let Z=(()=>{class i{constructor(e,s,a,r,o,O,S){this.exportExcelService=e,this.router=s,this.spinner=a,this.activatedRoute=r,this.mapProcessNameService=o,this.exportToPDFService=O,this.toastService=S,this.page=1,this.pageSize=8,this.collection=0,this.column="createdAt",this.direction=-1,this.search="",this.tableData=[],this.processOptions=[],this.IPQAOptions=[],this.rolePermissionActions=f.a1}ngOnInit(){this.page=Number(this.activatedRoute.snapshot.queryParamMap.get("page")??1),this.getAll()}getAll(e=!1,s=""){this.spinner.show();let a={page:this.page,pageSize:this.pageSize,search:this.search,column:this.column,direction:this.direction,excel:e};this.subscription&&this.subscription.unsubscribe(),this.subscription=this.mapProcessNameService.getAllMapProcessNames(a).subscribe(r=>{"EXCEL"==s?this.excelDownload(r.rows):"PDF"==s?this.pdfDownload(r.rows):(this.processOptions=r.processOptions,this.IPQAOptions=r.IPQAOptions,this.tableData=r.rows,this.collection=r.count),this.spinner.hide()})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}navigateTo(e,s,a){this.router.navigate([e],{queryParams:{id:s?._id,action:a}})}eventHeader(e){switch(e.key){case"SEARCH":this.search=e.value,this.getAll();break;case"PDF":this.getAll(!0,"PDF");break;case"EXCEL":this.getAll(!0,"EXCEL");break;case"PAGE":this.page=e.value,this.getAll()}}trackByFn(e,s){return s?._id}excelDownload(e){this.exportExcelService.exportExcel((0,P.ri)(e))}pdfDownload(e){let s=(0,P.RJ)(e);this.exportToPDFService.generatePdf(s.tableData,s.title)}onSort({column:e,direction:s}){this.headers.forEach(a=>{a.sortable!==e&&(a.direction="")}),this.column=e,this.direction="asc"==s?1:-1,this.getAll()}update(e,s){this.spinner.show(),this.mapProcessNameService.update(e._id,s).subscribe(a=>{this.toastService.success(a.message),this.spinner.hide()})}static#t=this.\u0275fac=function(s){return new(s||i)(t.Y36(c.Ol),t.Y36(u.F0),t.Y36(c.V),t.Y36(u.gz),t.Y36(N),t.Y36(c.$L),t.Y36(c.kl))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-map-process-name-list"]],viewQuery:function(s,a){if(1&s&&t.Gf(m.j,5),2&s){let r;t.iGM(r=t.CRH())&&(a.headers=r)}},decls:22,vars:8,consts:[[1,"listCard","card"],[1,"table-header"],[1,"heading"],[1,"line-border"],[1,"table-responsive"],[3,"data","dataChange"],[1,"table","table-bordered"],[1,"bg-secondary"],[1,"text-white"],["sortable","processId",3,"sort"],["sortable","processName",3,"sort"],["sortable","processOriginalName",1,"text-start",3,"sort"],["sortable","qualityOriginalName",1,"text-start",3,"sort"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"form-select",3,"ngModel","ngModelChange"],["value","null","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"dropdown"],[1,"dropbtn"],[1,"dropdown-content"],["href","javascript:void(0)",3,"click"],["aria-hidden","true",1,"fa","fa-pencil-square-o","fa-lg","me-2","text-primary"],[3,"value"]],template:function(s,a){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"label",2),t._uU(3,"Map Process Name Summary"),t.qZA()(),t._UZ(4,"hr",3),t.TgZ(5,"div",4)(6,"app-setting-header",5),t.NdJ("dataChange",function(o){return a.eventHeader(o)}),t.qZA(),t.TgZ(7,"table",6)(8,"thead",7)(9,"tr",8)(10,"th",9),t.NdJ("sort",function(o){return a.onSort(o)}),t._uU(11,"Process ID"),t.qZA(),t.TgZ(12,"th",10),t.NdJ("sort",function(o){return a.onSort(o)}),t._uU(13,"Process Name"),t.qZA(),t.TgZ(14,"th",11),t.NdJ("sort",function(o){return a.onSort(o)}),t._uU(15," Map Process Original Name "),t.qZA(),t.TgZ(16,"th",12),t.NdJ("sort",function(o){return a.onSort(o)}),t._uU(17," Map IPQA Original Name "),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Action"),t.qZA()()(),t.TgZ(20,"tbody"),t.YNc(21,C,22,6,"tr",13),t.qZA()()()()),2&s&&(t.xp6(6),t.Q6J("data",t.l5B(3,_,a.page,a.pageSize,a.collection,a.search)),t.xp6(15),t.Q6J("ngForOf",a.tableData)("ngForTrackBy",a.trackByFn))},dependencies:[g.sg,M.P,h.YN,h.Kr,h.EJ,h.JJ,h.On,m.j]})}return i})();var T=n(56208);const b=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:Z}];let y=(()=>{class i{static#t=this.\u0275fac=function(s){return new(s||i)};static#e=this.\u0275mod=t.oAB({type:i});static#s=this.\u0275inj=t.cJS({imports:[g.ez,u.Bz.forChild(b),T.m]})}return i})()}}]);