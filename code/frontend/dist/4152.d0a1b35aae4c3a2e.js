"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[4152],{24152:(P,b,c)=>{c.r(b),c.d(b,{JcProductionEntryModule:()=>ie});var g=c(96814),y=c(1076),a=c(60095),T=c(21631),S=c(22096),A=c(61441),J=c(3959),U=c(74834),D=c(43818),t=c(65879),u=c(37285),p=c(99328);function E(r,l){if(1&r&&(t.TgZ(0,"option",33),t._uU(1),t.qZA()),2&r){const i=l.$implicit;t.Q6J("value",i.value),t.xp6(1),t.hij(" ",i.label," ")}}function F(r,l){1&r&&t._UZ(0,"div",34)}function K(r,l){1&r&&t._UZ(0,"div",35)}function R(r,l){1&r&&t._UZ(0,"div",36)}let j=(()=>{var r;class l{constructor(n,e,o){this.activeModal=n,this.utilityService=e,this.toastService=o,this.generateReport={},this.billFromLocationOptions={}}ngOnInit(){this.generateReport.jobCardClosureDate&&(this.generateReport.jobCardClosureDate=this.utilityService.getFormatDate(this.generateReport.jobCardClosureDate,"YYYY-MM-DD")),1===this.billFromLocationOptions.length&&(this.generateReport.location=this.billFromLocationOptions[0].value)}setRejectQty(){this.generateReport.batchRejQty=this.generateReport.batchInputQty&&this.generateReport.batchOutputQty?this.generateReport.batchInputQty-this.generateReport.batchOutputQty:0}dismissModel(){"Skip Integration"!=this.generateReport.checkoutStatus||this.generateReport.batchOutputQty?this.activeModal.close(this.generateReport):this.toastService.warning("Batch Output Quantity is Required")}}return(r=l).\u0275fac=function(n){return new(n||r)(t.Y36(u.Kz),t.Y36(p.tI),t.Y36(p.kl))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-generate-report-modal"]],viewQuery:function(n,e){if(1&n&&t.Gf(D.j,5),2&n){let o;t.iGM(o=t.CRH())&&(e.headers=o)}},inputs:{generateReport:"generateReport",billFromLocationOptions:"billFromLocationOptions"},decls:94,vars:12,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container-fluid","px-0","mt-4"],[1,"row","justify-content-center","px-5","mt-4"],[1,"col-12"],[1,"row","mt-4"],[1,"col-4","pe-0"],[1,"form-label"],[1,"text-danger"],[1,"col-2","px-2","d-flex","align-items-center","justify-content-center"],[1,"ms-1","me-2","text-secondary"],[1,"col-6","ps-0","setInputMargin"],["type","number",1,"form-control",3,"ngModel","ngModelChange","input"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],["type","date",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-select",3,"ngModel","ngModelChange"],["selected","","disabled","",3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"col-6","ps-0","setInputMargin","d-flex"],["value","Skip Integration"],["value","In-Process"],["value","Mark As Completed"],[1,"input-group-text","statusSpanHeight"],["class","statusInActive",4,"ngIf"],["class","statusYellow",4,"ngIf"],["class","statusActive",4,"ngIf"],[1,"line-border","my-4"],[1,"row"],[1,"col","text-center","mb-4"],["type","button",1,"btn","bg-primary","px-5",3,"click"],[3,"value"],[1,"statusInActive"],[1,"statusYellow"],[1,"statusActive"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Generate Report"),t.qZA(),t.TgZ(4,"div")(5,"button",3),t.NdJ("click",function(){return e.activeModal.close()}),t._UZ(6,"i",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),t._uU(13,"Batch Input Quantity"),t.TgZ(14,"span",11),t._uU(15," * "),t.qZA()()(),t.TgZ(16,"div",12)(17,"span",13),t._uU(18,"\u25b6"),t.qZA()(),t.TgZ(19,"div",14)(20,"input",15),t.NdJ("ngModelChange",function(s){return e.generateReport.batchInputQty=s})("input",function(){return e.setRejectQty()}),t.qZA()()(),t.TgZ(21,"div",8)(22,"div",9)(23,"label",10),t._uU(24,"Batch Output Quantity"),t.TgZ(25,"span",11),t._uU(26," * "),t.qZA()()(),t.TgZ(27,"div",12)(28,"span",13),t._uU(29,"\u25b6"),t.qZA()(),t.TgZ(30,"div",14)(31,"input",15),t.NdJ("ngModelChange",function(s){return e.generateReport.batchOutputQty=s})("input",function(){return e.setRejectQty()}),t.qZA()()(),t.TgZ(32,"div",8)(33,"div",9)(34,"label",10),t._uU(35,"Batch Rejection Quantity"),t.TgZ(36,"span",11),t._uU(37," * "),t.qZA()()(),t.TgZ(38,"div",12)(39,"span",13),t._uU(40,"\u25b6"),t.qZA()(),t.TgZ(41,"div",14)(42,"input",16),t.NdJ("ngModelChange",function(s){return e.generateReport.batchRejQty=s}),t.qZA()()(),t.TgZ(43,"div",8)(44,"div",9)(45,"label",10),t._uU(46,"Job Card Closure Date"),t.TgZ(47,"span",11),t._uU(48," * "),t.qZA()()(),t.TgZ(49,"div",12)(50,"span",13),t._uU(51,"\u25b6"),t.qZA()(),t.TgZ(52,"div",14)(53,"input",17),t.NdJ("ngModelChange",function(s){return e.generateReport.jobCardClosureDate=s}),t.qZA()()(),t.TgZ(54,"div",8)(55,"div",9)(56,"label",10),t._uU(57," Location "),t.qZA()(),t.TgZ(58,"div",12)(59,"span",13),t._uU(60,"\u25b6"),t.qZA()(),t.TgZ(61,"div",14)(62,"select",18),t.NdJ("ngModelChange",function(s){return e.generateReport.location=s}),t.TgZ(63,"option",19),t._uU(64,"Select Location"),t.qZA(),t.YNc(65,E,2,2,"option",20),t.qZA()()(),t.TgZ(66,"div",8)(67,"div",9)(68,"label",10),t._uU(69," Job Card Status "),t.TgZ(70,"span",11),t._uU(71," * "),t.qZA()()(),t.TgZ(72,"div",12)(73,"span",13),t._uU(74,"\u25b6"),t.qZA()(),t.TgZ(75,"div",21)(76,"select",18),t.NdJ("ngModelChange",function(s){return e.generateReport.checkoutStatus=s}),t.TgZ(77,"option",19),t._uU(78,"Select Status"),t.qZA(),t.TgZ(79,"option",22),t._uU(80,"Skip Integration"),t.qZA(),t.TgZ(81,"option",23),t._uU(82,"In-Process"),t.qZA(),t.TgZ(83,"option",24),t._uU(84,"Mark As Completed"),t.qZA()(),t.TgZ(85,"span",25),t.YNc(86,F,1,0,"div",26),t.YNc(87,K,1,0,"div",27),t.YNc(88,R,1,0,"div",28),t.qZA()()()()(),t._UZ(89,"hr",29),t.TgZ(90,"div",30)(91,"div",31)(92,"button",32),t.NdJ("click",function(){return e.dismissModel()}),t._uU(93,"Save & Close"),t.qZA()()()()()),2&n&&(t.xp6(20),t.Q6J("ngModel",e.generateReport.batchInputQty),t.xp6(11),t.Q6J("ngModel",e.generateReport.batchOutputQty),t.xp6(11),t.Q6J("ngModel",e.generateReport.batchRejQty),t.xp6(11),t.Q6J("ngModel",e.generateReport.jobCardClosureDate),t.xp6(9),t.Q6J("ngModel",e.generateReport.location),t.xp6(1),t.Q6J("value",null),t.xp6(2),t.Q6J("ngForOf",e.billFromLocationOptions),t.xp6(11),t.Q6J("ngModel",e.generateReport.checkoutStatus),t.xp6(1),t.Q6J("value",null),t.xp6(9),t.Q6J("ngIf","Skip Integration"==e.generateReport.checkoutStatus),t.xp6(1),t.Q6J("ngIf","In-Process"==e.generateReport.checkoutStatus),t.xp6(1),t.Q6J("ngIf","Mark As Completed"==e.generateReport.checkoutStatus))},dependencies:[g.sg,g.O5,a.YN,a.Kr,a.Fj,a.wV,a.EJ,a.JJ,a.On],encapsulation:2}),l})();var Y=c(84531),x=c(32183),G=c(67916),M=c(88059),C=c(95346);const B=function(){return{standalone:!0}},L=function(){return["view"]};function z(r,l){if(1&r){const i=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",26,31)(7,"span",32),t._uU(8),t.qZA()(),t.TgZ(9,"td",26,33)(11,"span",32),t._uU(12),t.qZA()(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA(),t.TgZ(19,"td")(20,"div",34)(21,"button",35),t.NdJ("click",function(){const o=t.CHM(i).$implicit,s=t.oxw();return t.KtG(s.openBatchModal(o))}),t._uU(22," New Batch "),t.qZA()()(),t.TgZ(23,"td"),t._uU(24),t.qZA(),t.TgZ(25,"td")(26,"input",36),t.NdJ("ngModelChange",function(e){const s=t.CHM(i).$implicit;return t.KtG(s.processStatus=e)}),t.qZA()()()}if(2&r){const i=l.$implicit,n=t.MAs(6),e=t.MAs(10),o=t.oxw();t.xp6(2),t.Oqu(i.SN),t.xp6(2),t.Oqu(i.colourCode),t.xp6(1),t.Udp("width",n.clientWidth),t.xp6(2),t.Q6J("ngbTooltip",i.colourName)("positionTarget",n),t.xp6(1),t.hij(" ",i.colourName," "),t.xp6(1),t.Udp("width",e.clientWidth),t.xp6(2),t.Q6J("ngbTooltip",i.colourDescription)("positionTarget",e),t.xp6(1),t.hij(" ",i.colourDescription," "),t.xp6(2),t.Oqu(i.mesh),t.xp6(2),t.Oqu(i.UOM),t.xp6(2),t.Oqu(i.BOMQty),t.xp6(6),t.Oqu(i.inkBatchQty),t.xp6(2),t.Q6J("ngModel",i.processStatus)("ngModelOptions",t.DdM(20,B))("readonly","view"===o.action)("disabled",t.DdM(21,L).includes(o.action))}}function H(r,l){1&r&&t._UZ(0,"hr",37)}function V(r,l){if(1&r){const i=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){t.CHM(i);const e=t.oxw();return t.KtG(e.submit())}),t._uU(1," Save "),t.qZA()}}const $=function(r,l,i,n){return{page:r,pageSize:l,collection:i,search:n,excelDisplay:"none"}};let W=(()=>{var r;class l{constructor(n,e,o,s,d,m){this.inkMixingLogService=n,this.spinner=e,this.activeModal=o,this.toastService=s,this.modalService=d,this.utilityService=m,this.selectedDetails={},this.action="",this.inkMixingLog={},this.shiftOptions=[],this.page=1,this.pageSize=5,this.collection=0,this.column="createdAt",this.direction=-1,this.search="",this.selectedJobCardDetails={}}ngOnInit(){this.getInitialData()}reset(){this.getInitialData()}submit(){this.create()}trackByFn(n,e){return e?._id}create(){this.spinner.show(),this.inkMixingLogService.createOrUpdate(this.inkMixingLog).subscribe(n=>{this.spinner.hide(),this.toastService.success(n.message),this.activeModal.close()})}getInitialData(){this.spinner.show(),this.inkMixingLogService.getAllMasterData(this.selectedDetails).subscribe(n=>{this.inkMixingLog=n.inkMixingLog,(0==n?.inkMixingLog?.inkMixingLogDetails?.length||!n?.inkMixingLog?.inkMixingLogDetails)&&this.toastService.warning(`Please define SKU Ink Master Of SKU No -  ${this.inkMixingLog.SKUNo}`),this.shiftOptions=n.shiftOptions,this.collection=this.inkMixingLog?.inkMixingLogDetails?.length,this.spinner.hide()})}eventHeader(n){switch(n.key){case"SEARCH":this.search=n.value;break;case"EXCEL":default:break;case"PAGE":this.page=n.value}}openLogEntryModal(){this.modalService.open(x.M,{centered:!0,size:"md",backdrop:"static",keyboard:!1}).result.then(e=>{},e=>{})}openBatchModal(n){const e=this.modalService.open(Y.p,{centered:!0,size:"xl",backdrop:"static",keyboard:!1});e.componentInstance.action=this.action,e.componentInstance.inkLogNewBatch=n,e.componentInstance.shiftOptions=this.shiftOptions,e.result.then(o=>{o&&console.log("success",o)},o=>{})}}return(r=l).\u0275fac=function(n){return new(n||r)(t.Y36(G.I),t.Y36(p.V),t.Y36(u.Kz),t.Y36(p.kl),t.Y36(u.FF),t.Y36(p.tI))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-ink-mixing-log-modal"]],inputs:{selectedDetails:"selectedDetails",action:"action"},decls:81,vars:25,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container"],[1,"form-body","my-4"],[1,"row"],[1,"col-4","pe-3"],[1,"col-6","pe-4"],[1,"form-label"],[1,"text-danger"],["type","text","readonly","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-6","ps-2","pe-5"],["type","text","readonly","",1,"form-control","bg-white-smoke",3,"ngModel","ngModelChange"],[1,"col-3","ps-0","pe-5"],[1,"col-5","ps-3"],[1,"col-6","ps-0","pe-3"],[1,"col-6"],[1,"col-7","ps-0"],[1,"row","line-border"],[3,"data","dataChange"],[1,"table-responsive",2,"min-height","20rem"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],[1,"text-start"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","row line-border mt-4",4,"ngIf"],[1,"col-12","d-flex","justify-content-center"],["type","button","class","btn bg-primary px-5 mb-3",3,"click",4,"ngIf"],["colourName",""],[1,"pointer",3,"ngbTooltip","positionTarget"],["colourDescription",""],[1,"d-flex","justify-content-center","align-items-center"],["type","button",1,"btn","btn-primary","form-btn-sm","py-0",3,"click"],["type","checkbox",1,"form-check-input","pointer",3,"ngModel","ngModelOptions","readonly","disabled","ngModelChange"],[1,"row","line-border","mt-4"],["type","button",1,"btn","bg-primary","px-5","mb-3",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Ink Mixing"),t.qZA(),t.TgZ(4,"div")(5,"button",3),t.NdJ("click",function(){return e.activeModal.close()}),t._UZ(6,"i",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",7)(12,"div",9)(13,"label",10),t._uU(14,"Job Card No. "),t.TgZ(15,"span",11),t._uU(16,"*"),t.qZA()(),t.TgZ(17,"input",12),t.NdJ("ngModelChange",function(s){return e.inkMixingLog.jobCardNo=s}),t.qZA()(),t.TgZ(18,"div",13)(19,"label",10),t._uU(20,"SKU No. "),t._UZ(21,"span",11),t.qZA(),t.TgZ(22,"input",14),t.NdJ("ngModelChange",function(s){return e.inkMixingLog.SKUNo=s}),t.qZA()()()(),t.TgZ(23,"div",15)(24,"label",10),t._uU(25,"SKU Name "),t._UZ(26,"span",11),t.qZA(),t.TgZ(27,"input",14),t.NdJ("ngModelChange",function(s){return e.inkMixingLog.SKUName=s}),t.qZA()(),t.TgZ(28,"div",16)(29,"div",7)(30,"div",17)(31,"label",10),t._uU(32,"SKU Description "),t._UZ(33,"span",11),t.qZA(),t.TgZ(34,"input",14),t.NdJ("ngModelChange",function(s){return e.inkMixingLog.SKUDescription=s}),t.qZA()(),t.TgZ(35,"div",18)(36,"div",7)(37,"div",16)(38,"label",10),t._uU(39,"UoM "),t._UZ(40,"span",11),t.qZA(),t.TgZ(41,"input",14),t.NdJ("ngModelChange",function(s){return e.inkMixingLog.UOM=s}),t.qZA()(),t.TgZ(42,"div",19)(43,"label",10),t._uU(44,"SKU Batch Qty "),t._UZ(45,"span",11),t.qZA(),t.TgZ(46,"input",14),t.NdJ("ngModelChange",function(s){return e.inkMixingLog.SKUBatchQty=s}),t.qZA()()()()()()()(),t._UZ(47,"hr",20),t.TgZ(48,"app-setting-header",21),t.NdJ("dataChange",function(s){return e.eventHeader(s)}),t.qZA(),t.TgZ(49,"div",22)(50,"table",23)(51,"thead",24)(52,"tr",25)(53,"th"),t._uU(54,"SN"),t.qZA(),t.TgZ(55,"th"),t._uU(56,"Item Code"),t.qZA(),t.TgZ(57,"th",26),t._uU(58,"Item Name"),t.qZA(),t.TgZ(59,"th",26),t._uU(60,"Item Description"),t.qZA(),t.TgZ(61,"th"),t._uU(62,"Mesh"),t.qZA(),t.TgZ(63,"th"),t._uU(64,"UoM"),t.qZA(),t.TgZ(65,"th"),t._uU(66,"BoM Qty"),t.qZA(),t.TgZ(67,"th"),t._uU(68,"Add New Batch"),t.qZA(),t.TgZ(69,"th"),t._uU(70,"Ink Batch Qty."),t.qZA(),t.TgZ(71,"th"),t._uU(72,"Status"),t.qZA()()(),t.TgZ(73,"tbody"),t.YNc(74,z,27,22,"tr",27),t.ALo(75,"slice"),t.ALo(76,"searchFi1ter"),t.qZA()()(),t.YNc(77,H,1,0,"hr",28),t.TgZ(78,"div",7)(79,"div",29),t.YNc(80,V,2,0,"button",30),t.qZA()()()()),2&n&&(t.xp6(17),t.Q6J("ngModel",e.inkMixingLog.jobCardNo),t.xp6(5),t.Q6J("ngModel",e.inkMixingLog.SKUNo),t.xp6(5),t.Q6J("ngModel",e.inkMixingLog.SKUName),t.xp6(7),t.Q6J("ngModel",e.inkMixingLog.SKUDescription),t.xp6(7),t.Q6J("ngModel",e.inkMixingLog.UOM),t.xp6(5),t.Q6J("ngModel",e.inkMixingLog.SKUBatchQty),t.xp6(2),t.Q6J("data",t.l5B(18,$,e.page,e.pageSize,e.collection,e.search)),t.xp6(26),t.Q6J("ngForOf",t.Dn7(75,11,t.xi3(76,15,e.inkMixingLog.inkMixingLogDetails,e.search),(e.page-1)*e.pageSize,(e.page-1)*e.pageSize+e.pageSize))("ngForTrackBy",e.trackByFn),t.xp6(3),t.Q6J("ngIf",!t.DdM(23,L).includes(e.action)),t.xp6(3),t.Q6J("ngIf",!t.DdM(24,L).includes(e.action)))},dependencies:[g.sg,g.O5,M.P,u._L,a.Fj,a.Wl,a.JJ,a.On,g.OU,C.G],encapsulation:2}),l})();var k=c(79475);const I=function(){return{standalone:!0}},w=function(){return["view"]};function X(r,l){if(1&r){const i=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",22,27)(7,"span",28),t._uU(8),t.qZA()(),t.TgZ(9,"td",22,29)(11,"span",28),t._uU(12),t.qZA()(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td")(16,"div",30)(17,"input",31),t.NdJ("ngModelChange",function(e){const s=t.CHM(i).$implicit;return t.KtG(s.tension=e)}),t.qZA()()(),t.TgZ(18,"td")(19,"div",32),t._UZ(20,"button",33),t.TgZ(21,"button",34),t.NdJ("click",function(){const o=t.CHM(i).$implicit,s=t.oxw();return t.KtG(s.openLogEntryModal(o))}),t._uU(22," Log Entry "),t.qZA()()(),t.TgZ(23,"td")(24,"input",35),t.NdJ("ngModelChange",function(e){const s=t.CHM(i).$implicit;return t.KtG(s.status=e)}),t.qZA()()()}if(2&r){const i=l.$implicit,n=t.MAs(6),e=t.MAs(10),o=t.oxw();t.xp6(2),t.Oqu(i.SN),t.xp6(2),t.Oqu(i.colourCode),t.xp6(1),t.Udp("width",n.clientWidth),t.xp6(2),t.Q6J("ngbTooltip",i.colourName)("positionTarget",n),t.xp6(1),t.hij(" ",i.colourName," "),t.xp6(1),t.Udp("width",e.clientWidth),t.xp6(2),t.Q6J("ngbTooltip",i.colourDescription)("positionTarget",e),t.xp6(1),t.hij(" ",i.colourDescription," "),t.xp6(2),t.Oqu(i.mesh),t.xp6(3),t.Q6J("ngModel",i.tension)("ngModelOptions",t.DdM(20,I))("readonly","view"===o.action),t.xp6(7),t.Q6J("ngModel",i.status)("ngModelOptions",t.DdM(21,I))("readonly","view"===o.action)("disabled",t.DdM(22,w).includes(o.action))}}function tt(r,l){1&r&&t._UZ(0,"hr",36)}function et(r,l){if(1&r){const i=t.EpF();t.TgZ(0,"button",37),t.NdJ("click",function(){t.CHM(i);const e=t.oxw();return t.KtG(e.submit())}),t._uU(1," Save "),t.qZA()}}const nt=function(r,l,i,n){return{page:r,pageSize:l,collection:i,search:n,excelDisplay:"none"}};let ot=(()=>{var r;class l{constructor(n,e,o,s,d,m){this.screenMakingLogService=n,this.spinner=e,this.toastService=o,this.modalService=s,this.location=d,this.activeModal=m,this.selectedDetails={},this.sourceOfManufacturing="",this.action="Awaiting Approval",this.page=1,this.pageSize=5,this.collection=0,this.column="createdAt",this.direction=-1,this.search="",this.screenMakingLog={},this.shiftOptions=[],this.masterData={autoIncrementNo:"",mergeList:[],JCOptions:[]}}dismissModel(){this.activeModal.close()}ngOnInit(){this.getInitialData()}submit(){this.create()}trackByFn(n,e){return e?._id}create(){this.spinner.show(),this.screenMakingLogService.createOrUpdate(this.screenMakingLog).subscribe(n=>{this.spinner.hide(),this.toastService.success(n.message),this.activeModal.close()})}getInitialData(){this.spinner.show(),this.screenMakingLogService.getAllMasterData(this.selectedDetails).subscribe(n=>{this.screenMakingLog=n.screenMakingLog,(0==n?.screenMakingLog?.screenMakingLogDetails?.length||!n?.screenMakingLog?.screenMakingLogDetails)&&this.toastService.warning(`Please define SKU Ink Master & BOM Of SKUNo -  ${this.screenMakingLog.SKUNo}`),this.shiftOptions=n.shiftOptions,this.collection=this.screenMakingLog?.screenMakingLogDetails?.length,this.spinner.hide()})}eventHeader(n){switch(n.key){case"SEARCH":this.search=n.value;break;case"EXCEL":default:break;case"PAGE":this.page=n.value}}openLogEntryModal(n){const e=this.modalService.open(x.M,{centered:!0,size:"md",backdrop:"static",keyboard:!1});e.componentInstance.action=this.action,e.componentInstance.logDetails=n.logDetails,e.componentInstance.sourceOfManufacturing=this.sourceOfManufacturing,e.componentInstance.shiftOptions=this.shiftOptions,e.result.then(o=>{if(o){let s=this.screenMakingLog.screenMakingLogDetails.findIndex(d=>d.ink==n.ink);this.screenMakingLog.screenMakingLogDetails[s].logDetails=o}},o=>{})}}return(r=l).\u0275fac=function(n){return new(n||r)(t.Y36(k.M6),t.Y36(p.V),t.Y36(p.kl),t.Y36(u.FF),t.Y36(g.Ye),t.Y36(u.Kz))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-screen-making-log-form"]],inputs:{selectedDetails:"selectedDetails",sourceOfManufacturing:"sourceOfManufacturing",action:"action"},decls:63,vars:23,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container"],[1,"form-body","my-4"],[1,"row"],[1,"col-5","pe-0"],[1,"col-6","pe-3"],["for","",1,"form-label"],["type","text","readonly","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-6"],[1,"text-danger"],[1,"col-7","ps-5"],[1,"col-6","ps-4","pe-2"],[1,"row","line-border"],[3,"data","dataChange"],[1,"table-responsive",2,"min-height","20rem"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],[1,"text-start"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","row line-border mt-4",4,"ngIf"],[1,"col-12","d-flex","justify-content-center","mb-3"],["type","button","class","btn bg-primary px-5",3,"click",4,"ngIf"],["colourName",""],[1,"pointer",3,"ngbTooltip","positionTarget"],["colourDescription",""],[1,"d-flex","justify-content-center"],["type","text",1,"form-control","form-control-size-sm","w-25",3,"ngModel","ngModelOptions","readonly","ngModelChange"],[1,"d-flex","justify-content-center","align-items-center"],[1,"plusIconSvg","btn","btn-primary","me-1","py-0","px-0"],["type","button",1,"btn","btn-primary","form-btn-sm","py-0",3,"click"],["type","checkbox",1,"form-check-input","pointer",3,"ngModel","ngModelOptions","readonly","disabled","ngModelChange"],[1,"row","line-border","mt-4"],["type","button",1,"btn","bg-primary","px-5",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Screen Making Log"),t.qZA(),t.TgZ(4,"div")(5,"button",3),t.NdJ("click",function(){return e.activeModal.close()}),t._UZ(6,"i",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",7)(12,"div",9)(13,"label",10),t._uU(14,"Job Card No. "),t.qZA(),t.TgZ(15,"input",11),t.NdJ("ngModelChange",function(s){return e.screenMakingLog.jobCardNo=s}),t.qZA()(),t.TgZ(16,"div",12)(17,"label",10),t._uU(18,"SKU No. "),t._UZ(19,"span",13),t.qZA(),t.TgZ(20,"input",11),t.NdJ("ngModelChange",function(s){return e.screenMakingLog.SKUNo=s}),t.qZA()()()(),t.TgZ(21,"div",14)(22,"div",7)(23,"div",15)(24,"label",10),t._uU(25,"SKU Name "),t._UZ(26,"span",13),t.qZA(),t.TgZ(27,"input",11),t.NdJ("ngModelChange",function(s){return e.screenMakingLog.SKUName=s}),t.qZA()(),t.TgZ(28,"div",12)(29,"label",10),t._uU(30," SKU Description "),t._UZ(31,"span",13),t.qZA(),t.TgZ(32,"input",11),t.NdJ("ngModelChange",function(s){return e.screenMakingLog.SKUDescription=s}),t.qZA()()()()()(),t._UZ(33,"hr",16),t.TgZ(34,"app-setting-header",17),t.NdJ("dataChange",function(s){return e.eventHeader(s)}),t.qZA(),t.TgZ(35,"div",18)(36,"table",19)(37,"thead",20)(38,"tr",21)(39,"th"),t._uU(40,"SN"),t.qZA(),t.TgZ(41,"th"),t._uU(42,"Colour Code"),t.qZA(),t.TgZ(43,"th",22),t._uU(44,"Colour Name"),t.qZA(),t.TgZ(45,"th",22),t._uU(46,"Colour Description"),t.qZA(),t.TgZ(47,"th"),t._uU(48,"Mesh"),t.qZA(),t.TgZ(49,"th"),t._uU(50,"Tension N/cm"),t.qZA(),t.TgZ(51,"th"),t._uU(52,"Log Details"),t.qZA(),t.TgZ(53,"th"),t._uU(54,"Status"),t.qZA()()(),t.TgZ(55,"tbody"),t.YNc(56,X,25,23,"tr",23),t.ALo(57,"slice"),t.ALo(58,"searchFi1ter"),t.qZA()()(),t.YNc(59,tt,1,0,"hr",24),t.TgZ(60,"div",7)(61,"div",25),t.YNc(62,et,2,0,"button",26),t.qZA()()()()),2&n&&(t.xp6(15),t.Q6J("ngModel",e.screenMakingLog.jobCardNo),t.xp6(5),t.Q6J("ngModel",e.screenMakingLog.SKUNo),t.xp6(7),t.Q6J("ngModel",e.screenMakingLog.SKUName),t.xp6(5),t.Q6J("ngModel",e.screenMakingLog.SKUDescription),t.xp6(2),t.Q6J("data",t.l5B(16,nt,e.page,e.pageSize,e.collection,e.search)),t.xp6(22),t.Q6J("ngForOf",t.Dn7(57,9,t.xi3(58,13,e.screenMakingLog.screenMakingLogDetails,e.search),(e.page-1)*e.pageSize,(e.page-1)*e.pageSize+e.pageSize))("ngForTrackBy",e.trackByFn),t.xp6(3),t.Q6J("ngIf",!t.DdM(21,w).includes(e.action)),t.xp6(3),t.Q6J("ngIf",!t.DdM(22,w).includes(e.action)))},dependencies:[g.sg,g.O5,M.P,u._L,a.Fj,a.Wl,a.JJ,a.On,g.OU,C.G],encapsulation:2}),l})();var it=c(25116);const _=function(){return["view"]};function rt(r,l){if(1&r){const i=t.EpF();t.TgZ(0,"div",38)(1,"div",39)(2,"div",12)(3,"div",13)(4,"input",40),t.NdJ("ngModelChange",function(e){const s=t.CHM(i).$implicit;return t.KtG(s.date=e)}),t.qZA()()()(),t.TgZ(5,"div",41)(6,"div",12)(7,"div",42)(8,"input",35),t.NdJ("ngModelChange",function(e){const s=t.CHM(i).$implicit;return t.KtG(s.inProcessNonConformance=e)}),t.qZA()(),t.TgZ(9,"div",16)(10,"input",35),t.NdJ("ngModelChange",function(e){const s=t.CHM(i).$implicit;return t.KtG(s.inProcessCorrection=e)}),t.qZA()()()()()}if(2&r){const i=l.$implicit,n=t.oxw();t.xp6(4),t.Q6J("ngModel",i.date)("disabled",t.DdM(6,_).includes(n.action)),t.xp6(4),t.Q6J("ngModel",i.inProcessNonConformance)("disabled",t.DdM(7,_).includes(n.action)),t.xp6(2),t.Q6J("ngModel",i.inProcessCorrection)("disabled",t.DdM(8,_).includes(n.action))}}const at=function(){return{standalone:!0}};let st=(()=>{var r;class l{constructor(n,e){this.activeModal=n,this.utilityService=e,this.action="create",this.IPQAInfoList={},this.sourceOfMfg=it.mt}ngOnInit(){this.IPQAInfoList.inProcessInfo=this.IPQAInfoList.inProcessInfo.map(n=>(n.date&&(n.date=this.utilityService.getFormatDate(n.date,"YYYY-MM-DD")),n))}deleteTableRow(){this.IPQAInfoList?.inProcessInfo?.length>1&&this.IPQAInfoList.inProcessInfo.pop()}addTableRow(){this.IPQAInfoList.inProcessInfo.push({date:this.utilityService.getTodayDate("YYYY-MM-DD"),inProcessCorrection:"",inProcessNonConformance:null})}dismissModel(){this.activeModal.close({IPQAInfoList:this.IPQAInfoList})}}return(r=l).\u0275fac=function(n){return new(n||r)(t.Y36(u.Kz),t.Y36(p.tI))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-ipqa-log-model"]],viewQuery:function(n,e){if(1&n&&t.Gf(D.j,5),2&n){let o;t.iGM(o=t.CRH())&&(e.headers=o)}},inputs:{action:"action",IPQAInfoList:"IPQAInfoList"},decls:60,vars:14,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container-fluid","mt-4","px-0"],[1,"row","mx-4","px-3"],[1,"label"],[1,"text-secondary"],["type","checkbox",1,"form-check-input","pointer","label",3,"ngModel","ngModelOptions","disabled","ngModelChange"],[1,"line-border"],[1,"col-3"],[1,"row"],[1,"col","pe-4"],[1,"form-label"],[1,"col-9"],[1,"col-6","ps-0"],["type","text",1,"form-label"],[1,"text-primary","span"],["class","row mx-4 px-3 mb-2",4,"ngFor","ngForOf"],[1,"row","mt-4","mb-2","px-5","mx-1"],[1,"col-12","set-image","px-0","seperate-row"],[1,"add-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/add_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"minus-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/delete_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"row","mx-4","px-3",2,"min-height","10rem"],[1,"col-12"],[1,"d-flex","align-items-center"],[1,"col-form-label","text-nowrap"],[1,"ms-1","me-2"],["placeholder","Note down any critical incident/Deviation/Concerns during production","type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col","mt-1"],[1,"row","mb-4","mt-2","mx-4","px-3"],[1,"col-5","pe-0"],["type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-7","d-flex","justify-content-end"],["type","button",1,"btn","btn-primary","px-4",3,"disabled","click"],[1,"row","mx-4","px-3","mb-2"],[1,"col-3","pe-1"],["type","date",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-9","ps-1"],[1,"col-6","pe-1"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"IPQA Log"),t.qZA(),t.TgZ(4,"div")(5,"button",3),t.NdJ("click",function(){return e.activeModal.close()}),t._UZ(6,"i",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"label",7)(10,"h5",8),t._uU(11,'Adherence to Process Standards (Check the box if "yes")'),t.qZA(),t.TgZ(12,"input",9),t.NdJ("ngModelChange",function(s){return e.IPQAInfoList.adherenceToProcessStd=s}),t.qZA()()(),t._UZ(13,"hr",10),t.TgZ(14,"div",6)(15,"div",11)(16,"div",12)(17,"div",13)(18,"label",14),t._uU(19,"Date"),t.qZA()()()(),t.TgZ(20,"div",15)(21,"div",12)(22,"div",16)(23,"label",17),t._uU(24," In-process Non-conformance "),t.TgZ(25,"span",18),t._uU(26,"(if any)"),t.qZA()()(),t.TgZ(27,"div",16)(28,"label",17),t._uU(29,"In-process Correction "),t.qZA()()()()(),t.YNc(30,rt,11,9,"div",19),t.TgZ(31,"div",20)(32,"div",21)(33,"div",22)(34,"img",23),t.NdJ("click",function(){return e.addTableRow()}),t.qZA()(),t._UZ(35,"hr",10),t.TgZ(36,"div",24)(37,"img",25),t.NdJ("click",function(){return e.deleteTableRow()}),t.qZA()()()(),t.TgZ(38,"div",26)(39,"div",27)(40,"div",28)(41,"div",29),t._uU(42," Remarks "),t.TgZ(43,"span",30),t._uU(44,"\u25b6"),t.qZA()(),t.TgZ(45,"input",31),t.NdJ("ngModelChange",function(s){return e.IPQAInfoList.remarks=s}),t.qZA()()()(),t.TgZ(46,"div",12)(47,"div",32),t._UZ(48,"hr",10),t.qZA()(),t.TgZ(49,"div",33)(50,"div",34)(51,"div",28)(52,"div",29),t._uU(53," IPQA In-charge "),t.TgZ(54,"span",30),t._uU(55,"\u25b6"),t.qZA()(),t.TgZ(56,"input",35),t.NdJ("ngModelChange",function(s){return e.IPQAInfoList.IPQAInCharge=s}),t.qZA()()(),t.TgZ(57,"div",36)(58,"button",37),t.NdJ("click",function(){return e.dismissModel()}),t._uU(59," Save & Close "),t.qZA()()()()()),2&n&&(t.xp6(12),t.Q6J("ngModel",e.IPQAInfoList.adherenceToProcessStd)("ngModelOptions",t.DdM(9,at))("disabled",t.DdM(10,_).includes(e.action)),t.xp6(18),t.Q6J("ngForOf",e.IPQAInfoList.inProcessInfo),t.xp6(15),t.Q6J("ngModel",e.IPQAInfoList.remarks)("disabled",t.DdM(11,_).includes(e.action)),t.xp6(11),t.Q6J("ngModel",e.IPQAInfoList.IPQAInCharge)("disabled",t.DdM(12,_).includes(e.action)),t.xp6(2),t.Q6J("disabled",t.DdM(13,_).includes(e.action)))},dependencies:[g.sg,a.Fj,a.Wl,a.JJ,a.On],styles:[".set-image[_ngcontent-%COMP%]{width:100%;margin-top:-1rem!important}.seperate-row[_ngcontent-%COMP%]{position:relative}.seperate-row[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]{position:absolute;left:-1rem;top:.2rem}.seperate-row[_ngcontent-%COMP%]   .minus-icon[_ngcontent-%COMP%]{position:absolute;right:-1rem;top:.2rem}.row.mx-4.px-3[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center}.row.mx-4.px-3[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-left:10px}.form-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:2px}.label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{border-color:#fa0096}"]}),l})();var lt=c(77609),ct=c(62305);const v=function(){return{standalone:!0}},dt=function(){return["view","approve"]};function pt(r,l){if(1&r){const i=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",22,27)(7,"span",28),t._uU(8),t.qZA()(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td")(12,"div",29)(13,"input",30),t.NdJ("ngModelChange",function(e){const s=t.CHM(i).$implicit;return t.KtG(s.machine=e)}),t.qZA()()(),t.TgZ(14,"td")(15,"div",29)(16,"input",31),t.NdJ("ngModelChange",function(e){const s=t.CHM(i).$implicit;return t.KtG(s.ptgPass=e)}),t.qZA()()(),t.TgZ(17,"td")(18,"div",29)(19,"input",31),t.NdJ("ngModelChange",function(e){const s=t.CHM(i).$implicit;return t.KtG(s.SQGPerSH=e)}),t.qZA()()(),t.TgZ(20,"td")(21,"div",29)(22,"input",31),t.NdJ("ngModelChange",function(e){const s=t.CHM(i).$implicit;return t.KtG(s.deltaE=e)}),t.qZA()()(),t.TgZ(23,"td")(24,"div",32),t._UZ(25,"button",33),t.TgZ(26,"button",34),t.NdJ("click",function(){const o=t.CHM(i).$implicit,s=t.oxw();return t.KtG(s.openLogEntryModal(o))}),t._uU(27," Log Entry "),t.qZA()()(),t.TgZ(28,"td")(29,"input",35),t.NdJ("ngModelChange",function(e){const s=t.CHM(i).$implicit;return t.KtG(s.status=e)}),t.qZA()()()}if(2&r){const i=l.$implicit,n=t.MAs(6),e=t.oxw();t.xp6(2),t.Oqu(i.SN),t.xp6(2),t.Oqu(i.colourCode),t.xp6(1),t.Udp("width",n.clientWidth),t.xp6(2),t.Q6J("ngbTooltip",i.colourName)("positionTarget",n),t.xp6(1),t.hij(" ",i.colourName," "),t.xp6(2),t.Oqu(i.mesh),t.xp6(3),t.Q6J("ngModel",i.machine)("ngModelOptions",t.DdM(24,v))("readonly","view"===e.action),t.xp6(3),t.Q6J("ngModel",i.ptgPass)("ngModelOptions",t.DdM(25,v))("readonly","view"===e.action),t.xp6(3),t.Q6J("ngModel",i.SQGPerSH)("ngModelOptions",t.DdM(26,v))("readonly","view"===e.action),t.xp6(3),t.Q6J("ngModel",i.deltaE)("ngModelOptions",t.DdM(27,v))("readonly","view"===e.action),t.xp6(7),t.Q6J("ngModel",i.status)("ngModelOptions",t.DdM(28,v))("readonly","view"===e.action)("disabled",t.DdM(29,dt).includes(e.action))}}function gt(r,l){1&r&&t._UZ(0,"hr",36)}function ut(r,l){if(1&r){const i=t.EpF();t.TgZ(0,"button",37),t.NdJ("click",function(){t.CHM(i);const e=t.oxw();return t.KtG(e.submit())}),t._uU(1," Save "),t.qZA()}}const ht=function(r,l,i,n){return{page:r,pageSize:l,collection:i,search:n,excelDisplay:"none"}},mt=function(){return["view"]},_t=function(){return["reject","Acknowledged","approve","view"]};let ft=(()=>{var r;class l{constructor(n,e,o,s,d,m){this.screenPrintingLogService=n,this.spinner=e,this.toastService=o,this.modalService=s,this.location=d,this.activeModal=m,this.selectedDetails={},this.sourceOfManufacturing="",this.action="Awaiting Approval",this.page=1,this.pageSize=5,this.collection=0,this.column="createdAt",this.direction=-1,this.search="",this.screenPrintingLog={},this.shiftOptions=[],this.masterData={autoIncrementNo:"",mergeList:[],JCOptions:[]}}dismissModel(){this.activeModal.close()}ngOnInit(){this.getInitialData()}submit(){this.create()}trackByFn(n,e){return e?._id}create(){this.spinner.show(),this.screenPrintingLogService.createOrUpdate(this.screenPrintingLog).subscribe(n=>{this.spinner.hide(),this.toastService.success(n.message),this.activeModal.close()})}getInitialData(){this.spinner.show(),this.screenPrintingLogService.getAllMasterData(this.selectedDetails).subscribe(n=>{this.screenPrintingLog=n.screenPrintingLog,(0==n?.screenPrintingLog?.screenPrintingLogDetails?.length||!n?.screenPrintingLog?.screenPrintingLogDetails)&&this.toastService.warning(`Please define SKU Ink Master & BOM Of SKUNo -  ${this.screenPrintingLog.SKUNo}`),this.shiftOptions=n.shiftOptions,this.collection=this.screenPrintingLog?.screenPrintingLogDetails?.length,this.spinner.hide()})}eventHeader(n){switch(n.key){case"SEARCH":this.search=n.value;break;case"EXCEL":default:break;case"PAGE":this.page=n.value}}openLogEntryModal(n){const e=this.modalService.open(ct.c,{centered:!0,size:"md",backdrop:"static",keyboard:!1});e.componentInstance.action=this.action,e.componentInstance.logDetails=n.logDetails,e.componentInstance.sourceOfManufacturing=this.sourceOfManufacturing,e.componentInstance.shiftOptions=this.shiftOptions,e.result.then(o=>{if(o){let s=this.screenPrintingLog.screenPrintingLogDetails.findIndex(d=>d.ink==n.ink);this.screenPrintingLog.screenPrintingLogDetails[s].logDetails=o}},o=>{})}}return(r=l).\u0275fac=function(n){return new(n||r)(t.Y36(k.Ek),t.Y36(p.V),t.Y36(p.kl),t.Y36(u.FF),t.Y36(g.Ye),t.Y36(u.Kz))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-screen-printing-log-model"]],inputs:{selectedDetails:"selectedDetails",sourceOfManufacturing:"sourceOfManufacturing",action:"action"},decls:67,vars:23,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container"],[1,"form-body","my-4"],[1,"row"],[1,"col-5","pe-0"],[1,"col-6","pe-2"],["for","",1,"form-label"],["type","text","readonly","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-6"],[1,"text-danger"],[1,"col-7","ps-5"],[1,"col-6","ps-4","pe-2"],[1,"row","line-border"],[3,"data","dataChange"],[1,"table-responsive",2,"min-height","20rem"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],[1,"text-start"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","row line-border mt-4",4,"ngIf"],[1,"col-12","d-flex","justify-content-center","mb-3"],["type","button","class","btn bg-primary px-5",3,"click",4,"ngIf"],["colourName",""],[1,"pointer",3,"ngbTooltip","positionTarget"],[1,"d-flex","justify-content-center"],["type","text",1,"form-control","form-control-size-sx","w-25","bg-yellow-color","text-center",3,"ngModel","ngModelOptions","readonly","ngModelChange"],["type","number",1,"form-control","form-control-size-sx","w-25","bg-yellow-color","text-center",3,"ngModel","ngModelOptions","readonly","ngModelChange"],[1,"d-flex","justify-content-center","align-items-center"],[1,"plusIconSvg","btn","btn-primary","me-1","py-0","px-0"],["type","button",1,"btn","btn-primary","form-btn-sm","py-0",3,"click"],["type","checkbox",1,"form-check-input","pointer",3,"ngModel","ngModelOptions","readonly","disabled","ngModelChange"],[1,"row","line-border","mt-4"],["type","button",1,"btn","bg-primary","px-5",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Screen Printing Log"),t.qZA(),t.TgZ(4,"div")(5,"button",3),t.NdJ("click",function(){return e.activeModal.close()}),t._UZ(6,"i",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",7)(12,"div",9)(13,"label",10),t._uU(14,"Job Card No. "),t.qZA(),t.TgZ(15,"input",11),t.NdJ("ngModelChange",function(s){return e.screenPrintingLog.jobCardNo=s}),t.qZA()(),t.TgZ(16,"div",12)(17,"label",10),t._uU(18,"SKU No. "),t._UZ(19,"span",13),t.qZA(),t.TgZ(20,"input",11),t.NdJ("ngModelChange",function(s){return e.screenPrintingLog.SKUNo=s}),t.qZA()()()(),t.TgZ(21,"div",14)(22,"div",7)(23,"div",15)(24,"label",10),t._uU(25,"SKU Name "),t._UZ(26,"span",13),t.qZA(),t.TgZ(27,"input",11),t.NdJ("ngModelChange",function(s){return e.screenPrintingLog.SKUName=s}),t.qZA()(),t.TgZ(28,"div",12)(29,"label",10),t._uU(30," SKU Description "),t._UZ(31,"span",13),t.qZA(),t.TgZ(32,"input",11),t.NdJ("ngModelChange",function(s){return e.screenPrintingLog.SKUDescription=s}),t.qZA()()()()()(),t._UZ(33,"hr",16),t.TgZ(34,"app-setting-header",17),t.NdJ("dataChange",function(s){return e.eventHeader(s)}),t.qZA(),t.TgZ(35,"div",18)(36,"table",19)(37,"thead",20)(38,"tr",21)(39,"th"),t._uU(40,"SN"),t.qZA(),t.TgZ(41,"th"),t._uU(42,"Colour Code"),t.qZA(),t.TgZ(43,"th",22),t._uU(44,"Colour Name"),t.qZA(),t.TgZ(45,"th"),t._uU(46,"Mesh"),t.qZA(),t.TgZ(47,"th"),t._uU(48,"M/c"),t.qZA(),t.TgZ(49,"th"),t._uU(50,"Ptg Pass"),t.qZA(),t.TgZ(51,"th"),t._uU(52,"SQG/SH"),t.qZA(),t.TgZ(53,"th"),t._uU(54,"\u25b3 E"),t.qZA(),t.TgZ(55,"th"),t._uU(56,"Log Details"),t.qZA(),t.TgZ(57,"th"),t._uU(58,"Status"),t.qZA()()(),t.TgZ(59,"tbody"),t.YNc(60,pt,30,30,"tr",23),t.ALo(61,"slice"),t.ALo(62,"searchFi1ter"),t.qZA()()(),t.YNc(63,gt,1,0,"hr",24),t.TgZ(64,"div",7)(65,"div",25),t.YNc(66,ut,2,0,"button",26),t.qZA()()()()),2&n&&(t.xp6(15),t.Q6J("ngModel",e.screenPrintingLog.jobCardNo),t.xp6(5),t.Q6J("ngModel",e.screenPrintingLog.SKUNo),t.xp6(7),t.Q6J("ngModel",e.screenPrintingLog.SKUName),t.xp6(5),t.Q6J("ngModel",e.screenPrintingLog.SKUDescription),t.xp6(2),t.Q6J("data",t.l5B(16,ht,e.page,e.pageSize,e.collection,e.search)),t.xp6(26),t.Q6J("ngForOf",t.Dn7(61,9,t.xi3(62,13,e.screenPrintingLog.screenPrintingLogDetails,e.search),(e.page-1)*e.pageSize,(e.page-1)*e.pageSize+e.pageSize))("ngForTrackBy",e.trackByFn),t.xp6(3),t.Q6J("ngIf",!t.DdM(21,mt).includes(e.action)),t.xp6(3),t.Q6J("ngIf",!t.DdM(22,_t).includes(e.action)))},dependencies:[g.sg,g.O5,M.P,u._L,a.Fj,a.wV,a.Wl,a.JJ,a.On,g.OU,C.G],encapsulation:2}),l})();var bt=c(65468),yt=c(22081),Mt=c(59103);function Ct(r,l){if(1&r){const i=t.EpF();t.TgZ(0,"div",47),t.NdJ("click",function(){t.CHM(i);const e=t.oxw().$implicit,o=t.oxw();return t.KtG(o.setUnit(e))}),t.qZA()}}function vt(r,l){1&r&&t._UZ(0,"div",48)}function Zt(r,l){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&r){const i=t.oxw().$implicit;t.xp6(1),t.Oqu(i.GTQty)}}const q=function(){return{standalone:!0}};function Ut(r,l){if(1&r){const i=t.EpF();t.TgZ(0,"input",49),t.NdJ("input",function(){t.CHM(i);const e=t.oxw().$implicit,o=t.oxw();return t.KtG(o.setGTQty(e))})("ngModelChange",function(e){t.CHM(i);const o=t.oxw().$implicit;return t.KtG(o.GTQty=e)}),t.qZA()}if(2&r){const i=t.oxw().$implicit,n=t.oxw();t.Q6J("ngModel",i.GTQty)("ngModelOptions",t.DdM(3,q))("readonly","view"===n.action)}}const kt=function(){return["view","approve"]};function Tt(r,l){if(1&r){const i=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"input",32),t.NdJ("ngModelChange",function(e){const s=t.CHM(i).$implicit;return t.KtG(s.select=e)})("change",function(){const o=t.CHM(i).$implicit,s=t.oxw();return t.KtG(s.checkInventoryRecords(o))}),t.qZA()(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",27,33)(7,"span",34),t._uU(8),t.qZA()(),t.TgZ(9,"td",27,35)(11,"span",34),t._uU(12),t.qZA()(),t.TgZ(13,"td")(14,"span")(15,"div",36),t._uU(16),t.ALo(17,"UOMUnitsMaster"),t.TgZ(18,"span",37),t.YNc(19,Ct,1,0,"div",38),t.YNc(20,vt,1,0,"div",39),t.qZA()()()(),t.TgZ(21,"td"),t._uU(22),t.ALo(23,"number"),t.qZA(),t.TgZ(24,"td")(25,"div",40),t._UZ(26,"button",41),t.TgZ(27,"button",42),t.NdJ("click",function(){const o=t.CHM(i).$implicit,s=t.oxw();return t.KtG(s.openLogEntryModal(o))}),t._uU(28," Log Entry "),t.qZA()()(),t.TgZ(29,"td")(30,"div",43),t.YNc(31,Zt,2,1,"span",44),t.YNc(32,Ut,1,4,"input",45),t.qZA()(),t.TgZ(33,"td")(34,"i",46),t.NdJ("click",function(){const o=t.CHM(i).$implicit,s=t.oxw();return t.KtG(s.openGTQtyModal(o))}),t.qZA()()()}if(2&r){const i=l.$implicit,n=t.MAs(6),e=t.MAs(10),o=t.oxw();t.xp6(2),t.Q6J("ngModel",i.select)("ngModelOptions",t.DdM(26,q))("disabled",t.DdM(27,kt).includes(o.action)||i.isSelectedCond),t.xp6(2),t.Oqu(i.itemCode),t.xp6(1),t.Udp("width",n.clientWidth),t.xp6(2),t.Q6J("ngbTooltip",i.itemName)("positionTarget",n),t.xp6(1),t.hij(" ",i.itemName," "),t.xp6(1),t.Udp("width",e.clientWidth),t.xp6(2),t.Q6J("ngbTooltip",i.itemDescription)("positionTarget",e),t.xp6(1),t.hij(" ",i.itemDescription," "),t.xp6(4),t.hij(" ",t.lcZ(17,21,null==i?null:i.UOM)," "),t.xp6(3),t.Q6J("ngIf",i.secondaryUnit),t.xp6(1),t.Q6J("ngIf",!i.secondaryUnit),t.xp6(2),t.Oqu(i.MRPQty?t.xi3(23,23,i.MRPQty,"1.2-2"):null),t.xp6(9),t.Q6J("ngIf",i.isSaved),t.xp6(1),t.Q6J("ngIf",!i.isSaved),t.xp6(2),t.Q6J("ngClass",i.isSaved?"fa fa-pencil-square-o fa-lg fs-3 text-primary pointer":"editOpacity fa fa-pencil-square-o fa-lg fs-3    ")}}function St(r,l){1&r&&t._UZ(0,"hr",50)}function At(r,l){if(1&r){const i=t.EpF();t.TgZ(0,"div",51)(1,"button",52),t.NdJ("click",function(){t.CHM(i);const e=t.oxw();return t.KtG(e.reset())}),t._uU(2,"Reset"),t.qZA(),t.TgZ(3,"button",53),t.NdJ("click",function(){t.CHM(i);const e=t.oxw();return t.KtG(e.submit())}),t._uU(4,"GT to Production"),t.qZA()()}}const Dt=function(r,l,i,n){return{page:r,pageSize:l,collection:i,search:n,excelDisplay:"none"}},N=function(){return["view"]};let xt=(()=>{var r;class l{trackByFn(n,e){return e?._id}constructor(n,e,o,s,d,m){this.spinner=n,this.stockPreparationService=e,this.toastService=o,this.activeModal=s,this.modalService=d,this.utilityService=m,this.selectedDetails={},this.jobCardDetails={},this.stockCutting={},this.selectedJobCardDetails={},this.sourceOfManufacturing="",this.shiftOptions=[],this.page=1,this.pageSize=5,this.collection=0,this.column="createdAt",this.direction=-1,this.search="",this.submitted=!1,this.action="create",this.sheetToSheetData=[],this.inventoryItemsAmounts=0,this.GTInputQuantity=0}ngOnInit(){this.getInitialData()}submit(){if(this.stockCutting.jobCardNo)if(1!=this.stockCutting?.stockPreparationDetails?.every(n=>!n.select)){for(const n of this.stockCutting.stockPreparationDetails){if(n.select&&!n.GTQty)return void this.toastService.warning("Fill the GT Qty For Selected record !!");if(n.isSaved&&n.select&&!n.addOnGTQty)return void this.toastService.warning("Pls click on edit option and add GT Qty !! ")}this.stockCutting.stockPreparationDetails=this.stockCutting?.stockPreparationDetails.map(n=>(n.select&&(n.isSaved=!0),n)),this.create()}else this.toastService.warning("Select the record before doing \u201cGT To Production\u201d ");else this.toastService.warning("Job Card No. is Required")}create(){this.spinner.show(),this.stockPreparationService.createOrUpdate(this.stockCutting).subscribe(n=>{this.spinner.hide(),this.toastService.success(n.message),this.activeModal.close()})}setUnit(n){let e=this.stockCutting.stockPreparationDetails.map(d=>d.item).indexOf(n.item);this.stockCutting.stockPreparationDetails[e].UOM=this.stockCutting.stockPreparationDetails[e].UOM==n.secondaryUnit?n.primaryUnit:n.secondaryUnit;let o=this.utilityService.setConversion({UOM:this.stockCutting.stockPreparationDetails[e].UOM,quantity:n.MRPQty,primaryUnit:n.primaryUnit,secondaryUnit:n.secondaryUnit,primaryToSecondaryConversion:n.primaryToSecondaryConversion,secondaryToPrimaryConversion:n.secondaryToPrimaryConversion})||0,s=this.utilityService.setConversion({UOM:this.stockCutting.stockPreparationDetails[e].UOM,quantity:n.GTQty,primaryUnit:n.primaryUnit,secondaryUnit:n.secondaryUnit,primaryToSecondaryConversion:n.primaryToSecondaryConversion,secondaryToPrimaryConversion:n.secondaryToPrimaryConversion})||0;this.stockCutting.stockPreparationDetails[e].MRPQty=o,this.stockCutting.stockPreparationDetails[e].GTQty=+s.toFixed(2)}checkInventoryRecords(n){n.select&&(this.spinner.show(),this.stockPreparationService.checkInventoryRecords({item:n?.item}).subscribe(e=>{let o=this.stockCutting.stockPreparationDetails.map(s=>s.item).indexOf(n.item);this.inventoryItemsAmounts=e?.inventoryItemsAmount||0,e.inventoryItemsAmount||(this.toastService.warning("Total Inventory Qty. is not available !"),this.stockCutting.stockPreparationDetails[o].select=!1,this.stockCutting.stockPreparationDetails[o].isSelectedCond=!0),this.stockCutting.stockPreparationDetails[o].inventoryItemsAmounts=this.inventoryItemsAmounts,this.spinner.hide()}))}setGTQty(n){let e=this.stockCutting?.stockPreparationDetails?.findIndex(o=>o.item==n.item);if("RL"==n.UOM||"SHT"==n.UOM){let o=0;if(n?.primaryToSecondaryConversion&&(o=+(+n?.GTQty*+n.primaryToSecondaryConversion).toFixed(2)),o>n.inventoryItemsAmounts)return this.toastService.warning("GT Input Quantity Should not be greater than Total Inventory Qty. !"),void(this.stockCutting.stockPreparationDetails[e].GTQty=0)}else if(n.GTQty>n.inventoryItemsAmounts)return this.toastService.warning("GT Qty. Should not be greater than Total Inventory Qty. !"),void(this.stockCutting.stockPreparationDetails[e].GTQty=0)}getInitialData(){this.spinner.show(),this.stockPreparationService.getAllMasterData(this.selectedDetails).subscribe(n=>{this.stockCutting=n.stockCutting,(0==n?.stockCutting?.stockPreparationDetails?.length||!n?.stockCutting?.stockPreparationDetails)&&(this.toastService.warning("Please define the Bill of Material of the SKU"),this.stockCutting=this.jobCardDetails),this.stockCutting.stockPreparationDetails=this.stockCutting?.stockPreparationDetails?.map(e=>(e.select=!1,e.addOnGTQty=0,e)),this.GTInputQuantity=0,this.stockCutting.processName=null,this.shiftOptions=n.shiftOptions,this.collection=this.stockCutting?.stockPreparationDetails?.length,this.spinner.hide()})}reset(){this.stockCutting={},this.getInitialData()}openLogEntryModal(n){const e=this.modalService.open(x.M,{centered:!0,size:"md",backdrop:"static",keyboard:!1});e.componentInstance.action=this.action,e.componentInstance.logDetails=n.logEntry,e.componentInstance.sourceOfManufacturing=this.sourceOfManufacturing,e.componentInstance.shiftOptions=this.shiftOptions,e.result.then(o=>{if(o){let s=this.stockCutting?.stockPreparationDetails?.findIndex(d=>d.item==n.item);this.stockCutting.stockPreparationDetails[s].logEntry=o}},o=>{})}openGTQtyModal(n){if(n.isSaved){if(!n.select)return void this.toastService.warning("Select the record");const e=this.modalService.open(bt.o,{centered:!0,size:"md",backdrop:"static",keyboard:!1});e.componentInstance.action=this.action,e.componentInstance.itemDetails=n,e.componentInstance.inventoryItemsAmounts=n.inventoryItemsAmounts,e.componentInstance.GTInputQuantity=this.GTInputQuantity,e.result.then(o=>{if(o){let s=this.stockCutting.stockPreparationDetails.map(d=>d.item).indexOf(n.item);this.stockCutting.stockPreparationDetails[s].addOnGTQty=o,this.GTInputQuantity=o}},o=>{})}}eventHeader(n){switch(n.key){case"SEARCH":this.search=n.value,this.page=1;break;case"EXCEL":default:break;case"PAGE":this.page=n.value}}onSort({column:n,direction:e}){this.headers.forEach(o=>{o.sortable!==n&&(o.direction="")}),this.stockCutting.stockPreparationDetails=""===e||""===n?this.stockCutting.stockPreparationDetails:[...this.stockCutting.stockPreparationDetails].sort((o,s)=>{let d="string"==typeof o[n]?o[n].toLowerCase():o[n],m="string"==typeof s[n]?s[n].toLowerCase():s[n];const f=d<m?-1:d>m?1:0;return"asc"===e?f:-f})}}return(r=l).\u0275fac=function(n){return new(n||r)(t.Y36(p.V),t.Y36(k.uN),t.Y36(p.kl),t.Y36(u.Kz),t.Y36(u.FF),t.Y36(yt.t))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-jc-stock-preparation-entry"]],viewQuery:function(n,e){if(1&n&&t.Gf(U.j_,5),2&n){let o;t.iGM(o=t.CRH())&&(e.headers=o)}},inputs:{selectedDetails:"selectedDetails",jobCardDetails:"jobCardDetails"},decls:78,vars:25,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container"],[1,"form-body","py-3"],[1,"row","mb-2"],[1,"col-4","pe-3"],[1,"row"],[1,"col-6","pe-5"],[1,"form-label"],[1,"text-danger"],["type","text","readonly","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-6","ps-2","pe-5"],["type","text","readonly","",1,"form-control","bg-white-smoke",3,"ngModel","ngModelChange"],[1,"col-3","ps-0","pe-5"],[1,"col-5","ps-3"],[1,"col-6","ps-0","pe-3"],[1,"col-6"],[1,"col-7","ps-0"],[1,"row","line-border"],[3,"data","dataChange"],[1,"table-responsive",2,"min-height","20rem"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],[1,"text-start"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","row line-border mt-4",4,"ngIf"],[1,"row","mb-3"],["class","col-12 d-flex justify-content-center",4,"ngIf"],["type","checkbox",1,"form-check-input","pointer",3,"ngModel","ngModelOptions","disabled","ngModelChange","change"],["itemName",""],[1,"pointer",3,"ngbTooltip","positionTarget"],["itemDescription",""],[1,"d-flex","justify-content-between","align-items-center","px-2"],[1,"pointer","d-flex","align-items-center"],["class","unit-switch-rev",3,"click",4,"ngIf"],["class","unit-switch-gray",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center"],[1,"plusIconSvg","btn","btn-primary","me-1","py-0","px-0"],["type","button",1,"btn","btn-primary","form-btn-sm","py-0",3,"click"],[1,"d-flex","justify-content-center"],[4,"ngIf"],["class","form-control form-control-sm text-center","type","number",3,"ngModel","ngModelOptions","readonly","input","ngModelChange",4,"ngIf"],["aria-hidden","true",2,"margin-right","0rem !important",3,"ngClass","click"],[1,"unit-switch-rev",3,"click"],[1,"unit-switch-gray"],["type","number",1,"form-control","form-control-sm","text-center",3,"ngModel","ngModelOptions","readonly","input","ngModelChange"],[1,"row","line-border","mt-4"],[1,"col-12","d-flex","justify-content-center"],["type","button",1,"btn","bg-primary","px-5","me-3",3,"click"],["type","button",1,"btn","bg-primary","px-5",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Stock Preparation"),t.qZA(),t.TgZ(4,"div")(5,"button",3),t.NdJ("click",function(){return e.activeModal.close()}),t._UZ(6,"i",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"label",11),t._uU(14,"Job Card No. "),t.TgZ(15,"span",12),t._uU(16,"*"),t.qZA()(),t.TgZ(17,"input",13),t.NdJ("ngModelChange",function(s){return e.stockCutting.jobCardNo=s}),t.qZA()(),t.TgZ(18,"div",14)(19,"label",11),t._uU(20,"SKU No. "),t._UZ(21,"span",12),t.qZA(),t.TgZ(22,"input",15),t.NdJ("ngModelChange",function(s){return e.stockCutting.SKUNo=s}),t.qZA()()()(),t.TgZ(23,"div",16)(24,"label",11),t._uU(25,"SKU Name "),t._UZ(26,"span",12),t.qZA(),t.TgZ(27,"input",15),t.NdJ("ngModelChange",function(s){return e.stockCutting.SKUName=s}),t.qZA()(),t.TgZ(28,"div",17)(29,"div",9)(30,"div",18)(31,"label",11),t._uU(32,"SKU Description "),t._UZ(33,"span",12),t.qZA(),t.TgZ(34,"input",15),t.NdJ("ngModelChange",function(s){return e.stockCutting.SKUDescription=s}),t.qZA()(),t.TgZ(35,"div",19)(36,"div",9)(37,"div",17)(38,"label",11),t._uU(39,"UoM "),t._UZ(40,"span",12),t.qZA(),t.TgZ(41,"input",15),t.NdJ("ngModelChange",function(s){return e.stockCutting.UOM=s}),t.qZA()(),t.TgZ(42,"div",20)(43,"label",11),t._uU(44,"Input Batch Qty "),t._UZ(45,"span",12),t.qZA(),t.TgZ(46,"input",15),t.NdJ("ngModelChange",function(s){return e.stockCutting.SKUBatchQty=s}),t.qZA()()()()()()()(),t._UZ(47,"hr",21),t.TgZ(48,"app-setting-header",22),t.NdJ("dataChange",function(s){return e.eventHeader(s)}),t.qZA(),t.TgZ(49,"div",23)(50,"table",24)(51,"thead",25)(52,"tr",26)(53,"th"),t._uU(54,"Select"),t.qZA(),t.TgZ(55,"th"),t._uU(56,"Item Code"),t.qZA(),t.TgZ(57,"th",27),t._uU(58,"Item Name"),t.qZA(),t.TgZ(59,"th",27),t._uU(60,"Item Description"),t.qZA(),t.TgZ(61,"th"),t._uU(62,"UoM"),t.qZA(),t.TgZ(63,"th"),t._uU(64,"MRP Qty"),t.qZA(),t.TgZ(65,"th"),t._uU(66,"Log Details"),t.qZA(),t.TgZ(67,"th"),t._uU(68,"GT Qty"),t.qZA(),t.TgZ(69,"th"),t._uU(70,"Edit"),t.qZA()()(),t.TgZ(71,"tbody"),t.YNc(72,Tt,35,28,"tr",28),t.ALo(73,"slice"),t.ALo(74,"searchFi1ter"),t.qZA()()(),t.YNc(75,St,1,0,"hr",29),t.TgZ(76,"div",30),t.YNc(77,At,5,0,"div",31),t.qZA()()()),2&n&&(t.xp6(17),t.Q6J("ngModel",e.stockCutting.jobCardNo),t.xp6(5),t.Q6J("ngModel",e.stockCutting.SKUNo),t.xp6(5),t.Q6J("ngModel",e.stockCutting.SKUName),t.xp6(7),t.Q6J("ngModel",e.stockCutting.SKUDescription),t.xp6(7),t.Q6J("ngModel",e.stockCutting.UOM),t.xp6(5),t.Q6J("ngModel",e.stockCutting.SKUBatchQty),t.xp6(2),t.Q6J("data",t.l5B(18,Dt,e.page,e.pageSize,e.collection,e.search)),t.xp6(24),t.Q6J("ngForOf",t.Dn7(73,11,t.xi3(74,15,e.stockCutting.stockPreparationDetails,e.search),(e.page-1)*e.pageSize,(e.page-1)*e.pageSize+e.pageSize))("ngForTrackBy",e.trackByFn),t.xp6(3),t.Q6J("ngIf",!t.DdM(23,N).includes(e.action)),t.xp6(2),t.Q6J("ngIf",!t.DdM(24,N).includes(e.action)))},dependencies:[g.mk,g.sg,g.O5,M.P,u._L,a.Fj,a.wV,a.Wl,a.JJ,a.On,g.OU,g.JJ,C.G,Mt.S],styles:[".editOpacity[_ngcontent-%COMP%]{opacity:.5}"]}),l})();var h=c(37398);let Lt=(()=>{var r;class l{constructor(n){this.http=n,this.routes={createOrUpdatePath:"/production/lamination/createOrUpdate",getAllPath:"/production/lamination/getAll",getAllMasterDataPath:"/production/lamination/getAllMasterData",getByIdPath:e=>`/production/lamination/getById/${e}`}}createOrUpdate(n){return this.http.post(this.routes.createOrUpdatePath,n).pipe((0,h.U)(e=>e))}getAll(n){return this.http.get(this.routes.getAllPath,n).pipe((0,h.U)(e=>e))}getAllMasterData(n){return this.http.get(this.routes.getAllMasterDataPath,n).pipe((0,h.U)(e=>e))}getById(n){return this.http.get(this.routes.getByIdPath(n)).pipe((0,h.U)(e=>e))}}return(r=l).\u0275fac=function(n){return new(n||r)(t.LFG(p.sM))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),l})();var Z=c(50363);const wt=function(){return["view","approve","reject"]};let Pt=(()=>{var r;class l{get f(){return this.form.controls}get logEntry(){return this.form.get("logEntry")}constructor(n,e,o,s,d){this.activeModal=n,this.utilityService=e,this.laminationLogService=o,this.spinner=s,this.toastService=d,this.logDetails={},this.selectedDetails={},this.jobCardDetails={},this.action="",this.sourceOfManufacturing="",this.shiftOptions=[],this.laminationLog={},this.collection=0,this.form=new a.nJ({jobCard:new a.p4(null),jobCardNo:new a.p4(null),SKU:new a.p4(null),SKUStage:new a.p4(null),SKUNo:new a.p4(null),SKUName:new a.p4(null),SKUDescription:new a.p4(null),UOM:new a.p4(null),SKUBatchQty:new a.p4(null),logEntry:new a.nJ({prodSource:new a.p4(null),prodShift:new a.p4(null),prodDate:new a.p4(this.utilityService.getTodayDate("YYYY-MM-DD")),operatingStaff:new a.p4(null),remarks:new a.p4(null),authorizedBy:new a.p4(null)})})}ngOnInit(){this.form.patchValue(this.jobCardDetails),this.getInitialData(),["view"].includes(this.action)&&this.form.disable(),this.logEntry.controls.prodSource.value||this.logEntry.controls.prodSource.setValue(this.sourceOfManufacturing??"Inhouse")}submit(){let n=this.form.value;console.log("formData",n),this.create(n)}create(n){this.spinner.show(),this.laminationLogService.createOrUpdate(n).subscribe(e=>{this.spinner.hide(),this.toastService.success(e.message),this.activeModal.close()})}getInitialData(){this.spinner.show(),this.laminationLogService.getAllMasterData(this.selectedDetails).subscribe(n=>{n.laminationLog&&(n?.laminationLog?.logEntry?.prodDate&&(n.laminationLog.logEntry.prodDate=this.utilityService.getFormatDate(n?.laminationLog?.logEntry?.prodDate,"YYYY-MM-DD")),this.form.patchValue(n.laminationLog)),this.shiftOptions=n.shiftOptions,this.spinner.hide()})}dismissModel(){this.activeModal.close(this.form.value)}}return(r=l).\u0275fac=function(n){return new(n||r)(t.Y36(u.Kz),t.Y36(p.tI),t.Y36(Lt),t.Y36(p.V),t.Y36(p.kl))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-lamination-log-entry-model"]],inputs:{logDetails:"logDetails",selectedDetails:"selectedDetails",jobCardDetails:"jobCardDetails",action:"action",sourceOfManufacturing:"sourceOfManufacturing",shiftOptions:"shiftOptions"},decls:51,vars:5,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,""],[3,"formGroup"],["formGroupName","logEntry"],[1,"row","my-4","px-5"],[1,"col-6"],[1,"form-label","mb-1"],[1,"text-danger"],["type","text","formControlName","prodSource","readonly","",1,"form-control","bg-white-smoke"],["type","date","formControlName","prodDate",1,"form-control"],[1,"row","px-5","mb-4"],["bindValue","parameterName","bindLabel","parameterLabel","formControlName","prodShift",3,"items","clearable"],["type","text","formControlName","operatingStaff",1,"form-control"],[1,"row","px-5"],[1,"col-12"],["type","text","formControlName","remarks",1,"form-control"],[1,"line-border","my-4"],["formGroupName","logEntry",1,"col-8"],[1,"d-flex","align-items-center"],[1,"col-form-label","text-nowrap"],[1,"fa","fa-caret-right","fs-3","mx-2"],["type","text","formControlName","authorizedBy",1,"form-control"],[1,"col-4","ps-0","d-flex","justify-content-end"],[1,"mb-4"],["type","button",1,"btn","bg-primary","px-2",3,"disabled","click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Log Entry"),t.qZA(),t.TgZ(4,"div")(5,"button",3),t.NdJ("click",function(){return e.activeModal.close()}),t._UZ(6,"i",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"form",6),t.ynx(9,7),t.TgZ(10,"div",8)(11,"div",9)(12,"label",10),t._uU(13," Prod. Source "),t._UZ(14,"span",11),t.qZA(),t._UZ(15,"input",12),t.qZA(),t.TgZ(16,"div",9)(17,"label",10),t._uU(18," Prod. Date "),t._UZ(19,"span",11),t.qZA(),t._UZ(20,"input",13),t.qZA()(),t.TgZ(21,"div",14)(22,"div",9)(23,"label",10),t._uU(24,"Production Shift "),t._UZ(25,"span",11),t.qZA(),t._UZ(26,"ng-select",15),t.qZA(),t.TgZ(27,"div",9)(28,"label",10),t._uU(29," Operating Staff"),t._UZ(30,"span",11),t.qZA(),t._UZ(31,"input",16),t.qZA()(),t.TgZ(32,"div",17)(33,"div",18)(34,"label",10),t._uU(35,"Remarks "),t._UZ(36,"span",11),t.qZA(),t._UZ(37,"input",19),t.qZA()(),t.BQk(),t._UZ(38,"hr",20),t.TgZ(39,"div",17)(40,"div",21)(41,"div",22)(42,"div",23),t._uU(43," Authorised by "),t._UZ(44,"i",24),t.qZA(),t.TgZ(45,"div",5),t._UZ(46,"input",25),t.qZA()()(),t.TgZ(47,"div",26)(48,"div",27)(49,"button",28),t.NdJ("click",function(){return e.submit()}),t._uU(50," Save & Close "),t.qZA()()()()()()()),2&n&&(t.xp6(8),t.Q6J("formGroup",e.form),t.xp6(18),t.Q6J("items",e.shiftOptions)("clearable",!1),t.xp6(23),t.Q6J("disabled",t.DdM(4,wt).includes(e.action)))},dependencies:[a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,a.x0,Z.w9],encapsulation:2}),l})(),Jt=(()=>{var r;class l{constructor(n){this.http=n,this.routes={createOrUpdatePath:"/production/weeding/createOrUpdate",getAllPath:"/production/weeding/getAll",getAllMasterDataPath:"/production/weeding/getAllMasterData",getByIdPath:e=>`/production/weeding/getById/${e}`}}createOrUpdate(n){return this.http.post(this.routes.createOrUpdatePath,n).pipe((0,h.U)(e=>e))}getAll(n){return this.http.get(this.routes.getAllPath,n).pipe((0,h.U)(e=>e))}getAllMasterData(n){return this.http.get(this.routes.getAllMasterDataPath,n).pipe((0,h.U)(e=>e))}getById(n){return this.http.get(this.routes.getByIdPath(n)).pipe((0,h.U)(e=>e))}}return(r=l).\u0275fac=function(n){return new(n||r)(t.LFG(p.sM))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),l})();const It=function(){return["view","approve","reject"]};let qt=(()=>{var r;class l{get f(){return this.form.controls}get logEntry(){return this.form.get("logEntry")}constructor(n,e,o,s,d){this.activeModal=n,this.utilityService=e,this.weedingLogService=o,this.spinner=s,this.toastService=d,this.logDetails={},this.selectedDetails={},this.jobCardDetails={},this.action="",this.sourceOfManufacturing="",this.shiftOptions=[],this.form=new a.nJ({jobCard:new a.p4(null),jobCardNo:new a.p4(null),SKU:new a.p4(null),SKUStage:new a.p4(null),SKUNo:new a.p4(null),SKUName:new a.p4(null),SKUDescription:new a.p4(null),UOM:new a.p4(null),SKUBatchQty:new a.p4(null),logEntry:new a.nJ({prodSource:new a.p4(null),prodShift:new a.p4(null),prodDate:new a.p4(this.utilityService.getTodayDate("YYYY-MM-DD")),operatingStaff:new a.p4(null),remarks:new a.p4(null),authorizedBy:new a.p4(null)})})}ngOnInit(){this.form.patchValue(this.jobCardDetails),this.getInitialData(),["view"].includes(this.action)&&this.form.disable(),this.logEntry.controls.prodSource.value||this.logEntry.controls.prodSource.setValue(this.sourceOfManufacturing??"Inhouse")}submit(){let n=this.form.value;console.log("formData",n),this.create(n)}create(n){this.spinner.show(),this.weedingLogService.createOrUpdate(n).subscribe(e=>{this.spinner.hide(),this.toastService.success(e.message),this.activeModal.close()})}getInitialData(){this.spinner.show(),this.weedingLogService.getAllMasterData(this.selectedDetails).subscribe(n=>{n.weedingLog&&(n?.weedingLog?.logEntry?.prodDate&&(n.weedingLog.logEntry.prodDate=this.utilityService.getFormatDate(n?.weedingLog?.logEntry?.prodDate,"YYYY-MM-DD")),this.form.patchValue(n.weedingLog)),this.shiftOptions=n.shiftOptions,this.spinner.hide()})}dismissModel(){this.activeModal.close(this.form.value)}}return(r=l).\u0275fac=function(n){return new(n||r)(t.Y36(u.Kz),t.Y36(p.tI),t.Y36(Jt),t.Y36(p.V),t.Y36(p.kl))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-weeding-log-entry-model"]],inputs:{logDetails:"logDetails",selectedDetails:"selectedDetails",jobCardDetails:"jobCardDetails",action:"action",sourceOfManufacturing:"sourceOfManufacturing",shiftOptions:"shiftOptions"},decls:51,vars:5,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,""],[3,"formGroup"],["formGroupName","logEntry"],[1,"row","my-4","px-5"],[1,"col-6"],[1,"form-label","mb-1"],[1,"text-danger"],["type","text","formControlName","prodSource","readonly","",1,"form-control","bg-white-smoke"],["type","date","formControlName","prodDate",1,"form-control"],[1,"row","px-5","mb-4"],["bindValue","parameterName","bindLabel","parameterLabel","formControlName","prodShift",3,"items","clearable"],["type","text","formControlName","operatingStaff",1,"form-control"],[1,"row","px-5"],[1,"col-12"],["type","text","formControlName","remarks",1,"form-control"],[1,"line-border","my-4"],["formGroupName","logEntry",1,"col-8"],[1,"d-flex","align-items-center"],[1,"col-form-label","text-nowrap"],[1,"fa","fa-caret-right","fs-3","mx-2"],["type","text","formControlName","authorizedBy",1,"form-control"],[1,"col-4","ps-0","d-flex","justify-content-end"],[1,"mb-4"],["type","button",1,"btn","bg-primary","px-2",3,"disabled","click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Log Entry"),t.qZA(),t.TgZ(4,"div")(5,"button",3),t.NdJ("click",function(){return e.activeModal.close()}),t._UZ(6,"i",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"form",6),t.ynx(9,7),t.TgZ(10,"div",8)(11,"div",9)(12,"label",10),t._uU(13," Prod. Source "),t._UZ(14,"span",11),t.qZA(),t._UZ(15,"input",12),t.qZA(),t.TgZ(16,"div",9)(17,"label",10),t._uU(18," Prod. Date "),t._UZ(19,"span",11),t.qZA(),t._UZ(20,"input",13),t.qZA()(),t.TgZ(21,"div",14)(22,"div",9)(23,"label",10),t._uU(24,"Production Shift "),t._UZ(25,"span",11),t.qZA(),t._UZ(26,"ng-select",15),t.qZA(),t.TgZ(27,"div",9)(28,"label",10),t._uU(29," Operating Staff"),t._UZ(30,"span",11),t.qZA(),t._UZ(31,"input",16),t.qZA()(),t.TgZ(32,"div",17)(33,"div",18)(34,"label",10),t._uU(35,"Remarks "),t._UZ(36,"span",11),t.qZA(),t._UZ(37,"input",19),t.qZA()(),t.BQk(),t._UZ(38,"hr",20),t.TgZ(39,"div",17)(40,"div",21)(41,"div",22)(42,"div",23),t._uU(43," Authorised by "),t._UZ(44,"i",24),t.qZA(),t.TgZ(45,"div",5),t._UZ(46,"input",25),t.qZA()()(),t.TgZ(47,"div",26)(48,"div",27)(49,"button",28),t.NdJ("click",function(){return e.submit()}),t._uU(50," Save & Close "),t.qZA()()()()()()()),2&n&&(t.xp6(8),t.Q6J("formGroup",e.form),t.xp6(18),t.Q6J("items",e.shiftOptions)("clearable",!1),t.xp6(23),t.Q6J("disabled",t.DdM(4,It).includes(e.action)))},dependencies:[a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,a.x0,Z.w9],encapsulation:2}),l})(),Nt=(()=>{var r;class l{constructor(n){this.http=n,this.routes={createOrUpdatePath:"/production/throughPunching/createOrUpdate",getAllPath:"/production//throughPunching/getAll",getAllMasterDataPath:"/production/throughPunching/getAllMasterData",getByIdPath:e=>`/production//throughPunching/getById/${e}`}}createOrUpdate(n){return this.http.post(this.routes.createOrUpdatePath,n).pipe((0,h.U)(e=>e))}getAll(n){return this.http.get(this.routes.getAllPath,n).pipe((0,h.U)(e=>e))}getAllMasterData(n){return this.http.get(this.routes.getAllMasterDataPath,n).pipe((0,h.U)(e=>e))}getById(n){return this.http.get(this.routes.getByIdPath(n)).pipe((0,h.U)(e=>e))}}return(r=l).\u0275fac=function(n){return new(n||r)(t.LFG(p.sM))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),l})();const Ot=function(){return["view","approve","reject"]};let Qt=(()=>{var r;class l{get f(){return this.form.controls}get logEntry(){return this.form.get("logEntry")}constructor(n,e,o,s,d){this.activeModal=n,this.utilityService=e,this.punchingLogService=o,this.spinner=s,this.toastService=d,this.logDetails={},this.selectedDetails={},this.jobCardDetails={},this.action="",this.sourceOfManufacturing="",this.shiftOptions=[],this.form=new a.nJ({jobCard:new a.p4(null),jobCardNo:new a.p4(null),SKU:new a.p4(null),SKUStage:new a.p4(null),SKUNo:new a.p4(null),SKUName:new a.p4(null),SKUDescription:new a.p4(null),UOM:new a.p4(null),SKUBatchQty:new a.p4(null),logEntry:new a.nJ({prodSource:new a.p4(null),prodShift:new a.p4(null),prodDate:new a.p4(this.utilityService.getTodayDate("YYYY-MM-DD")),operatingStaff:new a.p4(null),remarks:new a.p4(null),authorizedBy:new a.p4(null)})})}ngOnInit(){this.form.patchValue(this.jobCardDetails),this.getInitialData(),["view"].includes(this.action)&&this.form.disable(),this.logEntry.controls.prodSource.value||this.logEntry.controls.prodSource.setValue(this.sourceOfManufacturing??"Inhouse")}submit(){let n=this.form.value;console.log("formData",n),this.create(n)}create(n){this.spinner.show(),this.punchingLogService.createOrUpdate(n).subscribe(e=>{this.spinner.hide(),this.toastService.success(e.message),this.activeModal.close()})}getInitialData(){this.spinner.show(),this.punchingLogService.getAllMasterData(this.selectedDetails).subscribe(n=>{n.throughPunchingLog&&(n?.throughPunchingLog?.logEntry?.prodDate&&(n.throughPunchingLog.logEntry.prodDate=this.utilityService.getFormatDate(n?.throughPunchingLog?.logEntry?.prodDate,"YYYY-MM-DD")),this.form.patchValue(n.throughPunchingLog)),this.shiftOptions=n.shiftOptions,this.spinner.hide()})}dismissModel(){this.activeModal.close(this.form.value)}}return(r=l).\u0275fac=function(n){return new(n||r)(t.Y36(u.Kz),t.Y36(p.tI),t.Y36(Nt),t.Y36(p.V),t.Y36(p.kl))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-punching-log-entry-model"]],inputs:{logDetails:"logDetails",selectedDetails:"selectedDetails",jobCardDetails:"jobCardDetails",action:"action",sourceOfManufacturing:"sourceOfManufacturing",shiftOptions:"shiftOptions"},decls:51,vars:5,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,""],[3,"formGroup"],["formGroupName","logEntry"],[1,"row","my-4","px-5"],[1,"col-6"],[1,"form-label","mb-1"],[1,"text-danger"],["type","text","formControlName","prodSource","readonly","",1,"form-control","bg-white-smoke"],["type","date","formControlName","prodDate",1,"form-control"],[1,"row","px-5","mb-4"],["bindValue","parameterName","bindLabel","parameterLabel","formControlName","prodShift",3,"items","clearable"],["type","text","formControlName","operatingStaff",1,"form-control"],[1,"row","px-5"],[1,"col-12"],["type","text","formControlName","remarks",1,"form-control"],[1,"line-border","my-4"],["formGroupName","logEntry",1,"col-8"],[1,"d-flex","align-items-center"],[1,"col-form-label","text-nowrap"],[1,"fa","fa-caret-right","fs-3","mx-2"],["type","text","formControlName","authorizedBy",1,"form-control"],[1,"col-4","ps-0","d-flex","justify-content-end"],[1,"mb-4"],["type","button",1,"btn","bg-primary","px-2",3,"disabled","click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Log Entry"),t.qZA(),t.TgZ(4,"div")(5,"button",3),t.NdJ("click",function(){return e.activeModal.close()}),t._UZ(6,"i",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"form",6),t.ynx(9,7),t.TgZ(10,"div",8)(11,"div",9)(12,"label",10),t._uU(13," Prod. Source "),t._UZ(14,"span",11),t.qZA(),t._UZ(15,"input",12),t.qZA(),t.TgZ(16,"div",9)(17,"label",10),t._uU(18," Prod. Date "),t._UZ(19,"span",11),t.qZA(),t._UZ(20,"input",13),t.qZA()(),t.TgZ(21,"div",14)(22,"div",9)(23,"label",10),t._uU(24,"Production Shift "),t._UZ(25,"span",11),t.qZA(),t._UZ(26,"ng-select",15),t.qZA(),t.TgZ(27,"div",9)(28,"label",10),t._uU(29," Operating Staff"),t._UZ(30,"span",11),t.qZA(),t._UZ(31,"input",16),t.qZA()(),t.TgZ(32,"div",17)(33,"div",18)(34,"label",10),t._uU(35,"Remarks "),t._UZ(36,"span",11),t.qZA(),t._UZ(37,"input",19),t.qZA()(),t.BQk(),t._UZ(38,"hr",20),t.TgZ(39,"div",17)(40,"div",21)(41,"div",22)(42,"div",23),t._uU(43," Authorised by "),t._UZ(44,"i",24),t.qZA(),t.TgZ(45,"div",5),t._UZ(46,"input",25),t.qZA()()(),t.TgZ(47,"div",26)(48,"div",27)(49,"button",28),t.NdJ("click",function(){return e.submit()}),t._uU(50," Save & Close "),t.qZA()()()()()()()),2&n&&(t.xp6(8),t.Q6J("formGroup",e.form),t.xp6(18),t.Q6J("items",e.shiftOptions)("clearable",!1),t.xp6(23),t.Q6J("disabled",t.DdM(4,Ot).includes(e.action)))},dependencies:[a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,a.x0,Z.w9],encapsulation:2}),l})(),Et=(()=>{var r;class l{constructor(n){this.http=n,this.routes={createOrUpdatePath:"/production/packing/createOrUpdate",getAllPath:"/production/packing/getAll",getAllMasterDataPath:"/production/packing/getAllMasterData",getByIdPath:e=>`/production/packing/getById/${e}`}}createOrUpdate(n){return this.http.post(this.routes.createOrUpdatePath,n).pipe((0,h.U)(e=>e))}getAll(n){return this.http.get(this.routes.getAllPath,n).pipe((0,h.U)(e=>e))}getAllMasterData(n){return this.http.get(this.routes.getAllMasterDataPath,n).pipe((0,h.U)(e=>e))}getById(n){return this.http.get(this.routes.getByIdPath(n)).pipe((0,h.U)(e=>e))}}return(r=l).\u0275fac=function(n){return new(n||r)(t.LFG(p.sM))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),l})();const Ft=function(){return["view","approve","reject"]};let Kt=(()=>{var r;class l{get f(){return this.form.controls}get logEntry(){return this.form.get("logEntry")}constructor(n,e,o,s,d){this.activeModal=n,this.utilityService=e,this.packingLogService=o,this.spinner=s,this.toastService=d,this.logDetails={},this.selectedDetails={},this.jobCardDetails={},this.action="",this.sourceOfManufacturing="",this.shiftOptions=[],this.form=new a.nJ({jobCard:new a.p4(null),jobCardNo:new a.p4(null),SKU:new a.p4(null),SKUStage:new a.p4(null),SKUNo:new a.p4(null),SKUName:new a.p4(null),SKUDescription:new a.p4(null),UOM:new a.p4(null),SKUBatchQty:new a.p4(null),logEntry:new a.nJ({prodSource:new a.p4(null),prodShift:new a.p4(null),prodDate:new a.p4(this.utilityService.getTodayDate("YYYY-MM-DD")),operatingStaff:new a.p4(null),remarks:new a.p4(null),authorizedBy:new a.p4(null)})})}ngOnInit(){this.form.patchValue(this.jobCardDetails),this.getInitialData(),["view"].includes(this.action)&&this.form.disable(),this.logEntry.controls.prodSource.value||this.logEntry.controls.prodSource.setValue(this.sourceOfManufacturing??"Inhouse")}submit(){let n=this.form.value;console.log("formData",n),this.create(n)}create(n){this.spinner.show(),this.packingLogService.createOrUpdate(n).subscribe(e=>{this.spinner.hide(),this.toastService.success(e.message),this.activeModal.close()})}getInitialData(){this.spinner.show(),this.packingLogService.getAllMasterData(this.selectedDetails).subscribe(n=>{n.packingLog&&(n?.packingLog?.logEntry?.prodDate&&(n.packingLog.logEntry.prodDate=this.utilityService.getFormatDate(n?.packingLog?.logEntry?.prodDate,"YYYY-MM-DD")),this.form.patchValue(n.packingLog)),this.shiftOptions=n.shiftOptions,this.spinner.hide()})}dismissModel(){this.activeModal.close(this.form.value)}}return(r=l).\u0275fac=function(n){return new(n||r)(t.Y36(u.Kz),t.Y36(p.tI),t.Y36(Et),t.Y36(p.V),t.Y36(p.kl))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-packing-log-entry-model"]],inputs:{logDetails:"logDetails",selectedDetails:"selectedDetails",jobCardDetails:"jobCardDetails",action:"action",sourceOfManufacturing:"sourceOfManufacturing",shiftOptions:"shiftOptions"},decls:51,vars:5,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,""],[3,"formGroup"],["formGroupName","logEntry"],[1,"row","my-4","px-5"],[1,"col-6"],[1,"form-label","mb-1"],[1,"text-danger"],["type","text","formControlName","prodSource","readonly","",1,"form-control","bg-white-smoke"],["type","date","formControlName","prodDate",1,"form-control"],[1,"row","px-5","mb-4"],["bindValue","parameterName","bindLabel","parameterLabel","formControlName","prodShift",3,"items","clearable"],["type","text","formControlName","operatingStaff",1,"form-control"],[1,"row","px-5"],[1,"col-12"],["type","text","formControlName","remarks",1,"form-control"],[1,"line-border","my-4"],["formGroupName","logEntry",1,"col-8"],[1,"d-flex","align-items-center"],[1,"col-form-label","text-nowrap"],[1,"fa","fa-caret-right","fs-3","mx-2"],["type","text","formControlName","authorizedBy",1,"form-control"],[1,"col-4","ps-0","d-flex","justify-content-end"],[1,"mb-4"],["type","button",1,"btn","bg-primary","px-2",3,"disabled","click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Log Entry"),t.qZA(),t.TgZ(4,"div")(5,"button",3),t.NdJ("click",function(){return e.activeModal.close()}),t._UZ(6,"i",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"form",6),t.ynx(9,7),t.TgZ(10,"div",8)(11,"div",9)(12,"label",10),t._uU(13," Prod. Source "),t._UZ(14,"span",11),t.qZA(),t._UZ(15,"input",12),t.qZA(),t.TgZ(16,"div",9)(17,"label",10),t._uU(18," Prod. Date "),t._UZ(19,"span",11),t.qZA(),t._UZ(20,"input",13),t.qZA()(),t.TgZ(21,"div",14)(22,"div",9)(23,"label",10),t._uU(24,"Production Shift "),t._UZ(25,"span",11),t.qZA(),t._UZ(26,"ng-select",15),t.qZA(),t.TgZ(27,"div",9)(28,"label",10),t._uU(29," Operating Staff"),t._UZ(30,"span",11),t.qZA(),t._UZ(31,"input",16),t.qZA()(),t.TgZ(32,"div",17)(33,"div",18)(34,"label",10),t._uU(35,"Remarks "),t._UZ(36,"span",11),t.qZA(),t._UZ(37,"input",19),t.qZA()(),t.BQk(),t._UZ(38,"hr",20),t.TgZ(39,"div",17)(40,"div",21)(41,"div",22)(42,"div",23),t._uU(43," Authorised by "),t._UZ(44,"i",24),t.qZA(),t.TgZ(45,"div",5),t._UZ(46,"input",25),t.qZA()()(),t.TgZ(47,"div",26)(48,"div",27)(49,"button",28),t.NdJ("click",function(){return e.submit()}),t._uU(50," Save & Close "),t.qZA()()()()()()()),2&n&&(t.xp6(8),t.Q6J("formGroup",e.form),t.xp6(18),t.Q6J("items",e.shiftOptions)("clearable",!1),t.xp6(23),t.Q6J("disabled",t.DdM(4,Ft).includes(e.action)))},dependencies:[a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,a.x0,Z.w9],encapsulation:2}),l})();var Rt=c(16897),jt=c(84231);const Yt=function(r,l,i,n){return{page:r,pageSize:l,collection:i,search:n,excelDisplay:"none"}};function Gt(r,l){if(1&r){const i=t.EpF();t.TgZ(0,"div",42)(1,"app-setting-header",43),t.NdJ("dataChange",function(e){t.CHM(i);const o=t.oxw();return t.KtG(o.eventHeader(e))}),t.qZA()()}if(2&r){const i=t.oxw();t.xp6(1),t.Q6J("data",t.l5B(1,Yt,i.page,i.pageSize,i.collection,i.search))}}function Bt(r,l){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&r){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==i?null:i.seq," ")}}const O=function(){return{standalone:!0}};function zt(r,l){if(1&r){const i=t.EpF();t.TgZ(0,"input",62),t.NdJ("ngModelChange",function(e){t.CHM(i);const o=t.oxw().$implicit;return t.KtG(o.seq=e)}),t.qZA()}if(2&r){const i=t.oxw().$implicit;t.Q6J("ngModel",i.seq)("ngModelOptions",t.DdM(2,O))}}const Q=function(){return["view","Converted to SKU","approve"]},Ht=function(){return["view","approve"]};function Vt(r,l){if(1&r){const i=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"div",52),t.YNc(3,Bt,2,1,"span",53),t.YNc(4,zt,1,3,"input",54),t.qZA()(),t.TgZ(5,"td",55,56)(7,"span",57),t._uU(8),t.qZA()(),t.TgZ(9,"td")(10,"div",58),t._UZ(11,"button",59),t.TgZ(12,"button",60),t.NdJ("click",function(){const o=t.CHM(i).$implicit,s=t.oxw(2);return t.KtG(s.openProdInfoModal(o))}),t._uU(13," Prod. Log "),t.qZA()()(),t.TgZ(14,"td")(15,"div",58),t._UZ(16,"button",59),t.TgZ(17,"button",60),t.NdJ("click",function(){const o=t.CHM(i).$implicit,s=t.oxw(2);return t.KtG(s.openIPQAModal(o))}),t._uU(18," IPQA Log "),t.qZA()()(),t.TgZ(19,"td")(20,"input",61),t.NdJ("ngModelChange",function(e){const s=t.CHM(i).$implicit;return t.KtG(s.processStatus=e)}),t.qZA()()()}if(2&r){const i=l.$implicit,n=t.MAs(6),e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",t.DdM(10,Q).includes(e.action)),t.xp6(1),t.Q6J("ngIf",!t.DdM(11,Q).includes(e.action)),t.xp6(1),t.Udp("width",n.clientWidth),t.xp6(2),t.Q6J("ngbTooltip",i.processName)("positionTarget",n),t.xp6(1),t.hij(" ",null==i?null:i.processName," "),t.xp6(12),t.Q6J("ngModel",i.processStatus)("ngModelOptions",t.DdM(12,O))("disabled",t.DdM(13,Ht).includes(e.action))}}function $t(r,l){if(1&r){const i=t.EpF();t.TgZ(0,"div",44)(1,"table",45)(2,"thead",46)(3,"tr",47)(4,"th",48),t.NdJ("sort",function(e){t.CHM(i);const o=t.oxw();return t.KtG(o.onSort(e))}),t._uU(5,"PRC Seq."),t.qZA(),t.TgZ(6,"th",49),t.NdJ("sort",function(e){t.CHM(i);const o=t.oxw();return t.KtG(o.onSort(e))}),t._uU(7,"Process Name"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Production"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Quality"),t.qZA(),t.TgZ(12,"th",50),t.NdJ("sort",function(e){t.CHM(i);const o=t.oxw();return t.KtG(o.onSort(e))}),t._uU(13,"Status"),t.qZA()()(),t.TgZ(14,"tbody"),t.YNc(15,Vt,21,14,"tr",51),t.ALo(16,"slice"),t.ALo(17,"searchFi1ter"),t.qZA()()()}if(2&r){const i=t.oxw();t.xp6(15),t.Q6J("ngForOf",t.Dn7(16,2,t.xi3(17,6,i.JCEntryDetailsList,i.search),(i.page-1)*i.pageSize,(i.page-1)*i.pageSize+i.pageSize))("ngForTrackBy",i.trackByFn)}}function Wt(r,l){if(1&r){const i=t.EpF();t.TgZ(0,"div",8)(1,"div",63)(2,"label",64),t._uU(3," Define SKU Process Flow "),t.TgZ(4,"span",12),t._uU(5,"\u25b6"),t.qZA()(),t.TgZ(6,"button",39),t.NdJ("click",function(){t.CHM(i);const e=t.oxw();return t.KtG(e.defineSKUProcessFlow())}),t._uU(7," Click Here "),t.qZA()()()}}function Xt(r,l){if(1&r){const i=t.EpF();t.TgZ(0,"button",65),t.NdJ("click",function(){t.CHM(i);const e=t.oxw();return t.KtG(e.skipIntegration())}),t._uU(1," Save "),t.qZA()}}const te=function(){return["reject","approve","view"]};let ee=(()=>{var r;class l{constructor(n,e,o,s,d,m,f,re,ae){this.jobCardEntryService=n,this.activatedRoute=e,this.spinner=o,this.toastService=s,this.validationService=d,this.modalService=m,this.utilityService=f,this.location=re,this.router=ae,this.isPreview=!1,this.submitted=!1,this.isESCPreview=!1,this.action="create",this.page=1,this.pageSize=8,this.collection=0,this.column="createdAt",this.direction=-1,this.search="",this.selectedJobCardDetails={},this.batchInputQty=0,this.processDetailsList=[],this.ESCPreviewArr=[],this.masterData={autoIncrementNo:"",JCOptions:[],billFromLocationOptions:[],shiftOptions:[]},this.JCEntryDetailsList=[],this.prodInfoList=[{prodDate:this.utilityService.getTodayDate("YYYY-MM-DD"),prodShift:"",operatingStaff:"",prodQty:null}],this.IPQAInfoList={},this.componentModal={"Stock Preparation":xt,"Ink Mixing":W,"Screen Making":ot,"Printing on CPI":ft,"Kiss-cutting":null,Weeding:qt,Lamination:Pt,"Through Punching":Qt,Packing:Kt},this.componentModalSize={"Stock Preparation":"xl","Ink Mixing":"xl","Screen Making":"xl","Printing on CPI":"xl","Kiss-cutting":null,Weeding:"md",Lamination:"md","Through Punching":"md",Packing:"md"},this.showSKUFlow=!1,this.form=new a.nJ({jobCardEntryCode:new a.p4(null),jobCard:new a.p4(null,[a.kI.required]),jobCardNo:new a.p4(null),SKU:new a.p4(null),SKUStage:new a.p4(null),SKUNo:new a.p4(null),SKUName:new a.p4(null),SKUDescription:new a.p4(null),UOM:new a.p4(null),batchQty:new a.p4(null),batchDate:new a.p4(null),customer:new a.p4(null),customerName:new a.p4(null),location:new a.p4(null),batchOutputQty:new a.p4(null),batchNumber:new a.p4(null),generateReport:new a.nJ({batchInputQty:new a.p4(null),batchOutputQty:new a.p4(null),batchRejQty:new a.p4(null),jobCardClosureDate:new a.p4(null),location:new a.p4(null),checkoutStatus:new a.p4(null)}),status:new a.p4("In-Process"),productionEntry:new a.p4([])})}get f(){return this.form.controls}get generateReportData(){return this.form.get("generateReport")}ngOnInit(){this.getInitialData()}submit(){if(this.submitted=!0,this.validationService.checkErrors(this.form,J.m5))return;this.form.enable();let n=this.form.value;"approve"==this.action&&(n.status="Approved"),n.productionEntry=this.JCEntryDetailsList,"Skip Integration"!=n.generateReport.checkoutStatus||n.generateReport.batchOutputQty?this.create(n):this.toastService.warning("In Generate Report Batch Output Quantity is Required")}skipIntegration(){"Skip Integration"==this.form.value.generateReport.checkoutStatus?this.openSkippingIntegrationModal():this.submit()}trackByFn(n,e){return e?._id}create(n){this.spinner.show(),this.jobCardEntryService.createOrUpdate(n).subscribe(e=>{this.submitted=!1,this.spinner.hide(),this.toastService.success(e.message),this.reset()})}reset(){this.form.reset(),this.JCEntryDetailsList=[],this.collection=this.JCEntryDetailsList.length,this.getInitialData(),this.isESCPreview=!1}getInitialData(){this.spinner.show(),this.jobCardEntryService.getAllMasterData({}).subscribe(n=>{this.masterData=n,this.form.controls.jobCardEntryCode.setValue(this.masterData?.autoIncrementNo),this.form.controls.status.setValue("In-Process"),this.activatedRoute.queryParams.pipe((0,T.z)(e=>(this.action=e.action,e.id?this.jobCardEntryService.getById(e.id):(0,S.of)({})))).subscribe(e=>{this.selectedJobCardDetails=e,this.spinner.hide(),0!=Object.keys(e).length&&(e.productionEntry&&(this.JCEntryDetailsList=e?.productionEntry?.map(o=>(o.isMachineToggle=!1,o)).sort((o,s)=>o.seq-s.seq)),this.collection=this.JCEntryDetailsList.length,this.form.patchValue(e),this.f.jobCardNo.disable(),["view","approve"].includes(this.action)&&this.form.disable())})})}setJobCardId(n){this.selectedJobCardDetails=n,this.f.jobCardNo.setValue(n?.jobCardNo),this.f.jobCard.setValue(n?._id),this.spinner.show(),this.jobCardEntryService.getJCEntryDataByJobCardId({jobCard:n?._id,SKU:n?.SKU}).subscribe(e=>{this.f.SKU.setValue(e?.jobCardEntryData?.SKU),this.f.SKUNo.setValue(e?.jobCardEntryData?.SKUNo),this.f.SKUName.setValue(e?.jobCardEntryData?.SKUName),this.f.SKUStage.setValue(e?.jobCardEntryData?.SKUStage),this.f.SKUDescription.setValue(e?.jobCardEntryData?.SKUDescription),this.f.UOM.setValue(e?.jobCardEntryData?.UOM),this.f.batchQty.setValue(e?.jobCardEntryData?.batchQty),this.f.batchDate.setValue(e?.jobCardEntryData?.batchDate?this.utilityService.getFormatDate(e?.jobCardEntryData?.batchDate,"YYYY-MM-DD"):null),this.f.customer.setValue(e?.jobCardEntryData?.customer),this.f.customerName.setValue(e?.jobCardEntryData?.customerName),this.JCEntryDetailsList=e?.jobCardEntryData?.productionEntry?e?.jobCardEntryData?.productionEntry:e?.SKUProcessList,this.f.generateReport.patchValue(e?.jobCardEntryData?.generateReport),this.spinner.hide(),this.batchInputQty=e?.batchInputQty,this.generateReportData.controls.batchInputQty.value||this.generateReportData.controls.batchInputQty.setValue(this.batchInputQty),0==this.JCEntryDetailsList.length?(this.showSKUFlow=!0,this.toastService.warning("SKU has no define processes. Please set them up in SKU Process Flow.")):this.showSKUFlow=!1,this.collection=this.JCEntryDetailsList.length,console.log("this.JCEntryDetailsList ",this.JCEntryDetailsList)})}defineSKUProcessFlow(){this.router.navigate(["default/planning/master/sku_process_flow/form"],{queryParams:{id:this.f.SKU.value,action:"processFlow"}})}openJobCardDetailsModal(){const n=this.modalService.open(A.Q,{centered:!0,size:"xl",backdrop:"static",keyboard:!1});n.componentInstance.action=this.action,n.componentInstance.selectedJobCardDetails=this.selectedJobCardDetails,n.componentInstance.JCOptions=this.masterData.JCOptions,n.componentInstance.jobCard=this.form.controls.jobCard.value,n.result.then(e=>{e&&(this.selectedJobCardDetails=e?.selectedJobCardDetails,this.setJobCardId(e?.selectedJobCardDetails))},e=>{})}openProdInfoModal(n){if(this.componentModal[n.processOriginalName]){const e=this.modalService.open(this.componentModal[n.processOriginalName],{centered:!0,size:this.componentModalSize[n.processOriginalName],backdrop:"static",keyboard:!1});e.componentInstance.sourceOfManufacturing=n?.sourceOfManufacturing,e.componentInstance.action=this.action,e.componentInstance.selectedDetails={jobCard:this.selectedJobCardDetails?._id,jobCardNo:this.selectedJobCardDetails?.jobCardNo,SKU:this.selectedJobCardDetails?.SKU,batchQty:this.selectedJobCardDetails?.batchQty},e.componentInstance.jobCardDetails={jobCard:this.selectedJobCardDetails?._id,jobCardNo:this.selectedJobCardDetails?.jobCardNo,SKUNo:this.selectedJobCardDetails?.SKUNo,SKU:this.selectedJobCardDetails?.SKU,SKUName:this.selectedJobCardDetails?.SKUName,SKUDescription:this.selectedJobCardDetails?.SKUDescription,UOM:this.selectedJobCardDetails?.UOM,SKUBatchQty:this.selectedJobCardDetails?.batchQty}}}openIPQAModal(n){const e=this.modalService.open(st,{centered:!0,size:"lg",backdrop:"static",keyboard:!1});e.componentInstance.action=this.action,e.componentInstance.IPQAInfoList=n?.IPQALog,e.result.then(o=>{if(o){let s=this.JCEntryDetailsList.findIndex(d=>d.process==n?.process);this.IPQAInfoList=o?.IPQAInfoList,this.JCEntryDetailsList[s].releaseQty=o?.IPQA?.cumulativeCount,this.JCEntryDetailsList[s].IPQA=o?.IPQA}},o=>{})}openBatchInfoModal(){const n=this.modalService.open(j,{centered:!0,size:"lg",backdrop:"static",keyboard:!1});n.componentInstance.action=this.action,n.componentInstance.billFromLocationOptions=this.masterData.billFromLocationOptions,n.componentInstance.generateReport=this.form.controls.generateReport.value,n.result.then(e=>{e&&(console.log("success",e),this.form.controls.generateReport.setValue(e))},e=>{})}openSkippingIntegrationModal(){const n=this.modalService.open(lt.er,{centered:!0,size:"sm",backdrop:"static",keyboard:!1});n.componentInstance.action=this.action,n.componentInstance.heading="Job card Entry",n.componentInstance.cancelText="Do You Want To Proceed By Skipping The  Integration ?",n.result.then(e=>{"Yes"==e&&this.submit()},e=>{})}eventHeader(n){switch(n.key){case"SEARCH":this.search=n.value,this.page=1;break;case"EXCEL":default:break;case"PAGE":this.page=n.value}}onSort({column:n,direction:e}){this.headers.forEach(o=>{o.sortable!==n&&(o.direction="")}),this.JCEntryDetailsList=""===e||""===n?this.JCEntryDetailsList:[...this.JCEntryDetailsList].sort((o,s)=>{let d="string"==typeof o[n]?o[n].toLowerCase():o[n],m="string"==typeof s[n]?s[n].toLowerCase():s[n];const f=d<m?-1:d>m?1:0;return"asc"===e?f:-f})}}return(r=l).\u0275fac=function(n){return new(n||r)(t.Y36(k.G3),t.Y36(y.gz),t.Y36(p.V),t.Y36(p.kl),t.Y36(Rt.RJ),t.Y36(u.FF),t.Y36(p.tI),t.Y36(g.Ye),t.Y36(y.F0))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-jc-production-entry-form"]],viewQuery:function(n,e){if(1&n&&t.Gf(U.j_,5),2&n){let o;t.iGM(o=t.CRH())&&(e.headers=o)}},decls:114,vars:12,consts:[[1,"row"],[1,"col-5","pe-0"],[1,"formCard","card","mt-3",3,"formGroup"],[1,"container"],[1,"row","form-header"],[1,"col","heading"],[1,""],[1,"form-body"],[1,"row","mt-3"],[1,"col-4","pe-0","d-flex","justify-content-between","align-items-center"],[1,"form-label"],[1,"text-danger"],[1,"text-secondary","fs-5"],[1,"col-8","ps-3","pe-5"],[1,"d-flex","align-items-center"],[1,"col-11"],["bindLabel","jobCardNo","bindValue","jobCardNo","formControlName","jobCardNo",3,"items","clearable","change"],["id","basic-addon1",1,"set-input-group-text","input-group-text","bg-primary","pointer","col-auto","ms-1",2,"height","2.9rem",3,"click"],["aria-hidden","true",1,"fa","fa-search","text-white","fs-4"],[1,"row","mt-4"],[1,"col-8","ps-3"],["type","text","formControlName","SKUStage","readonly","",1,"form-control","bg-white-smoke"],["type","text","formControlName","SKUNo","readonly","",1,"form-control","bg-white-smoke"],["type","text","formControlName","SKUName","readonly","",1,"form-control","bg-white-smoke"],["type","text","formControlName","SKUDescription","readonly","",1,"form-control","bg-white-smoke"],["type","text","readonly","",1,"form-control","bg-white-smoke",3,"value"],["type","text","formControlName","batchQty","readonly","",1,"form-control","bg-white-smoke"],["type","date","formControlName","batchDate","readonly","",1,"form-control","bg-white-smoke"],[1,"row","my-4"],["type","text","formControlName","customerName","readonly","",1,"form-control","bg-white-smoke"],[1,"col-7","ps-0"],[1,"formCard","ms-0","card","mt-3",3,"formGroup"],[1,"row","form-header","mb-2"],["class","pt-1",4,"ngIf"],["class","table-responsive","style","min-height: 29.3rem",4,"ngIf"],["class","row mt-3",4,"ngIf"],[1,"row","line-border"],[1,"col-6"],[1,"plusIconSvg","btn","btn-primary","me-1"],["type","button",1,"btn","btn-primary","px-4",3,"click"],[1,"col-md-auto","ms-auto","d-flex","align-items-end"],["type","button","class","btn btn-primary px-5",3,"click",4,"ngIf"],[1,"pt-1"],[1,"",3,"data","dataChange"],[1,"table-responsive",2,"min-height","29.3rem"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],["sortable","seq",3,"sort"],["sortable","processName",1,"text-start",3,"sort"],["sortable","processStatus",3,"sort"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"d-flex","justify-content-center"],[4,"ngIf"],["class","form-control form-control-size-xs w-25","type","number",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[1,"text-start"],["processName",""],[1,"pointer",3,"ngbTooltip","positionTarget"],[1,"d-flex","justify-content-center","align-items-center"],[1,"plusSmallIconSvg","btn","btn-primary","py-0","me-1"],["type","button",1,"btn","btn-primary","form-btn-sm","py-0",3,"click"],["type","checkbox",1,"form-check-input","pointer",3,"ngModel","ngModelOptions","disabled","ngModelChange"],["type","number",1,"form-control","form-control-size-xs","w-25",3,"ngModel","ngModelOptions","ngModelChange"],[1,"col","pt-3","d-flex","justify-content-center","set-margin"],[1,"form-label","mt-1","me-3"],["type","button",1,"btn","btn-primary","px-5",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),t._uU(7,"Job Card Details "),t.qZA()()(),t.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"label",10),t._uU(12," Job Card No. "),t.TgZ(13,"span",11),t._uU(14," * "),t.qZA()(),t.TgZ(15,"span",12),t._uU(16,"\u25b6"),t.qZA()(),t.TgZ(17,"div",13)(18,"div",14)(19,"div",15)(20,"ng-select",16),t.NdJ("change",function(s){return e.setJobCardId(s)}),t.qZA()(),t.TgZ(21,"div",17),t.NdJ("click",function(){return e.openJobCardDetailsModal()}),t._UZ(22,"i",18),t.qZA()()()(),t.TgZ(23,"div",19)(24,"div",9)(25,"label",10),t._uU(26," SKU Stage "),t._UZ(27,"span",11),t.qZA(),t.TgZ(28,"span",12),t._uU(29,"\u25b6"),t.qZA()(),t.TgZ(30,"div",20),t._UZ(31,"input",21),t.qZA()(),t.TgZ(32,"div",19)(33,"div",9)(34,"label",10),t._uU(35," SKU Number "),t._UZ(36,"span",11),t.qZA(),t.TgZ(37,"span",12),t._uU(38,"\u25b6"),t.qZA()(),t.TgZ(39,"div",20),t._UZ(40,"input",22),t.qZA()(),t.TgZ(41,"div",19)(42,"div",9)(43,"label",10),t._uU(44," SKU Name "),t._UZ(45,"span",11),t.qZA(),t.TgZ(46,"span",12),t._uU(47,"\u25b6"),t.qZA()(),t.TgZ(48,"div",20),t._UZ(49,"input",23),t.qZA()(),t.TgZ(50,"div",19)(51,"div",9)(52,"label",10),t._uU(53," SKU Description "),t._UZ(54,"span",11),t.qZA(),t.TgZ(55,"span",12),t._uU(56,"\u25b6"),t.qZA()(),t.TgZ(57,"div",20),t._UZ(58,"input",24),t.qZA()(),t.TgZ(59,"div",19)(60,"div",9)(61,"label",10),t._uU(62," SKU UoM "),t._UZ(63,"span",11),t.qZA(),t.TgZ(64,"span",12),t._uU(65,"\u25b6"),t.qZA()(),t.TgZ(66,"div",20),t._UZ(67,"input",25),t.ALo(68,"SalesUOMUnitMaster"),t.qZA()(),t.TgZ(69,"div",19)(70,"div",9)(71,"label",10),t._uU(72,"Batch Quantity"),t._UZ(73,"span",11),t.qZA(),t.TgZ(74,"span",12),t._uU(75,"\u25b6"),t.qZA()(),t.TgZ(76,"div",20),t._UZ(77,"input",26),t.qZA()(),t.TgZ(78,"div",19)(79,"div",9)(80,"label",10),t._uU(81," Batch Date "),t._UZ(82,"span",11),t.qZA(),t.TgZ(83,"span",12),t._uU(84,"\u25b6"),t.qZA()(),t.TgZ(85,"div",20),t._UZ(86,"input",27),t.qZA()(),t.TgZ(87,"div",28)(88,"div",9)(89,"label",10),t._uU(90," SKU Customer "),t._UZ(91,"span",11),t.qZA(),t.TgZ(92,"span",12),t._uU(93,"\u25b6"),t.qZA()(),t.TgZ(94,"div",20),t._UZ(95,"input",29),t.qZA()()()()()(),t.TgZ(96,"div",30)(97,"form",31)(98,"div",3)(99,"div",32)(100,"div",5)(101,"label",6),t._uU(102," Production Entry "),t.qZA()()(),t.YNc(103,Gt,2,6,"div",33),t.YNc(104,$t,18,9,"div",34),t.YNc(105,Wt,8,0,"div",35),t._UZ(106,"hr",36),t.TgZ(107,"div",0)(108,"div",37),t._UZ(109,"button",38),t.TgZ(110,"button",39),t.NdJ("click",function(){return e.openBatchInfoModal()}),t._uU(111," Generate Report "),t.qZA()(),t.TgZ(112,"div",40),t.YNc(113,Xt,2,0,"button",41),t.qZA()()()()()()),2&n&&(t.xp6(2),t.Q6J("formGroup",e.form),t.xp6(18),t.Q6J("items",e.masterData.JCOptions)("clearable",!1),t.xp6(47),t.s9C("value",t.lcZ(68,9,e.form.controls.UOM.value)),t.xp6(30),t.Q6J("formGroup",e.form),t.xp6(6),t.Q6J("ngIf",!e.showSKUFlow),t.xp6(1),t.Q6J("ngIf",!e.showSKUFlow),t.xp6(1),t.Q6J("ngIf",e.showSKUFlow),t.xp6(8),t.Q6J("ngIf",!t.DdM(11,te).includes(e.action)))},dependencies:[g.sg,g.O5,M.P,u._L,a._Y,a.Fj,a.wV,a.Wl,a.JJ,a.JL,a.sg,a.u,a.On,Z.w9,D.j,g.OU,C.G,jt.Q],styles:[".set-margin[_ngcontent-%COMP%]{margin-bottom:29.9rem}"]}),l})();var ne=c(56208);const oe=[{path:"",redirectTo:"form",pathMatch:"full"},{path:"form",component:ee}];let ie=(()=>{var r;class l{}return(r=l).\u0275fac=function(n){return new(n||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[g.ez,y.Bz.forChild(oe),ne.m]}),l})()},68922:(P,b,c)=>{c.d(b,{T:()=>g});const g=[{message:"Location is Required",key:"deliveryLocation"}]},3959:(P,b,c)=>{c.d(b,{Gu:()=>T,kq:()=>a,JH:()=>y,Nh:()=>S,m5:()=>U,sg:()=>A}),c(68922);const y=[{message:"SKU No. is Required",key:"SKUId"},{message:"FGIN Quantity is Required",key:"FGINQuantity"},{message:"SKU Description is Required",key:"SKUDescription"},{message:"Manufacturing Date is Required",key:"manufacturingDate"},{message:"Batch No. is Required",key:"batchNo"}],a=[{message:"SKU No. is Required",key:"SKU"},{message:"SKU Description is Required",key:"SKUDescription"},{message:"Correction Category is Required",key:"correctionCategory"},{message:"Source Batch (From) is Required",key:"sourceBatch"}],T=[{message:"Process Name is Required",key:"processName"},{message:"Machine Name is Required",key:"machineName"},{message:"Production Date is Required",key:"productionDate"},{message:"Production Shift is Required",key:"productionShift"}],S=[{message:"Item Code is Required",key:"itemCode"},{message:"Item Name is Required",key:"itemName"},{message:"Item Description is Required",key:"itemDescription"},{message:"UoM is Required",key:"UoM"}],A=[{message:"Job Card No. is Required",key:"jobCard"},{message:"Batch Output Qty is Required",key:"batchOutputQty"}],U=[{message:"Job Card No. is Required",key:"jobCard"}]}}]);