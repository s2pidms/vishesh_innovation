"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[1040],{31040:(C,v,l)=>{l.r(v),l.d(v,{NpdMasterModule:()=>me});var d=l(96814),h=l(1076),b=l(43818),g=l(25116),U=l(99790),S=l(77609),e=l(65879),u=l(99328),Z=l(78212),_=l(37285),N=l(88059),q=l(53421),T=l(14906),I=l(59103);function w(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"a",30),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw();return e.KtG(s.openConfirmModal(null==o?null:o._id,null==o?null:o.dSKUNo))}),e._UZ(1,"i",33),e._uU(2," Delete "),e.qZA()}}function x(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",19,20)(5,"span",21),e._uU(6),e.qZA()(),e.TgZ(7,"td",19,22)(9,"span",21),e._uU(10),e.qZA()(),e.TgZ(11,"td",19,23)(13,"span",21),e._uU(14),e.qZA()(),e.TgZ(15,"td"),e._uU(16),e.ALo(17,"UOMUnitsMaster"),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.qZA(),e.TgZ(20,"td")(21,"div",24),e._UZ(22,"button",25),e.TgZ(23,"div",26)(24,"a",27),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.navigateTo("/default/business-leads/master/npd/form",s,a.action.view))}),e._UZ(25,"i",28),e._uU(26," View "),e.qZA(),e.TgZ(27,"a",27),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.navigateTo("/default/business-leads/master/npd/form",s,a.action.edit))}),e._UZ(28,"i",29),e._uU(29," Edit "),e.qZA(),e.TgZ(30,"a",30),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.navigateTo("/default/business-leads/master/npd/form",s,"Converted to SKU"))}),e._UZ(31,"i",31),e._uU(32," Convert to SKU "),e.qZA(),e.YNc(33,w,3,0,"a",32),e.qZA()()()()}if(2&r){const t=c.$implicit,n=e.MAs(4),o=e.MAs(8),s=e.MAs(12),a=e.oxw();e.xp6(2),e.Oqu(null==t?null:t.dSKUNo),e.xp6(1),e.Udp("width",n.clientWidth),e.xp6(2),e.Q6J("ngbTooltip",t.SKUName)("positionTarget",n),e.xp6(1),e.hij(" ",t.SKUName," "),e.xp6(1),e.Udp("width",o.clientWidth),e.xp6(2),e.Q6J("ngbTooltip",t.SKUDescription)("positionTarget",o),e.xp6(1),e.hij(" ",t.SKUDescription," "),e.xp6(1),e.Udp("width",s.clientWidth),e.xp6(2),e.Q6J("ngbTooltip",t.customerName)("positionTarget",s),e.xp6(1),e.hij(" ",t.customerName," "),e.xp6(2),e.Oqu(e.lcZ(17,21,null==t?null:t.primaryUnit)),e.xp6(3),e.Oqu(null==t?null:t.productCategory),e.xp6(5),e.Q6J("accessType",a.rolePermissionActions.viewAction),e.xp6(3),e.Q6J("accessType",a.rolePermissionActions.editAction),e.xp6(6),e.Q6J("ngIf",a.user==a.superAdminId)}}const P=function(r,c,t,n){return{page:r,pageSize:c,collection:t,search:n,type:"list"}};let K=(()=>{class r{constructor(t,n,o,s,a,p,m,f,y){this.exportExcelService=t,this.npdMasterService=n,this.router=o,this.spinner=s,this.exportToPDFService=a,this.activatedRoute=p,this.storageService=m,this.toastService=f,this.modalService=y,this.page=1,this.pageSize=8,this.collection=0,this.column="createdAt",this.direction=-1,this.search="",this.action=g.C0,this.tableData=[],this.superAdminId=g.dA,this.user="",this.rolePermissionActions=g.a1}ngOnInit(){this.user=this.storageService.get("IDMSAUser")?.roles?.find(t=>t==this.superAdminId),this.page=Number(this.activatedRoute.snapshot.queryParamMap.get("page")??1),this.getAll()}navigateTo(t,n,o){this.router.navigate([t],{queryParams:{id:n?._id,action:o}})}trackByFn(t,n){return n?._id}eventHeader(t){switch(t.key){case"SEARCH":this.search=t.value,this.getAll();break;case"PDF":this.getAll(!0,"PDF");break;case"EXCEL":this.getAll(!0,"EXCEL");break;case"PAGE":this.page=t.value,this.getAll()}}getAll(t=!1,n=""){this.spinner.show();let o={page:this.page,pageSize:this.pageSize,search:this.search,column:this.column,direction:this.direction,excel:t};this.subscription&&this.subscription.unsubscribe(),this.subscription=this.npdMasterService.getAll(o).subscribe(s=>{"EXCEL"==n?this.excelDownload(s.rows):"PDF"==n?this.pdfDownload(s.rows):(this.tableData=s.rows,this.collection=s.count),this.spinner.hide()})}delete(t){this.spinner.show(),this.npdMasterService.delete(t).subscribe(n=>{this.spinner.hide(),this.toastService.success(n.message),this.getAll()})}openConfirmModal(t,n){const o=this.modalService.open(S.hn,{centered:!0,size:"md",backdrop:"static",keyboard:!1});o.componentInstance.heading="Confirm Deletion",o.componentInstance.confirmText=`Confirm Deletion of D-SKU No. ${n} ?`,o.result.then(s=>{"Yes"==s.title&&this.delete(t)},s=>{})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}pdfDownload(t){let n=(0,U.Cc)(t);this.exportToPDFService.generatePdf(n.tableData,n.title)}excelDownload(t){this.exportExcelService.exportExcel((0,U.mG)(t))}onSort({column:t,direction:n}){this.headers.forEach(o=>{o.sortable!==t&&(o.direction="")}),this.column=t,this.direction="asc"==n?1:-1,this.getAll()}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(u.Ol),e.Y36(Z.x3),e.Y36(h.F0),e.Y36(u.V),e.Y36(u.$L),e.Y36(h.gz),e.Y36(u.V1),e.Y36(u.kl),e.Y36(_.FF))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-npd-list"]],viewQuery:function(n,o){if(1&n&&e.Gf(b.j,5),2&n){let s;e.iGM(s=e.CRH())&&(o.headers=s)}},decls:32,vars:15,consts:[[1,"listCard","card"],[1,"table-header"],[1,"heading"],["appAccessControl","",1,"text-center",3,"accessType"],[1,"plusIconSvg","btn","btn-primary","me-1"],["type","button",1,"btn","btn-primary","btn-add","px-4",3,"click"],[1,"line-border"],[1,"table-responsive"],[3,"data","dataChange"],[1,"table","table-bordered"],[1,"bg-primary"],[1,"text-white"],["sortable","SKUNo",3,"sort"],["sortable","SKUName",1,"text-start",3,"sort"],["sortable","SKUDescription",1,"text-start",3,"sort"],["sortable","customerName",1,"text-start",3,"sort"],["sortable","unitOfMeasurement",3,"sort"],["sortable","productCategory",3,"sort"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-start"],["SKUName",""],[1,"pointer",3,"ngbTooltip","positionTarget"],["SKUDescription",""],["customerName",""],[1,"dropdown"],[1,"dropbtn"],[1,"dropdown-content"],["appAccessControl","","href","javascript:void(0)",3,"accessType","click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg","me-2","text-primary"],["aria-hidden","true",1,"fa","fa-pencil-square-o","fa-lg","me-2","text-primary"],["href","javascript:void(0)",3,"click"],["aria-hidden","true",1,"fa","fa-check","fa-lg","me-2","text-success"],["href","javascript:void(0)",3,"click",4,"ngIf"],["aria-hidden","true",1,"fa","fa-trash","text-primary"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"label",2),e._uU(3,"NPD Summary"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"button",4),e.TgZ(6,"button",5),e.NdJ("click",function(){return o.navigateTo("/default/business-leads/master/npd/form",null,"create")}),e._uU(7," D-SKU "),e.qZA()(),e._UZ(8,"hr",6),e.TgZ(9,"div",7)(10,"app-setting-header",8),e.NdJ("dataChange",function(a){return o.eventHeader(a)}),e.qZA(),e.TgZ(11,"table",9)(12,"thead",10)(13,"tr",11)(14,"th",12),e.NdJ("sort",function(a){return o.onSort(a)}),e._uU(15,"D-SKU No."),e.qZA(),e.TgZ(16,"th",13),e.NdJ("sort",function(a){return o.onSort(a)}),e._uU(17),e.ALo(18,"labelTranslate"),e.qZA(),e.TgZ(19,"th",14),e.NdJ("sort",function(a){return o.onSort(a)}),e._uU(20),e.ALo(21,"labelTranslate"),e.qZA(),e.TgZ(22,"th",15),e.NdJ("sort",function(a){return o.onSort(a)}),e._uU(23,"Customer/Prospect Name"),e.qZA(),e.TgZ(24,"th",16),e.NdJ("sort",function(a){return o.onSort(a)}),e._uU(25,"UoM"),e.qZA(),e.TgZ(26,"th",17),e.NdJ("sort",function(a){return o.onSort(a)}),e._uU(27,"Product"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Action"),e.qZA()()(),e.TgZ(30,"tbody"),e.YNc(31,x,34,23,"tr",18),e.qZA()()()()),2&n&&(e.xp6(4),e.Q6J("accessType",o.rolePermissionActions.createAction),e.xp6(6),e.Q6J("data",e.l5B(10,P,o.page,o.pageSize,o.collection,o.search)),e.xp6(7),e.hij(" ",e.lcZ(18,6,"D-SKU Name")," "),e.xp6(3),e.hij(" ",e.lcZ(21,8,"D-SKU Description")," "),e.xp6(11),e.Q6J("ngForOf",o.tableData)("ngForTrackBy",o.trackByFn))},dependencies:[d.sg,d.O5,N.P,_._L,b.j,q.J,T.c,I.S],encapsulation:2})}return r})();var i=l(60095),R=l(21631),O=l(22096),J=l(77675),M=l(62576),A=l(16897),D=l(50363),F=l(95346);function L(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td",37,43)(3,"span",44),e._uU(4),e.qZA()(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.ALo(17,"date"),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.ALo(20,"date"),e.qZA(),e.TgZ(21,"td")(22,"div",45),e._UZ(23,"button",46),e.TgZ(24,"div",47)(25,"a",48),e.NdJ("click",function(){const o=e.CHM(t),s=o.$implicit,a=o.index,p=e.oxw();return e.KtG(p.patchItem(s,a,"view"))}),e._UZ(26,"i",49),e._uU(27," View "),e.qZA(),e.TgZ(28,"a",48),e.NdJ("click",function(){const o=e.CHM(t),s=o.$implicit,a=o.index,p=e.oxw();return e.KtG(p.patchItem(s,a,"edit"))}),e._UZ(29,"i",50),e._uU(30," Edit "),e.qZA(),e.TgZ(31,"a",48),e.NdJ("click",function(){const s=e.CHM(t).index,a=e.oxw();return e.KtG(a.deleteItem(s))}),e._UZ(32,"i",51),e._uU(33," Delete "),e.qZA()()()()()}if(2&r){const t=c.$implicit,n=e.MAs(2),o=e.oxw();e.xp6(1),e.Udp("width",n.clientWidth),e.xp6(2),e.Q6J("ngbTooltip",t.customerName)("positionTarget",n),e.xp6(1),e.hij(" ",t.customerName," "),e.xp6(2),e.Oqu(null==t?null:t.customerPartNo),e.xp6(2),e.Oqu(null==t?null:t.customerCurrency),e.xp6(2),e.Oqu(null==t?null:t.standardSellingRate),e.xp6(2),e.Oqu(null==t?null:t.monthlyOffTake),e.xp6(2),e.Oqu(null==t?null:t.PONo),e.xp6(2),e.Oqu(e.xi3(17,18,null==t?null:t.PODate,"dd-MM-YYYY")),e.xp6(3),e.Oqu(e.xi3(20,21,null==t?null:t.POValidDate,"dd-MM-YYYY")),e.xp6(6),e.ekj("disable","Converted to SKU"==o.action),e.xp6(3),e.ekj("disable","Converted to SKU"==o.action),e.xp6(3),e.ekj("disable","view"==o.action||"Converted to SKU"==o.action)}}const Y=function(r,c,t,n){return{page:r,pageSize:c,collection:t,search:n,excelDisplay:"none"}};let k=(()=>{class r{constructor(t,n,o){this.activeModal=t,this.validationService=n,this.modalService=o,this.action="",this.customerInfoArray=[],this.customerNPDArray=[],this.selectedCustomerData={},this.selectedCustomerDetails={},this.btnDisable=!1,this.page=1,this.pageSize=4,this.collection=0,this.search="",this.column="createdAt",this.direction=-1,this.form=new i.nJ({index:new i.p4(-1),customerName:new i.p4(null,[i.kI.required]),reference:new i.p4(null),referenceModel:new i.p4(null),customerPartNo:new i.p4(null),customerCurrency:new i.p4(null),standardSellingRate:new i.p4(null),monthlyOffTake:new i.p4(null),PONo:new i.p4(null),PODate:new i.p4(null),POValidDate:new i.p4(null)}),this.findFormErrors=[{message:"Customer Name",key:"customerName"}]}ngOnInit(){this.collection=this.customerInfoArray.length,0==this.customerInfoArray.length&&this.form.patchValue({customerName:this.selectedCustomerData.name??null,reference:this.selectedCustomerData.reference??null,customerCurrency:this.selectedCustomerData.customerCurrency??null,customerPartNo:this.selectedCustomerData.customerPartNo??null,monthlyOffTake:this.selectedCustomerData.monthlyOffTakeQty??null,referenceModel:this.selectedCustomerData.referenceModel??null}),("view"==this.action||"Converted to SKU"==this.action)&&this.form.disable()}eventHeader(t){switch(t.key){case"SEARCH":this.search=t.value;break;case"EXCEL":default:break;case"PAGE":this.page=t.value}}addCustomer(){if(this.validationService.checkErrors(this.form,this.findFormErrors))return;let t=this.form.value;(t.index||0==t.index)&&t.index>=0?this.customerInfoArray.splice(t.index,1,t):this.customerInfoArray.push(t),this.collection=this.customerInfoArray.length,this.selectedCustomerDetails={},this.form.reset()}patchItem(t,n,o){["Converted to SKU","view"].includes(this.action)||(t.index=n,this.form.patchValue(t),"view"==o?(this.btnDisable=!0,this.form.disable()):(this.form.enable(),this.btnDisable=!1))}deleteItem(t){["Converted to SKU","view"].includes(this.action)||(this.customerInfoArray.splice(t+(this.page-1)*this.pageSize,1),this.collection=this.customerInfoArray.length)}setCustomerDetails(t){this.form.patchValue({customerName:t?.name??null,reference:t?._id??null,customerCurrency:t?.currency??null,referenceModel:t?.type??null,customerPartNo:null})}openCustomersDetailsModal(){const t=this.modalService.open(S.e7,{centered:!0,size:"xl",backdrop:"static",keyboard:!1});t.componentInstance.action="edit"==this.action?"create":this.action,t.componentInstance.selectedCustomerDetails=this.selectedCustomerDetails,t.componentInstance.customerOptions=this.customerNPDArray,t.componentInstance.customer=this.form.controls.reference.value,t.result.then(n=>{n&&(console.log("success",n),this.selectedCustomerDetails=n?.selectedCustomerDetails,this.form.controls.reference.setValue(n?.selectedCustomerDetails?._id),this.setCustomerDetails(this.selectedCustomerDetails))},n=>{})}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(_.Kz),e.Y36(A.RJ),e.Y36(_.FF))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-npd-customer"]],inputs:{action:"action",customerInfoArray:"customerInfoArray",customerNPDArray:"customerNPDArray",selectedCustomerData:"selectedCustomerData"},decls:96,vars:19,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,""],[3,"formGroup"],[1,"row","mb-4","px-5","mt-4"],[1,"col-3","pe-5"],[1,"form-label","mb-1"],[1,"text-danger"],[1,"d-flex","align-items-center"],[1,"col-11"],["bindLabel","name","bindValue","_id","formControlName","reference",3,"items","clearable","change"],["id","basic-addon1",1,"input-group-text","bg-primary","pointer","col-auto","fs-4",2,"height","2.9rem",3,"click"],["aria-hidden","true",1,"fa","fa-search","text-white"],[1,"col-md-3"],["type","text","formControlName","customerPartNo",1,"form-control"],["type","text","formControlName","customerCurrency","readonly","",1,"form-control"],["type","number","formControlName","standardSellingRate",1,"form-control"],[1,"row","mb-4","px-5"],[1,"col-3"],["formControlName","monthlyOffTake","type","number",1,"form-control"],["formControlName","PONo","type","text",1,"form-control"],["type","date","formControlName","PODate",1,"form-control"],[1,"row"],[1,"col-10"],["formControlName","POValidDate","type","date",1,"form-control"],[1,"col-2","d-flex","align-items-end","ps-0"],["type","button",1,"plusIconSvg","btn","btn-primary",3,"disabled","click"],[1,"line-border","mt-4","px-0","mb-0"],[1,"px-5"],[3,"data","dataChange"],[1,"table-responsive","mt-0","px-5",2,"min-height","17rem"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],[1,"text-start"],[4,"ngFor","ngForOf"],[1,"line-border","mt-3","px-5"],[1,"col"],[1,"text-center","mt-3","mb-4"],["type","button",1,"btn","btn-primary","px-5",3,"disabled","click"],["customerName",""],[1,"pointer",3,"ngbTooltip","positionTarget"],[1,"dropdown"],[1,"dropbtn"],[1,"dropdown-content"],["href","javascript:void(0)",3,"click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg","me-2","text-primary"],["aria-hidden","true",1,"fa","fa-pencil-square-o","fa-lg","me-2","text-primary"],["aria-hidden","true",1,"fa","fa-trash","me-2","text-primary"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Add Customers"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return o.activeModal.close(o.customerInfoArray)}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"form",6)(9,"div",7)(10,"div",8)(11,"label",9),e._uU(12,"Customer/Prospect Name "),e.TgZ(13,"span",10),e._uU(14,"*"),e.qZA()(),e.TgZ(15,"div",11)(16,"div",12)(17,"ng-select",13),e.NdJ("change",function(a){return o.setCustomerDetails(a)}),e.qZA()(),e.TgZ(18,"div",14),e.NdJ("click",function(){return o.openCustomersDetailsModal()}),e._UZ(19,"i",15),e.qZA()()(),e.TgZ(20,"div",16)(21,"label",9),e._uU(22," Customer/Prospect Part No. "),e._UZ(23,"span",10),e.qZA(),e._UZ(24,"input",17),e.qZA(),e.TgZ(25,"div",16)(26,"label",9),e._uU(27," Currency "),e._UZ(28,"span",10),e.qZA(),e._UZ(29,"input",18),e.qZA(),e.TgZ(30,"div",16)(31,"label",9),e._uU(32," Selling Price [Excl. of GST]"),e.TgZ(33,"span",10),e._uU(34,"*"),e.qZA()(),e._UZ(35,"input",19),e.qZA()(),e.TgZ(36,"div",20)(37,"div",21)(38,"label",9),e._uU(39,"Avg. Monthly off-take "),e._UZ(40,"span",10),e.qZA(),e._UZ(41,"input",22),e.qZA(),e.TgZ(42,"div",21)(43,"label",9),e._uU(44,"PO No. (For open PO) "),e._UZ(45,"span",10),e.qZA(),e._UZ(46,"input",23),e.qZA(),e.TgZ(47,"div",21)(48,"label",9),e._uU(49,"PO Date (For Open PO)"),e._UZ(50,"span",10),e.qZA(),e._UZ(51,"input",24),e.qZA(),e.TgZ(52,"div",21)(53,"div",25)(54,"div",26)(55,"label",9),e._uU(56,"PO Validity (For Open PO) "),e._UZ(57,"span",10),e.qZA(),e._UZ(58,"input",27),e.qZA(),e.TgZ(59,"div",28)(60,"button",29),e.NdJ("click",function(){return o.addCustomer()}),e.qZA()()()()()(),e._UZ(61,"hr",30),e.TgZ(62,"div",31)(63,"app-setting-header",32),e.NdJ("dataChange",function(a){return o.eventHeader(a)}),e.qZA()(),e.TgZ(64,"div",33)(65,"table",34)(66,"thead",35)(67,"tr",36)(68,"th",37),e._uU(69,"Customer/Prospect Name"),e.qZA(),e.TgZ(70,"th"),e._uU(71,"Customer Part No."),e.qZA(),e.TgZ(72,"th"),e._uU(73,"Currency"),e.qZA(),e.TgZ(74,"th"),e._uU(75,"Selling Price"),e.qZA(),e.TgZ(76,"th"),e._uU(77,"AMO"),e.qZA(),e.TgZ(78,"th"),e._uU(79,"Open PO No."),e.qZA(),e.TgZ(80,"th"),e._uU(81,"Open PO Date"),e.qZA(),e.TgZ(82,"th"),e._uU(83,"PO Validity Dt."),e.qZA(),e.TgZ(84,"th"),e._uU(85,"Action"),e.qZA()()(),e.TgZ(86,"tbody"),e.YNc(87,L,34,24,"tr",38),e.ALo(88,"slice"),e.ALo(89,"searchFi1ter"),e.qZA()()(),e._UZ(90,"hr",39),e.TgZ(91,"div",25)(92,"div",40)(93,"div",41)(94,"button",42),e.NdJ("click",function(){return o.activeModal.close(o.customerInfoArray)}),e._uU(95," Save "),e.qZA()()()()()()),2&n&&(e.xp6(8),e.Q6J("formGroup",o.form),e.xp6(9),e.Q6J("items",o.customerNPDArray)("clearable",!1),e.xp6(43),e.Q6J("disabled",o.btnDisable||"view"==o.action||"Converted to SKU"==o.action),e.xp6(3),e.Q6J("data",e.l5B(14,Y,o.page,o.pageSize,o.collection,o.search)),e.xp6(24),e.Q6J("ngForOf",e.Dn7(88,7,e.xi3(89,11,o.customerInfoArray,o.search),(o.page-1)*o.pageSize,(o.page-1)*o.pageSize+o.pageSize)),e.xp6(7),e.Q6J("disabled",o.btnDisable||"view"==o.action||"Converted to SKU"==o.action))},dependencies:[d.sg,N.P,_._L,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.sg,i.u,D.w9,d.OU,d.uU,F.G],encapsulation:2})}return r})();var Q=l(1551);function E(r,c){if(1&r&&(e.TgZ(0,"label"),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(" NPD (",e.lcZ(2,1,t.action),")")}}function V(r,c){1&r&&(e.TgZ(0,"label"),e._uU(1," NPD (Converted to SKU)"),e.qZA())}function j(r,c){1&r&&(e.TgZ(0,"div",8)(1,"label",9),e._uU(2," SKU Stage "),e.TgZ(3,"span",10),e._uU(4,"*"),e.qZA()(),e.TgZ(5,"select",32)(6,"option",20),e._uU(7,"Select SKU Stage"),e.qZA(),e.TgZ(8,"option",33),e._uU(9,"Prototype"),e.qZA(),e.TgZ(10,"option",34),e._uU(11,"Pilot"),e.qZA()()())}function H(r,c){if(1&r&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&r){const t=c.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function B(r,c){if(1&r&&(e.TgZ(0,"div",8)(1,"label",9),e._uU(2," SKU Stage"),e.TgZ(3,"span",10),e._uU(4,"*"),e.qZA()(),e.TgZ(5,"select",32)(6,"option",20),e._uU(7,"Select SKU Stage"),e.qZA(),e.YNc(8,H,2,2,"option",21),e.qZA()()),2&r){const t=e.oxw();e.xp6(8),e.Q6J("ngForOf",t.SKUStageArr)}}function z(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"div",8)(1,"label",9),e._uU(2," D-SKU No. "),e.TgZ(3,"span",10),e._uU(4,"*"),e.qZA()(),e.TgZ(5,"ng-select",36),e.NdJ("change",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.changeOnSKUNo(o))}),e.qZA(),e.TgZ(6,"validation-messages",12),e._uU(7," Please fill required fields "),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(5),e.Q6J("items",t.masterData.NPDOptions)("clearable",!1),e.xp6(1),e.Q6J("control",t.form.controls.dSKUNo)}}function W(r,c){if(1&r&&(e.TgZ(0,"button",39),e._uU(1," NPD Ref. "),e.qZA()),2&r){const t=e.oxw(2);e.Q6J("ngbTooltip",t.dSKUNoRef)}}function G(r,c){if(1&r&&(e.TgZ(0,"div",8)(1,"label",17),e._uU(2," SKU No. "),e.TgZ(3,"span",10),e._uU(4,"*"),e.qZA(),e._UZ(5,"span")(6,"span")(7,"span")(8,"span")(9,"span")(10,"span")(11,"span")(12,"span"),e.YNc(13,W,2,1,"button",37),e.qZA(),e._UZ(14,"input",38),e.TgZ(15,"validation-messages",12),e._uU(16," Please fill required fields "),e.qZA()()),2&r){const t=e.oxw();e.xp6(13),e.Q6J("ngIf","Converted to SKU"==t.action),e.xp6(2),e.Q6J("control",t.form.controls.dSKUNo)}}function $(r,c){1&r&&(e.TgZ(0,"label",9),e._uU(1),e.ALo(2,"labelTranslate"),e.TgZ(3,"span",10),e._uU(4,"*"),e.qZA()()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"D-SKU Name"),""))}function X(r,c){1&r&&(e.TgZ(0,"label",9),e._uU(1),e.ALo(2,"labelTranslate"),e.TgZ(3,"span",10),e._uU(4,"*"),e.qZA()()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"SKU Name"),""))}function ee(r,c){1&r&&(e.TgZ(0,"label",9),e._uU(1),e.ALo(2,"labelTranslate"),e.TgZ(3,"span",10),e._uU(4,"*"),e.qZA()()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"D-SKU Description")," "))}function te(r,c){1&r&&(e.TgZ(0,"label",9),e._uU(1),e.ALo(2,"labelTranslate"),e.TgZ(3,"span",10),e._uU(4,"*"),e.qZA()()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"SKU Description")," "))}function oe(r,c){if(1&r&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&r){const t=c.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",null==t?null:t.label," ")}}function ne(r,c){1&r&&e._UZ(0,"div",50)}function ie(r,c){1&r&&e._UZ(0,"div",51)}function re(r,c){if(1&r&&(e.TgZ(0,"div",40)(1,"div",41)(2,"button",42),e._uU(3,"Status"),e.qZA()(),e.TgZ(4,"select",43)(5,"option",44),e._uU(6,"Select Status"),e.qZA(),e.TgZ(7,"option",45),e._uU(8,"Active"),e.qZA(),e.TgZ(9,"option",46),e._uU(10,"Inactive"),e.qZA()(),e.TgZ(11,"span",47),e.YNc(12,ne,1,0,"div",48),e.YNc(13,ie,1,0,"div",49),e.qZA()()),2&r){const t=e.oxw();e.xp6(5),e.Q6J("value","null"),e.xp6(7),e.Q6J("ngIf","A"==t.form.value.isActive),e.xp6(1),e.Q6J("ngIf","I"==t.form.value.isActive)}}let se=(()=>{class r{get f(){return this.form.controls}get addressPermanent(){return this.form.get("empPermanentAddress")}get addressPresent(){return this.form.get("empPresentAddress")}get dimensionsDetailsData(){return this.form.get("dimensionsDetails")}get bomDimData(){return this.form.get("BOMDimensionInfo")}get offTakeData(){return this.form.get("offTakeInfo")}constructor(t,n,o,s,a,p,m,f,y,de){this.npdMasterService=t,this.router=n,this.activatedRoute=o,this.spinner=s,this.toastService=a,this.validationService=p,this.modalService=m,this.utilityService=f,this.appGlobalService=y,this.storageService=de,this.active=1,this.submitted=!1,this.action="create",this.tableData=[],this.customerInfoArray=[],this.dSKUNoRef=null,this.photoFile=null,this.cardData={},this.selectedCustomerData={},this.SKUStageObj=g.mR,this.SKUStageArr=this.SKUStageObj.getAllSKUStage(),this.masterData={categoryList:[],uomOptions:[],NPDOptions:[],customersOptions:[],specificationList:[],attributesList:[],costSheetList:[],inkList:[],materialList:[],WXLDimensionsUnit:[]},this.form=new i.nJ({_id:new i.p4(null),SKUStage:new i.p4(null,[i.kI.required]),productCategory:new i.p4(null,[i.kI.required]),hsn:new i.p4(null,[i.kI.required]),HSN:new i.p4(null),dSKUNo:new i.p4(null,[i.kI.required]),SKUName:new i.p4(null,[i.kI.required]),SKUDescription:new i.p4(null,[i.kI.required]),primaryUnit:new i.p4(null,[i.kI.required]),SKUNo:new i.p4(null),NPDReview:new i.p4(null),secondaryUnit:new i.p4(null),conversionFactor:new i.p4(null),unitConversionFlag:new i.p4(1),primaryConversion:new i.p4(1),secondaryConversion:new i.p4(1),internalPartNo:new i.p4(null),artWorkNo:new i.p4(null),artWorkHyperLink:new i.p4(null),primaryToSecondaryConversion:new i.p4(null),secondaryToPrimaryConversion:new i.p4(null),conversionOfUnits:new i.p4(null),isActive:new i.p4("A"),customerInfo:new i.p4([]),totalNoOfColors:new i.p4(null),dimensionsDetails:new i.nJ({actualDimensions:new i.nJ({unit:new i.p4("mm"),width:new i.p4(null),length:new i.p4(null),ups:new i.p4(1),area:new i.p4(null),mSqArea:new i.p4(null)}),layoutDimensions:new i.nJ({unit:new i.p4("mm"),width:new i.p4(null),length:new i.p4(null),ups:new i.p4(null),area:new i.p4(null),mSqArea:new i.p4(null),wastePercentage:new i.p4(null)})}),materialInfo:new i.p4([]),inkDetails:new i.p4([]),specificationInfo:new i.p4([]),costSheetInfo:new i.p4([]),shelfLife:new i.p4(null),storageTemp:new i.p4(null),storageHumidity:new i.p4(null),specialStorageInstruction:new i.p4(null),generalSpecifications:new i.p4(null),BOMDimensionInfo:new i.nJ({unit1:new i.p4("mm"),unit2:new i.p4("mm"),width:new i.p4(null),length:new i.p4(null),mSqArea:new i.p4(null)}),offTakeInfo:new i.nJ({annualOffTake:new i.p4(0),offTakeFrequency:new i.p4(0),avgMonthlyOffTake:new i.p4(0),proposedBatchQty:new i.p4(0),processCAQty:new i.p4(0),toolingCAQty:new i.p4(0)})})}ngOnInit(){this.getInitialData();let t=this.appGlobalService?.rolesPermission.find(n=>"64a6c1e33339d4dc9d8141a3"==n?.menuItemId)?.masters;this.cardData=t.find(n=>"SKU Master"==n.subModuleName)}reset(){this.form.reset(),this.customerInfoArray=[],this.getInitialData()}submit(){if(this.submitted=!0,this.form.enable(),this.validationService.checkErrors(this.form,M.aJ))return;if(0==this.customerInfoArray.length)return void this.toastService.warning("Please add at least one customer to the list !");if("Converted to SKU"==this.action&&this.customerInfoArray.every(o=>"Customer"==o.referenceModel&&(!o.standardSellingRate||o.standardSellingRate<0)))return void this.toastService.warning("Selling Price should not be Zero !");if("Converted to SKU"==this.action&&this.customerInfoArray.some(o=>"Prospect"==o.referenceModel))return void this.toastService.error("Prospect should first be converted to Customer");let t=this.form.value;t.customerInfo=this.customerInfoArray,t.costSheetInfo=this.masterData.costSheetList,t.inkDetails=this.masterData.inkList.filter(o=>o.colSeq>0),t.specificationInfo=this.masterData.specificationList.filter(o=>o.seq>0),t.materialInfo=this.masterData?.materialList.filter(o=>1==o.isSelect);let n=new FormData;n.append("key","Sku");for(let o=0;o<Object.keys(t).length;o++){const s=Object.keys(t)[o];t[s]&&"object"==typeof t[s]?t[s]&&n.append(s,JSON.stringify(t[s])):t[s]&&n.append(s,t[s])}"Converted to SKU"==this.action&&n.append("action","Converted to SKU"),t._id?this.update(t._id,n):(delete t._id,this.create(n))}create(t){this.spinner.show(),this.npdMasterService.create(t).subscribe(n=>{this.submitted=!1,this.spinner.hide(),this.toastService.success(n.message),this.router.navigate(["/default/business-leads/master/npd/list"])})}update(t,n){this.spinner.show(),this.npdMasterService.update(t,n).subscribe(o=>{this.spinner.hide(),this.submitted=!1,this.toastService.success(o.message),"Converted to SKU"==this.action?(this.storageService.set("menuTitle",{title:this.cardData?.subModuleName??"SKU Master",subTitle:null,type:null,subModuleId:this.cardData?.subModuleId}),this.router.navigate(["/default/sales/master/sku/form"],{queryParams:{id:o?._id,action:"edit"}})):this.router.navigate(["/default/business-leads/master/npd/list"])})}getInitialData(){this.spinner.show(),this.npdMasterService.getAllMasterData({}).subscribe(t=>{this.masterData=t,this.form.controls.SKUStage.setValue(g.mR.prototype),this.form.controls.unitConversionFlag.setValue(1),this.form.controls.primaryConversion.setValue(1),this.form.controls.secondaryConversion.setValue(1),this.activatedRoute.queryParams.pipe((0,R.z)(n=>(this.action=n.action,this.utilityService.accessDenied(this.action),n.id?this.npdMasterService.getById(n.id):(0,O.of)({})))).subscribe(n=>{if(this.spinner.hide(),0==Object.keys(n).length)return;n.customerInfo.length&&(this.customerInfoArray=n.customerInfo.map(m=>(m.PODate&&(m.PODate=this.utilityService.getFormatDate(m.PODate,"YYYY-MM-DD")),m.POValidDate&&(m.POValidDate=this.utilityService.getFormatDate(m.POValidDate,"YYYY-MM-DD")),m))),this.dSKUNoRef=n.dSKUNo,n.inkDetails=n.inkDetails;let o=this.masterData.inkList;for(const m of n.inkDetails)o=o.filter(f=>f.itemCode!=m.itemCode),this.masterData.inkList=[...n.inkDetails,...o];n.specificationInfo=n.specificationInfo;let s=this.masterData.specificationList;for(const m of n.specificationInfo)s=s.filter(f=>f.specificationCode!=m.specificationCode),this.masterData.specificationList=[...n.specificationInfo,...s];n.materialInfo=n.materialInfo;let a=this.masterData?.materialList;for(const m of n.materialInfo)a=a.filter(f=>f.itemCode!=m.itemCode),this.masterData.materialList=[...n.materialInfo,...a];n.costSheetInfo=n.costSheetInfo;let p=this.masterData.costSheetList;for(const m of n.costSheetInfo)p=p.filter(f=>f.itemCode!=m.itemCode),this.masterData.costSheetList=[...n.costSheetInfo,...p];this.form.patchValue(n),this.form.controls.productCategory.disable(),this.form.controls.SKUNo.disable(),this.form.controls.dSKUNo.disable(),this.form.controls.hsn.disable(),"view"==this.action&&this.form.disable(),"Converted to SKU"==this.action&&(this.form.disable(),this.form.controls.SKUStage.enable(),this.form.controls.SKUStage.setValue(null),this.form.controls.isActive.enable())})})}setHSNValue(t){this.form.controls.hsn.setValue(t.HSNCode),this.form.controls.HSN.setValue(t.HSN)}changeOnSKUNo(t){this.selectedCustomerData=t,this.form.controls.SKUName.setValue(t.projectName),this.form.controls.artWorkNo.setValue(t.artWorkNo),this.form.controls.NPDReview.setValue(t._id)}openUOMDetailsModal(){const t=this.modalService.open(S.dQ,{centered:!0,size:"lg",backdrop:"static",keyboard:!1});t.componentInstance.action=this.action,t.componentInstance.ModalUOMsUnit=this.masterData.uomOptions,t.componentInstance.WXLDimensionsUnit=this.masterData?.WXLDimensionsUnit,t.componentInstance.dualUnits={primaryUnit:this.form.controls.primaryUnit.value,secondaryUnit:this.form.controls.secondaryUnit.value,unitConversionFlag:this.form.controls.unitConversionFlag.value,primaryConversion:this.form.controls.primaryConversion.value,secondaryConversion:this.form.controls.secondaryConversion.value,primaryToSecondaryConversion:this.form.controls.primaryToSecondaryConversion.value,secondaryToPrimaryConversion:this.form.controls.secondaryToPrimaryConversion.value},t.result.then(n=>{["create","edit"].includes(this.action)&&this.form.patchValue(n)},n=>{})}openCustomersModal(){const t=this.modalService.open(k,{centered:!0,size:"xl",backdrop:"static",keyboard:!1,windowClass:"modelPage"});t.componentInstance.action=this.action,t.componentInstance.customerInfoArray=this.customerInfoArray,t.componentInstance.customerNPDArray=this.masterData.customersOptions,t.componentInstance.selectedCustomerData=this.selectedCustomerData,t.result.then(n=>{["create","edit"].includes(this.action)&&(this.customerInfoArray=n)},n=>{})}openAttributesModal(){let t=this.dimensionsDetailsData.value;const n=this.modalService.open(J.n,{centered:!0,size:"xl",backdrop:"static",keyboard:!1,windowClass:"modelPage"});n.componentInstance.SKUAttributes=this.masterData.attributesList,n.componentInstance.action=this.action,n.componentInstance.primaryUnit=this.form.controls.primaryUnit.value,n.componentInstance.genSpecs={generalSpecifications:this.form.controls.generalSpecifications.value},n.componentInstance.storage={storageTemp:this.form.controls.storageTemp.value,storageHumidity:this.form.controls.storageHumidity.value,specialStorageInstruction:this.form.controls.specialStorageInstruction.value},n.componentInstance.dimensionsDetails=this.form.controls.dimensionsDetails.value,n.componentInstance.totalNoOfColors=this.form.controls.totalNoOfColors.value,n.componentInstance.inkDetailsArr=this.masterData.inkList.sort((o,s)=>o.colSeq+s.colSeq),n.componentInstance.materialInfoArr=this.masterData?.materialList,n.componentInstance.costSheetArr=this.masterData.costSheetList,n.componentInstance.SKUSpecificationArr=this.masterData.specificationList,n.componentInstance.materialSKUUnit=t?.layoutDimensions?.mSqArea,n.componentInstance.bomDimData=this.bomDimData.value,n.componentInstance.offTakeData=this.offTakeData.value,n.componentInstance.drawingArtWork={internalPartNo:this.form.value.internalPartNo,artWorkNo:this.form.value.artWorkNo,artWorkHyperLink:this.form.value.artWorkHyperLink},n.result.then(o=>{o&&["create","edit"].includes(this.action)&&(this.form.controls.dimensionsDetails.patchValue(o.dimensionsDetails),this.form.patchValue(o.genSpecs),this.form.patchValue(o.storage),this.masterData.materialList=o.materialInfoArr,this.masterData.specificationList=o.SKUSpecificationArr,this.masterData.costSheetList=o.costSheetArr,this.masterData.inkList=o.inkDetailsArr,this.form.controls.totalNoOfColors.setValue(o.totalNoOfColors),this.form.controls.BOMDimensionInfo.patchValue(o.bomDimData),this.form.controls.offTakeInfo.patchValue(o.offTakeData),this.f.artWorkNo.setValue(o?.drawingArtWork?.artWorkNo),this.f.internalPartNo.setValue(o?.drawingArtWork?.internalPartNo),this.f.artWorkHyperLink.setValue(o?.drawingArtWork?.artWorkHyperLink))},o=>{})}getAllSOConfirmationById(t){this.spinner.show(),this.npdMasterService.getAllNPDMasterByDSKUId(t).subscribe(n=>{this.spinner.hide()})}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(Z.x3),e.Y36(h.F0),e.Y36(h.gz),e.Y36(u.V),e.Y36(u.kl),e.Y36(A.RJ),e.Y36(_.FF),e.Y36(u.tI),e.Y36(u.P0),e.Y36(u.V1))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-npd-form"]],decls:76,vars:18,consts:[[1,"formCard","card",3,"formGroup"],[1,"set-remaining-margin"],[1,"row","form-header"],[1,"col","heading"],[4,"ngIf"],[1,"form-body"],[1,"row"],["class","col-3",4,"ngIf"],[1,"col-3"],[1,"form-label","mb-1"],[1,"text-danger"],["bindLabel","productCategory","bindValue","productCategory","formControlName","productCategory","placeholder","Select",3,"items","clearable","change"],[1,"error-left",3,"control"],["formControlName","hsn","type","number","readonly","",1,"form-control"],["class","form-label mb-1",4,"ngIf"],["type","text","formControlName","SKUName",1,"form-control"],["type","text","formControlName","SKUDescription",1,"form-control"],[1,"form-label","mb-1","d-flex","justify-content-between"],["type","button",1,"btn","btn-primary","form-btn-sm","py-0",3,"click"],["formControlName","primaryUnit",1,"form-select"],["value","null","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["type","number","formControlName","shelfLife",1,"form-control"],[1,"row","line-border"],[1,"col-4","pe-0"],[1,"plusIconSvg","btn","btn-primary","me-1"],["type","button",1,"btn","btn-primary","me-4","px-4",3,"click"],[1,"col-3","ps-0"],["class","d-flex align-items-center",4,"ngIf"],[1,"text-end","col-5"],["type","button",1,"btn","btn-primary","px-5","me-5",3,"click"],["type","button",1,"btn","btn-primary","px-5",3,"click"],["formControlName","SKUStage",1,"form-select"],["value","Prototype"],["value","Pilot"],[3,"value"],["bindLabel","dSKUNo","bindValue","dSKUNo","formControlName","dSKUNo","placeholder","Select",3,"items","clearable","change"],["placement","left","type","button","class","btn btn-secondary setButtonOpacity form-btn-sm py-0",3,"ngbTooltip",4,"ngIf"],["type","text","formControlName","SKUNo","readonly","",1,"form-control"],["placement","left","type","button",1,"btn","btn-secondary","setButtonOpacity","form-btn-sm","py-0",3,"ngbTooltip"],[1,"d-flex","align-items-center"],[1,"col-md-auto","text-nowrap"],["type","button",1,"btn","btn-primary","px-3"],["formControlName","isActive",1,"form-select","statusSelectBorder"],["selected","","disabled","",3,"value"],["value","A"],["value","I"],[1,"input-group-text","statusSpanHeight"],["class","statusActive","class","statusActive",4,"ngIf"],["class","statusInActive",4,"ngIf"],[1,"statusActive"],[1,"statusInActive"]],template:function(n,o){1&n&&(e.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,E,3,3,"label",4),e.YNc(5,V,2,0,"label",4),e.qZA()(),e.TgZ(6,"div",5)(7,"div",6),e.YNc(8,j,12,0,"div",7),e.YNc(9,B,9,1,"div",7),e.TgZ(10,"div",8)(11,"label",9),e._uU(12," Product Category "),e.TgZ(13,"span",10),e._uU(14,"*"),e.qZA()(),e.TgZ(15,"ng-select",11),e.NdJ("change",function(a){return o.setHSNValue(a)}),e.qZA(),e.TgZ(16,"validation-messages",12),e._uU(17," Please fill required fields "),e.qZA()(),e.TgZ(18,"div",8)(19,"label",9),e._uU(20," HSN Code "),e.TgZ(21,"span",10),e._uU(22,"*"),e.qZA()(),e._UZ(23,"input",13),e.TgZ(24,"validation-messages",12),e._uU(25," Please fill required fields "),e.qZA()(),e.YNc(26,z,8,3,"div",7),e.YNc(27,G,17,2,"div",7),e.qZA(),e.TgZ(28,"div",6)(29,"div",8),e.YNc(30,$,5,3,"label",14),e.YNc(31,X,5,3,"label",14),e._UZ(32,"input",15),e.qZA(),e.TgZ(33,"div",8),e.YNc(34,ee,5,3,"label",14),e.YNc(35,te,5,3,"label",14),e._UZ(36,"input",16),e.TgZ(37,"validation-messages",12),e._uU(38," Please fill required fields "),e.qZA()(),e.TgZ(39,"div",8)(40,"label",17),e._uU(41," Unit of Measurement"),e.TgZ(42,"span",10),e._uU(43,"*"),e.qZA(),e._UZ(44,"span")(45,"span")(46,"span")(47,"span")(48,"span"),e.TgZ(49,"button",18),e.NdJ("click",function(){return o.openUOMDetailsModal()}),e._uU(50," Dual Units "),e.qZA()(),e.TgZ(51,"select",19)(52,"option",20),e._uU(53,"Select Primary Unit"),e.qZA(),e.YNc(54,oe,2,2,"option",21),e.qZA()(),e.TgZ(55,"div",8)(56,"label",9),e._uU(57," Shelf Life (Months) "),e._UZ(58,"span",10),e.qZA(),e._UZ(59,"input",22),e.qZA()()(),e._UZ(60,"hr",23),e.TgZ(61,"div",6)(62,"div",24),e._UZ(63,"button",25),e.TgZ(64,"button",26),e.NdJ("click",function(){return o.openAttributesModal()}),e._uU(65," Attributes "),e.qZA(),e._UZ(66,"button",25),e.TgZ(67,"button",26),e.NdJ("click",function(){return o.openCustomersModal()}),e._uU(68," Customers "),e.qZA()(),e.TgZ(69,"div",27),e.YNc(70,re,14,3,"div",28),e.qZA(),e.TgZ(71,"div",29)(72,"button",30),e.NdJ("click",function(){return o.reset()}),e._uU(73,"Reset"),e.qZA(),e.TgZ(74,"button",31),e.NdJ("click",function(){return o.submit()}),e._uU(75,"Save"),e.qZA()()()()()),2&n&&(e.Q6J("formGroup",o.form),e.xp6(4),e.Q6J("ngIf","Converted to SKU"!=o.action),e.xp6(1),e.Q6J("ngIf","Converted to SKU"==o.action),e.xp6(3),e.Q6J("ngIf","Converted to SKU"!=o.action),e.xp6(1),e.Q6J("ngIf","Converted to SKU"==o.action),e.xp6(6),e.Q6J("items",o.masterData.categoryList)("clearable",!1),e.xp6(1),e.Q6J("control",o.form.controls.productCategory),e.xp6(8),e.Q6J("control",o.form.controls.hsn),e.xp6(2),e.Q6J("ngIf","Converted to SKU"!=o.action),e.xp6(1),e.Q6J("ngIf","Converted to SKU"==o.action),e.xp6(3),e.Q6J("ngIf","Converted to SKU"!=o.action),e.xp6(1),e.Q6J("ngIf","Converted to SKU"==o.action),e.xp6(3),e.Q6J("ngIf","Converted to SKU"!=o.action),e.xp6(1),e.Q6J("ngIf","Converted to SKU"==o.action),e.xp6(2),e.Q6J("control",o.form.controls.SKUDescription),e.xp6(17),e.Q6J("ngForOf",o.masterData.uomOptions),e.xp6(16),e.Q6J("ngIf","Converted to SKU"==o.action))},dependencies:[d.sg,d.O5,Q.s,_._L,i._Y,i.YN,i.Kr,i.Fj,i.wV,i.EJ,i.JJ,i.JL,i.sg,i.u,D.w9,d.rS,T.c],styles:[".setButtonOpacity[_ngcontent-%COMP%]{opacity:70%}"]})}return r})();var ae=l(56208);const ce=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:K},{path:"form",component:se,resolve:{accessScreen:l(19964).xr}},{path:"npd-customer",component:k}];let me=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=e.oAB({type:r});static#o=this.\u0275inj=e.cJS({imports:[d.ez,ae.m,h.Bz.forChild(ce)]})}return r})()},62576:(C,v,l)=>{l.d(v,{Qj:()=>g,nb:()=>e,UB:()=>S,rz:()=>d,aJ:()=>U,JD:()=>h,wG:()=>u});const d=[{message:"NPD No. is Required",key:"NPD"}],h=[{message:"Customer/Prospect Name is Required",key:"referenceModel"},{message:"Product Category is Required",key:"productCategory"},{message:"Project Name is Required",key:"projectName"},{message:"Product Brief is Required",key:"productBrief"},{message:"Build Stage is Required",key:"buildStage"},{message:"Order Type is Required",key:"orderType"},{message:"Development Charges is Required",key:"developmentCharges"},{message:"Quantity [Requested] is Required",key:"requestedQty"},{message:"Expected Delivery Date [EDD] is Required",key:"expectedDeliveryDate"},{message:"Validation Required is Required",key:"validationRequired"},{message:"NPD Requested by/Coordinator is Required",key:"NPDRequestedBy"}];l(84982);const g=[{message:"Order is Required",key:"order"},{message:"Name is Required",key:"name"},{message:"Status is Required",key:"status"}],U=[{message:"SKU Stage is Required",key:"SKUStage"},{message:"Product Category is Required",key:"productCategory"},{message:"HSN Code is Required",key:"HSNCode"},{message:"D-SKU No. is Required",key:"dSKUNo"},{message:"D-SKU Name is Required",key:"SKUName"},{message:"D-SKU Description is Required",key:"SKUDescription"},{message:"Unit of Measurement is Required",key:"primaryUnit"}],S=[{message:"Product Category is Required",key:"productCategory"},{message:"D-SKU No. is Required",key:"DSKUNo"},{message:"D-SKU Name is Required",key:"DSKUName"},{message:"Total Labour Cost/Unit is Required",key:"totalLabourCostPerUnit"},{message:"Total Asset Cost/Unit is Required",key:"totalAssetCostPerUnit"},{message:"Total Tooling Cost/Unit is Required",key:"totalToolingCostPerUnit"}],e=[{message:"Product Category is Required",key:"productCategory"},{message:"D-SKU No. is Required",key:"DSKUNo"},{message:"D-SKU Name is Required",key:"DSKUName"},{message:"Selling Price is Required",key:"sellingPrice"}],u=[{message:"Bill From Location is Required",key:"billFromLocation"},{message:"Customer Category is Required",key:"salesCategory"},{message:"Customer Name is Required",key:"customer"},{message:"Net SO Value is Required",key:"SRTotalAmount"},{message:"Status is Required",key:"SRStatus"},{message:"Customer Shipping Address is Required",key:"customerShippingAddress"},{message:"Fright Terms is Required",key:"frightTerms"},{message:"Transporter is Required",key:"transporter"},{message:"Destination is Required",key:"destination"}]},84982:(C,v,l)=>{l.d(v,{$:()=>d});const d=[{message:"Prospect Name is Required",key:"prospectName"},{message:"Customer category Name is Required",key:"customerCategory"},{message:"Ccy is Required",key:"currency"}]}}]);