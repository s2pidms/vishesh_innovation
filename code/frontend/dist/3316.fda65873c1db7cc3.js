"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[3316],{83316:($,x,g)=>{g.r(x),g.d(x,{JcProductionEntryModule:()=>In});var p=g(96814),D=g(1076),s=g(60095),K=g(21631),Y=g(22096),F=g(61441),z=g(3959),E=g(74834),_=g(43818),e=g(65879),u=g(37285),c=g(2742);function ie(r,l){if(1&r&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&r){const i=l.$implicit;e.Q6J("value",i.value),e.xp6(1),e.hij(" ",i.label," ")}}function oe(r,l){1&r&&e._UZ(0,"div",33)}function re(r,l){1&r&&e._UZ(0,"div",34)}function ae(r,l){1&r&&e._UZ(0,"div",35)}function se(r,l){1&r&&e._UZ(0,"hr",36)}function le(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"div",37)(1,"div",38)(2,"button",39),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.dismissModel())}),e._uU(3,"Save & Close"),e.qZA()()()}}const v=function(){return["reject","approve","view"]};let ce=(()=>{var r;class l{constructor(n,t,o){this.activeModal=n,this.utilityService=t,this.toastService=o,this.action="",this.generateReport={},this.billFromLocationOptions={}}ngOnInit(){this.generateReport.jobCardClosureDate&&(this.generateReport.jobCardClosureDate=this.utilityService.getFormatDate(this.generateReport.jobCardClosureDate,"YYYY-MM-DD")),1===this.billFromLocationOptions.length&&(this.generateReport.location=this.billFromLocationOptions[0].value)}setRejectQty(){this.generateReport.batchRejQty=this.generateReport.batchInputQty&&this.generateReport.batchOutputQty?this.generateReport.batchInputQty-this.generateReport.batchOutputQty:0}dismissModel(){"Skip Integration"!=this.generateReport.checkoutStatus||this.generateReport.batchOutputQty?this.activeModal.close(this.generateReport):this.toastService.warning("Batch Output Quantity is Required")}}return(r=l).\u0275fac=function(n){return new(n||r)(e.Y36(u.Kz),e.Y36(c.tI),e.Y36(c.kl))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-generate-report-modal"]],viewQuery:function(n,t){if(1&n&&e.Gf(_.j,5),2&n){let o;e.iGM(o=e.CRH())&&(t.headers=o)}},inputs:{action:"action",generateReport:"generateReport",billFromLocationOptions:"billFromLocationOptions"},decls:91,vars:28,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container-fluid","px-0","mt-4"],[1,"row","justify-content-center","px-5","mt-4"],[1,"col-12"],[1,"row","mt-4"],[1,"col-4","pe-0"],[1,"form-label"],[1,"text-danger"],[1,"col-2","px-2","d-flex","align-items-center","justify-content-center"],[1,"ms-1","me-2","text-secondary"],[1,"col-6","ps-0","setInputMargin"],["type","number",1,"form-control",3,"ngModel","disabled","ngModelChange","input"],["type","number",1,"form-control",3,"ngModel","disabled","ngModelChange"],["type","date",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"form-select",3,"disabled","ngModel","ngModelChange"],["selected","","disabled","",3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"row","mt-4","mb-2"],[1,"col-6","ps-0","setInputMargin","d-flex"],["value","Skip Integration"],["value","In-Process"],["value","Mark As Completed"],[1,"input-group-text","statusSpanHeight"],["class","statusInActive",4,"ngIf"],["class","statusYellow",4,"ngIf"],["class","statusActive",4,"ngIf"],["class","line-border mb-4",4,"ngIf"],["class","row",4,"ngIf"],[3,"value"],[1,"statusInActive"],[1,"statusYellow"],[1,"statusActive"],[1,"line-border","mb-4"],[1,"row"],[1,"col","text-center","mb-4"],["type","button",1,"btn","bg-primary","px-5",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Generate Report"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return t.activeModal.close()}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),e._uU(13,"Batch Input Quantity"),e.TgZ(14,"span",11),e._uU(15," * "),e.qZA()()(),e.TgZ(16,"div",12)(17,"span",13),e._uU(18,"\u25b6"),e.qZA()(),e.TgZ(19,"div",14)(20,"input",15),e.NdJ("ngModelChange",function(a){return t.generateReport.batchInputQty=a})("input",function(){return t.setRejectQty()}),e.qZA()()(),e.TgZ(21,"div",8)(22,"div",9)(23,"label",10),e._uU(24,"Batch Output Quantity"),e.TgZ(25,"span",11),e._uU(26," * "),e.qZA()()(),e.TgZ(27,"div",12)(28,"span",13),e._uU(29,"\u25b6"),e.qZA()(),e.TgZ(30,"div",14)(31,"input",15),e.NdJ("ngModelChange",function(a){return t.generateReport.batchOutputQty=a})("input",function(){return t.setRejectQty()}),e.qZA()()(),e.TgZ(32,"div",8)(33,"div",9)(34,"label",10),e._uU(35,"Batch Rejection Quantity"),e.TgZ(36,"span",11),e._uU(37," * "),e.qZA()()(),e.TgZ(38,"div",12)(39,"span",13),e._uU(40,"\u25b6"),e.qZA()(),e.TgZ(41,"div",14)(42,"input",16),e.NdJ("ngModelChange",function(a){return t.generateReport.batchRejQty=a}),e.qZA()()(),e.TgZ(43,"div",8)(44,"div",9)(45,"label",10),e._uU(46,"Job Card Closure Date"),e.TgZ(47,"span",11),e._uU(48," * "),e.qZA()()(),e.TgZ(49,"div",12)(50,"span",13),e._uU(51,"\u25b6"),e.qZA()(),e.TgZ(52,"div",14)(53,"input",17),e.NdJ("ngModelChange",function(a){return t.generateReport.jobCardClosureDate=a}),e.qZA()()(),e.TgZ(54,"div",8)(55,"div",9)(56,"label",10),e._uU(57," Location "),e.qZA()(),e.TgZ(58,"div",12)(59,"span",13),e._uU(60,"\u25b6"),e.qZA()(),e.TgZ(61,"div",14)(62,"select",18),e.NdJ("ngModelChange",function(a){return t.generateReport.location=a}),e.TgZ(63,"option",19),e._uU(64,"Select Location"),e.qZA(),e.YNc(65,ie,2,2,"option",20),e.qZA()()(),e.TgZ(66,"div",21)(67,"div",9)(68,"label",10),e._uU(69," Job Card Status "),e.TgZ(70,"span",11),e._uU(71," * "),e.qZA()()(),e.TgZ(72,"div",12)(73,"span",13),e._uU(74,"\u25b6"),e.qZA()(),e.TgZ(75,"div",22)(76,"select",18),e.NdJ("ngModelChange",function(a){return t.generateReport.checkoutStatus=a}),e.TgZ(77,"option",19),e._uU(78,"Select Status"),e.qZA(),e.TgZ(79,"option",23),e._uU(80,"Skip Integration"),e.qZA(),e.TgZ(81,"option",24),e._uU(82,"In-Process"),e.qZA(),e.TgZ(83,"option",25),e._uU(84,"Mark As Completed"),e.qZA()(),e.TgZ(85,"span",26),e.YNc(86,oe,1,0,"div",27),e.YNc(87,re,1,0,"div",28),e.YNc(88,ae,1,0,"div",29),e.qZA()()()()(),e.YNc(89,se,1,0,"hr",30),e.YNc(90,le,4,0,"div",31),e.qZA()()),2&n&&(e.xp6(20),e.Q6J("ngModel",t.generateReport.batchInputQty)("disabled",e.DdM(20,v).includes(t.action)),e.xp6(11),e.Q6J("ngModel",t.generateReport.batchOutputQty)("disabled",e.DdM(21,v).includes(t.action)),e.xp6(11),e.Q6J("ngModel",t.generateReport.batchRejQty)("disabled",e.DdM(22,v).includes(t.action)),e.xp6(11),e.Q6J("ngModel",t.generateReport.jobCardClosureDate)("disabled",e.DdM(23,v).includes(t.action)),e.xp6(9),e.Q6J("disabled",e.DdM(24,v).includes(t.action))("ngModel",t.generateReport.location),e.xp6(1),e.Q6J("value",null),e.xp6(2),e.Q6J("ngForOf",t.billFromLocationOptions),e.xp6(11),e.Q6J("disabled",e.DdM(25,v).includes(t.action))("ngModel",t.generateReport.checkoutStatus),e.xp6(1),e.Q6J("value",null),e.xp6(9),e.Q6J("ngIf","Skip Integration"==t.generateReport.checkoutStatus),e.xp6(1),e.Q6J("ngIf","In-Process"==t.generateReport.checkoutStatus),e.xp6(1),e.Q6J("ngIf","Mark As Completed"==t.generateReport.checkoutStatus),e.xp6(1),e.Q6J("ngIf",!e.DdM(26,v).includes(t.action)),e.xp6(1),e.Q6J("ngIf",!e.DdM(27,v).includes(t.action)))},dependencies:[p.sg,p.O5,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.On],encapsulation:2}),l})();var de=g(84531),j=g(32183),pe=g(67916),w=g(88059),L=g(95346);const ge=function(){return{standalone:!0}},G=function(){return["view"]};function ue(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",26,31)(7,"span",32),e._uU(8),e.qZA()(),e.TgZ(9,"td",26,33)(11,"span",32),e._uU(12),e.qZA()(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td")(20,"div",34)(21,"button",35),e.NdJ("click",function(){const o=e.CHM(i).$implicit,a=e.oxw();return e.KtG(a.openBatchModal(o))}),e._uU(22," New Batch "),e.qZA()()(),e.TgZ(23,"td"),e._uU(24),e.qZA(),e.TgZ(25,"td")(26,"input",36),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.processStatus=t)}),e.qZA()()()}if(2&r){const i=l.$implicit,n=e.MAs(6),t=e.MAs(10),o=e.oxw();e.xp6(2),e.Oqu(i.SN),e.xp6(2),e.Oqu(i.colourCode),e.xp6(1),e.Udp("width",n.clientWidth),e.xp6(2),e.Q6J("ngbTooltip",i.colourName)("positionTarget",n),e.xp6(1),e.hij(" ",i.colourName," "),e.xp6(1),e.Udp("width",t.clientWidth),e.xp6(2),e.Q6J("ngbTooltip",i.colourDescription)("positionTarget",t),e.xp6(1),e.hij(" ",i.colourDescription," "),e.xp6(2),e.Oqu(i.mesh),e.xp6(2),e.Oqu(i.UOM),e.xp6(2),e.Oqu(i.BOMQty),e.xp6(6),e.Oqu(i.inkBatchQty),e.xp6(2),e.Q6J("ngModel",i.processStatus)("ngModelOptions",e.DdM(20,ge))("readonly","view"===o.action)("disabled",e.DdM(21,G).includes(o.action))}}function me(r,l){1&r&&e._UZ(0,"hr",37)}function _e(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.submit())}),e._uU(1," Save "),e.qZA()}}const he=function(r,l,i,n){return{page:r,pageSize:l,collection:i,search:n,excelDisplay:"none"}};let fe=(()=>{var r;class l{constructor(n,t,o,a,d,h){this.inkMixingLogService=n,this.spinner=t,this.activeModal=o,this.toastService=a,this.modalService=d,this.utilityService=h,this.selectedDetails={},this.action="",this.inkMixingLog={},this.shiftOptions=[],this.page=1,this.pageSize=5,this.collection=0,this.column="createdAt",this.direction=-1,this.search="",this.selectedJobCardDetails={}}ngOnInit(){this.getInitialData()}reset(){this.getInitialData()}submit(){this.create()}trackByFn(n,t){return t?._id}create(){this.spinner.show(),this.inkMixingLogService.createOrUpdate(this.inkMixingLog).subscribe(n=>{this.spinner.hide(),this.toastService.success(n.message),this.activeModal.close()})}getInitialData(){this.spinner.show(),this.inkMixingLogService.getAllMasterData(this.selectedDetails).subscribe(n=>{this.inkMixingLog=n.inkMixingLog,(0==n?.inkMixingLog?.inkMixingLogDetails?.length||!n?.inkMixingLog?.inkMixingLogDetails)&&this.toastService.warning(`Please define SKU Ink Master Of SKU No -  ${this.inkMixingLog.SKUNo}`),this.shiftOptions=n.shiftOptions,this.collection=this.inkMixingLog?.inkMixingLogDetails?.length,this.spinner.hide()})}eventHeader(n){switch(n.key){case"SEARCH":this.search=n.value;break;case"EXCEL":default:break;case"PAGE":this.page=n.value}}openLogEntryModal(){this.modalService.open(j.M,{centered:!0,size:"md",backdrop:"static",keyboard:!1}).result.then(t=>{},t=>{})}openBatchModal(n){const t=this.modalService.open(de.p,{centered:!0,size:"xl",backdrop:"static",keyboard:!1});t.componentInstance.action=this.action,t.componentInstance.inkLogNewBatch=n,t.componentInstance.shiftOptions=this.shiftOptions,t.result.then(o=>{o&&console.log("success",o)},o=>{})}}return(r=l).\u0275fac=function(n){return new(n||r)(e.Y36(pe.I),e.Y36(c.V),e.Y36(u.Kz),e.Y36(c.kl),e.Y36(u.FF),e.Y36(c.tI))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-ink-mixing-log-modal"]],inputs:{selectedDetails:"selectedDetails",action:"action"},decls:81,vars:25,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container"],[1,"form-body","my-4"],[1,"row"],[1,"col-4","pe-3"],[1,"col-6","pe-4"],[1,"form-label"],[1,"text-danger"],["type","text","readonly","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-6","ps-2","pe-5"],["type","text","readonly","",1,"form-control","bg-white-smoke",3,"ngModel","ngModelChange"],[1,"col-3","ps-0","pe-5"],[1,"col-5","ps-3"],[1,"col-6","ps-0","pe-3"],[1,"col-6"],[1,"col-7","ps-0"],[1,"row","line-border"],[3,"data","dataChange"],[1,"table-responsive",2,"min-height","20rem"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],[1,"text-start"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","row line-border mt-4",4,"ngIf"],[1,"col-12","d-flex","justify-content-center"],["type","button","class","btn bg-primary px-5 mb-3",3,"click",4,"ngIf"],["colourName",""],[1,"pointer",3,"ngbTooltip","positionTarget"],["colourDescription",""],[1,"d-flex","justify-content-center","align-items-center"],["type","button",1,"btn","btn-primary","form-btn-sm","py-0",3,"click"],["type","checkbox",1,"form-check-input","pointer",3,"ngModel","ngModelOptions","readonly","disabled","ngModelChange"],[1,"row","line-border","mt-4"],["type","button",1,"btn","bg-primary","px-5","mb-3",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Ink Mixing"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return t.activeModal.close()}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",7)(12,"div",9)(13,"label",10),e._uU(14,"Job Card No. "),e.TgZ(15,"span",11),e._uU(16,"*"),e.qZA()(),e.TgZ(17,"input",12),e.NdJ("ngModelChange",function(a){return t.inkMixingLog.jobCardNo=a}),e.qZA()(),e.TgZ(18,"div",13)(19,"label",10),e._uU(20,"SKU No. "),e._UZ(21,"span",11),e.qZA(),e.TgZ(22,"input",14),e.NdJ("ngModelChange",function(a){return t.inkMixingLog.SKUNo=a}),e.qZA()()()(),e.TgZ(23,"div",15)(24,"label",10),e._uU(25,"SKU Name "),e._UZ(26,"span",11),e.qZA(),e.TgZ(27,"input",14),e.NdJ("ngModelChange",function(a){return t.inkMixingLog.SKUName=a}),e.qZA()(),e.TgZ(28,"div",16)(29,"div",7)(30,"div",17)(31,"label",10),e._uU(32,"SKU Description "),e._UZ(33,"span",11),e.qZA(),e.TgZ(34,"input",14),e.NdJ("ngModelChange",function(a){return t.inkMixingLog.SKUDescription=a}),e.qZA()(),e.TgZ(35,"div",18)(36,"div",7)(37,"div",16)(38,"label",10),e._uU(39,"UoM "),e._UZ(40,"span",11),e.qZA(),e.TgZ(41,"input",14),e.NdJ("ngModelChange",function(a){return t.inkMixingLog.UOM=a}),e.qZA()(),e.TgZ(42,"div",19)(43,"label",10),e._uU(44,"SKU Batch Qty "),e._UZ(45,"span",11),e.qZA(),e.TgZ(46,"input",14),e.NdJ("ngModelChange",function(a){return t.inkMixingLog.SKUBatchQty=a}),e.qZA()()()()()()()(),e._UZ(47,"hr",20),e.TgZ(48,"app-setting-header",21),e.NdJ("dataChange",function(a){return t.eventHeader(a)}),e.qZA(),e.TgZ(49,"div",22)(50,"table",23)(51,"thead",24)(52,"tr",25)(53,"th"),e._uU(54,"SN"),e.qZA(),e.TgZ(55,"th"),e._uU(56,"Item Code"),e.qZA(),e.TgZ(57,"th",26),e._uU(58,"Item Name"),e.qZA(),e.TgZ(59,"th",26),e._uU(60,"Item Description"),e.qZA(),e.TgZ(61,"th"),e._uU(62,"Mesh"),e.qZA(),e.TgZ(63,"th"),e._uU(64,"UoM"),e.qZA(),e.TgZ(65,"th"),e._uU(66,"BoM Qty"),e.qZA(),e.TgZ(67,"th"),e._uU(68,"Add New Batch"),e.qZA(),e.TgZ(69,"th"),e._uU(70,"Ink Batch Qty."),e.qZA(),e.TgZ(71,"th"),e._uU(72,"Status"),e.qZA()()(),e.TgZ(73,"tbody"),e.YNc(74,ue,27,22,"tr",27),e.ALo(75,"slice"),e.ALo(76,"searchFi1ter"),e.qZA()()(),e.YNc(77,me,1,0,"hr",28),e.TgZ(78,"div",7)(79,"div",29),e.YNc(80,_e,2,0,"button",30),e.qZA()()()()),2&n&&(e.xp6(17),e.Q6J("ngModel",t.inkMixingLog.jobCardNo),e.xp6(5),e.Q6J("ngModel",t.inkMixingLog.SKUNo),e.xp6(5),e.Q6J("ngModel",t.inkMixingLog.SKUName),e.xp6(7),e.Q6J("ngModel",t.inkMixingLog.SKUDescription),e.xp6(7),e.Q6J("ngModel",t.inkMixingLog.UOM),e.xp6(5),e.Q6J("ngModel",t.inkMixingLog.SKUBatchQty),e.xp6(2),e.Q6J("data",e.l5B(18,he,t.page,t.pageSize,t.collection,t.search)),e.xp6(26),e.Q6J("ngForOf",e.Dn7(75,11,e.xi3(76,15,t.inkMixingLog.inkMixingLogDetails,t.search),(t.page-1)*t.pageSize,(t.page-1)*t.pageSize+t.pageSize))("ngForTrackBy",t.trackByFn),e.xp6(3),e.Q6J("ngIf",!e.DdM(23,G).includes(t.action)),e.xp6(3),e.Q6J("ngIf",!e.DdM(24,G).includes(t.action)))},dependencies:[p.sg,p.O5,w.P,u._L,s.Fj,s.Wl,s.JJ,s.On,p.OU,L.G],encapsulation:2}),l})();var f=g(57656);const V=function(){return{standalone:!0}},R=function(){return["view"]};function Me(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",22,27)(7,"span",28),e._uU(8),e.qZA()(),e.TgZ(9,"td",22,29)(11,"span",28),e._uU(12),e.qZA()(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td")(16,"div",30)(17,"input",31),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.tension=t)}),e.qZA()()(),e.TgZ(18,"td")(19,"div",32),e._UZ(20,"button",33),e.TgZ(21,"button",34),e.NdJ("click",function(){const o=e.CHM(i).$implicit,a=e.oxw();return e.KtG(a.openLogEntryModal(o))}),e._uU(22," Log Entry "),e.qZA()()(),e.TgZ(23,"td")(24,"input",35),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.status=t)}),e.qZA()()()}if(2&r){const i=l.$implicit,n=e.MAs(6),t=e.MAs(10),o=e.oxw();e.xp6(2),e.Oqu(i.SN),e.xp6(2),e.Oqu(i.colourCode),e.xp6(1),e.Udp("width",n.clientWidth),e.xp6(2),e.Q6J("ngbTooltip",i.colourName)("positionTarget",n),e.xp6(1),e.hij(" ",i.colourName," "),e.xp6(1),e.Udp("width",t.clientWidth),e.xp6(2),e.Q6J("ngbTooltip",i.colourDescription)("positionTarget",t),e.xp6(1),e.hij(" ",i.colourDescription," "),e.xp6(2),e.Oqu(i.mesh),e.xp6(3),e.Q6J("ngModel",i.tension)("ngModelOptions",e.DdM(20,V))("readonly","view"===o.action),e.xp6(7),e.Q6J("ngModel",i.status)("ngModelOptions",e.DdM(21,V))("readonly","view"===o.action)("disabled",e.DdM(22,R).includes(o.action))}}function Ce(r,l){1&r&&e._UZ(0,"hr",36)}function ve(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.submit())}),e._uU(1," Save "),e.qZA()}}const be=function(r,l,i,n){return{page:r,pageSize:l,collection:i,search:n,excelDisplay:"none"}};let Pe=(()=>{var r;class l{constructor(n,t,o,a,d,h){this.screenMakingLogService=n,this.spinner=t,this.toastService=o,this.modalService=a,this.location=d,this.activeModal=h,this.selectedDetails={},this.sourceOfManufacturing="",this.action="Awaiting Approval",this.page=1,this.pageSize=5,this.collection=0,this.column="createdAt",this.direction=-1,this.search="",this.screenMakingLog={},this.shiftOptions=[],this.masterData={autoIncrementNo:"",mergeList:[],JCOptions:[]}}dismissModel(){this.activeModal.close()}ngOnInit(){this.getInitialData()}submit(){this.create()}trackByFn(n,t){return t?._id}create(){this.spinner.show(),this.screenMakingLogService.createOrUpdate(this.screenMakingLog).subscribe(n=>{this.spinner.hide(),this.toastService.success(n.message),this.activeModal.close()})}getInitialData(){this.spinner.show(),this.screenMakingLogService.getAllMasterData(this.selectedDetails).subscribe(n=>{this.screenMakingLog=n.screenMakingLog,(0==n?.screenMakingLog?.screenMakingLogDetails?.length||!n?.screenMakingLog?.screenMakingLogDetails)&&this.toastService.warning(`Please define SKU Ink Master & BOM Of SKUNo -  ${this.screenMakingLog.SKUNo}`),this.shiftOptions=n.shiftOptions,this.collection=this.screenMakingLog?.screenMakingLogDetails?.length,this.spinner.hide()})}eventHeader(n){switch(n.key){case"SEARCH":this.search=n.value;break;case"EXCEL":default:break;case"PAGE":this.page=n.value}}openLogEntryModal(n){const t=this.modalService.open(j.M,{centered:!0,size:"md",backdrop:"static",keyboard:!1});t.componentInstance.action=this.action,t.componentInstance.logDetails=n.logDetails,t.componentInstance.sourceOfManufacturing=this.sourceOfManufacturing,t.componentInstance.shiftOptions=this.shiftOptions,t.result.then(o=>{if(o){let a=this.screenMakingLog.screenMakingLogDetails.findIndex(d=>d.ink==n.ink);this.screenMakingLog.screenMakingLogDetails[a].logDetails=o}},o=>{})}}return(r=l).\u0275fac=function(n){return new(n||r)(e.Y36(f.M6),e.Y36(c.V),e.Y36(c.kl),e.Y36(u.FF),e.Y36(p.Ye),e.Y36(u.Kz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-screen-making-log-form"]],inputs:{selectedDetails:"selectedDetails",sourceOfManufacturing:"sourceOfManufacturing",action:"action"},decls:63,vars:23,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container"],[1,"form-body","my-4"],[1,"row"],[1,"col-5","pe-0"],[1,"col-6","pe-3"],["for","",1,"form-label"],["type","text","readonly","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-6"],[1,"text-danger"],[1,"col-7","ps-5"],[1,"col-6","ps-4","pe-2"],[1,"row","line-border"],[3,"data","dataChange"],[1,"table-responsive",2,"min-height","20rem"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],[1,"text-start"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","row line-border mt-4",4,"ngIf"],[1,"col-12","d-flex","justify-content-center","mb-3"],["type","button","class","btn bg-primary px-5",3,"click",4,"ngIf"],["colourName",""],[1,"pointer",3,"ngbTooltip","positionTarget"],["colourDescription",""],[1,"d-flex","justify-content-center"],["type","text",1,"form-control","form-control-size-sm","w-25",3,"ngModel","ngModelOptions","readonly","ngModelChange"],[1,"d-flex","justify-content-center","align-items-center"],[1,"plusIconSvg","btn","btn-primary","me-1","py-0","px-0"],["type","button",1,"btn","btn-primary","form-btn-sm","py-0",3,"click"],["type","checkbox",1,"form-check-input","pointer",3,"ngModel","ngModelOptions","readonly","disabled","ngModelChange"],[1,"row","line-border","mt-4"],["type","button",1,"btn","bg-primary","px-5",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Screen Making Log"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return t.activeModal.close()}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",7)(12,"div",9)(13,"label",10),e._uU(14,"Job Card No. "),e.qZA(),e.TgZ(15,"input",11),e.NdJ("ngModelChange",function(a){return t.screenMakingLog.jobCardNo=a}),e.qZA()(),e.TgZ(16,"div",12)(17,"label",10),e._uU(18,"SKU No. "),e._UZ(19,"span",13),e.qZA(),e.TgZ(20,"input",11),e.NdJ("ngModelChange",function(a){return t.screenMakingLog.SKUNo=a}),e.qZA()()()(),e.TgZ(21,"div",14)(22,"div",7)(23,"div",15)(24,"label",10),e._uU(25,"SKU Name "),e._UZ(26,"span",13),e.qZA(),e.TgZ(27,"input",11),e.NdJ("ngModelChange",function(a){return t.screenMakingLog.SKUName=a}),e.qZA()(),e.TgZ(28,"div",12)(29,"label",10),e._uU(30," SKU Description "),e._UZ(31,"span",13),e.qZA(),e.TgZ(32,"input",11),e.NdJ("ngModelChange",function(a){return t.screenMakingLog.SKUDescription=a}),e.qZA()()()()()(),e._UZ(33,"hr",16),e.TgZ(34,"app-setting-header",17),e.NdJ("dataChange",function(a){return t.eventHeader(a)}),e.qZA(),e.TgZ(35,"div",18)(36,"table",19)(37,"thead",20)(38,"tr",21)(39,"th"),e._uU(40,"SN"),e.qZA(),e.TgZ(41,"th"),e._uU(42,"Colour Code"),e.qZA(),e.TgZ(43,"th",22),e._uU(44,"Colour Name"),e.qZA(),e.TgZ(45,"th",22),e._uU(46,"Colour Description"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"Mesh"),e.qZA(),e.TgZ(49,"th"),e._uU(50,"Tension N/cm"),e.qZA(),e.TgZ(51,"th"),e._uU(52,"Log Details"),e.qZA(),e.TgZ(53,"th"),e._uU(54,"Status"),e.qZA()()(),e.TgZ(55,"tbody"),e.YNc(56,Me,25,23,"tr",23),e.ALo(57,"slice"),e.ALo(58,"searchFi1ter"),e.qZA()()(),e.YNc(59,Ce,1,0,"hr",24),e.TgZ(60,"div",7)(61,"div",25),e.YNc(62,ve,2,0,"button",26),e.qZA()()()()),2&n&&(e.xp6(15),e.Q6J("ngModel",t.screenMakingLog.jobCardNo),e.xp6(5),e.Q6J("ngModel",t.screenMakingLog.SKUNo),e.xp6(7),e.Q6J("ngModel",t.screenMakingLog.SKUName),e.xp6(5),e.Q6J("ngModel",t.screenMakingLog.SKUDescription),e.xp6(2),e.Q6J("data",e.l5B(16,be,t.page,t.pageSize,t.collection,t.search)),e.xp6(22),e.Q6J("ngForOf",e.Dn7(57,9,e.xi3(58,13,t.screenMakingLog.screenMakingLogDetails,t.search),(t.page-1)*t.pageSize,(t.page-1)*t.pageSize+t.pageSize))("ngForTrackBy",t.trackByFn),e.xp6(3),e.Q6J("ngIf",!e.DdM(21,R).includes(t.action)),e.xp6(3),e.Q6J("ngIf",!e.DdM(22,R).includes(t.action)))},dependencies:[p.sg,p.O5,w.P,u._L,s.Fj,s.Wl,s.JJ,s.On,p.OU,L.G],encapsulation:2}),l})();var C=g(25116),M=g(50363);const b=function(){return["view","approve"]};function Ie(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"div",37)(1,"div",16)(2,"div",17)(3,"div",18)(4,"input",38),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.inspectionDate=t)}),e.qZA()(),e.TgZ(5,"div",20)(6,"ng-select",39),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.shift=t)}),e.qZA()()()(),e.TgZ(7,"div",21)(8,"div",17)(9,"div",22)(10,"input",32),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.inspectionStaff=t)}),e.qZA()(),e.TgZ(11,"div",20)(12,"input",40),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.releaseQty=t)})("input",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.calCumulativeCount())}),e.qZA()()()()()}if(2&r){const i=l.$implicit,n=e.oxw();e.xp6(4),e.Q6J("ngModel",i.inspectionDate)("disabled",e.DdM(10,b).includes(n.action)),e.xp6(2),e.Q6J("items",n.shiftOptions)("clearable",!1)("ngModel",i.shift)("disabled",e.DdM(11,b).includes(n.action)),e.xp6(4),e.Q6J("ngModel",i.inspectionStaff)("disabled",e.DdM(12,b).includes(n.action)),e.xp6(2),e.Q6J("ngModel",i.releaseQty)("disabled",e.DdM(13,b).includes(n.action))}}function ye(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"div",41)(1,"button",42),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.submit())}),e._uU(2,"Save & Close"),e.qZA()()}}const Ae=function(){return["create","edit"]};let Ze=(()=>{var r;class l{constructor(n,t,o,a,d){this.activeModal=n,this.utilityService=t,this.genericIPQAProcessService=o,this.spinner=a,this.toastService=d,this.action="create",this.shiftOptions=[],this.selectedDetails={},this.sourceOfMfg=C.mt,this.genericIPQA={IPQALog:{prodSource:null,cumulativeCount:0,remarks:null,qualityReleasedBy:null,logEntryDetails:[{inspectionDate:this.utilityService.getTodayDate("YYYY-MM-DD"),shift:null,inspectionStaff:null,releaseQty:null}]}}}ngOnInit(){this.action=this.action??"create",this.getInitialData()}submit(){this.genericIPQA.IPQALog.cumulativeCount?(this.genericIPQA.processType=this.selectedDetails?.processOriginalName,this.genericIPQA.jobCard=this.selectedDetails?.jobCard,this.genericIPQA.jobCardNo=this.selectedDetails?.jobCardNo,this.genericIPQA.SKUNo=this.selectedDetails?.SKUNo,this.genericIPQA.SKU=this.selectedDetails?.SKU,this.genericIPQA.SKUName=this.selectedDetails?.SKUName,this.genericIPQA.SKUDescription=this.selectedDetails?.SKUDescription,this.create()):this.toastService.warning("Pls Fill the Details !!")}create(){this.spinner.show(),this.genericIPQAProcessService.createOrUpdate(this.genericIPQA).subscribe(n=>{this.spinner.hide(),this.toastService.success(n.message),this.activeModal.close(this.genericIPQA)})}deleteTableRow(){["create","edit"].includes(this.action)&&this.genericIPQA?.IPQALog?.logEntryDetails.length>1&&(this.genericIPQA.IPQALog.logEntryDetails.pop(),this.calCumulativeCount())}addTableRow(){["create","edit"].includes(this.action)&&this.genericIPQA.IPQALog.logEntryDetails.push({inspectionDate:this.utilityService.getTodayDate("YYYY-MM-DD"),shift:"",inspectionStaff:"",releaseQty:null})}calCumulativeCount(){let n=this.genericIPQA?.IPQALog?.logEntryDetails?.reduce((t,o)=>+t+ +o.releaseQty,0);this.genericIPQA.IPQALog.cumulativeCount=+n.toFixed(2)}getInitialData(){this.spinner.show(),this.genericIPQAProcessService.getAllMasterData(this.selectedDetails).subscribe(n=>{this.shiftOptions=n.shiftOptions,this.genericIPQA=n.genericIPQA,this.genericIPQA?.IPQALog?.logEntryDetails?.length>0&&(this.genericIPQA.IPQALog.logEntryDetails=JSON.parse(JSON.stringify(this.genericIPQA.IPQALog.logEntryDetails))?.map(t=>(t.inspectionDate&&(t.inspectionDate=this.utilityService.getFormatDate(t.inspectionDate,"YYYY-MM-DD")),t))),this.spinner.hide()})}}return(r=l).\u0275fac=function(n){return new(n||r)(e.Y36(u.Kz),e.Y36(c.tI),e.Y36(f.OR),e.Y36(c.V),e.Y36(c.kl))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-generic-ipqa-process-model"]],viewQuery:function(n,t){if(1&n&&e.Gf(_.j,5),2&n){let o;e.iGM(o=e.CRH())&&(t.headers=o)}},inputs:{action:"action",shiftOptions:"shiftOptions",selectedDetails:"selectedDetails"},decls:70,vars:17,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container-fluid","mt-4","px-0"],[1,"row","mx-4","px-3"],[1,"col-6"],[1,"d-flex","align-items-center"],[1,"col-form-label","text-nowrap","col-4"],[1,"ms-1","me-2"],[1,"col-7","ps-1"],["bindLabel","sourceOfMfg","bindValue","sourceOfMfg",3,"items","clearable","ngModel","disabled","ngModelChange"],[1,"col-form-label","text-nowrap"],["type","number","readonly","",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"line-border"],[1,"col-6","pe-1"],[1,"row"],[1,"col-7","pe-1"],[1,"form-label"],[1,"col-5","ps-0"],[1,"col-6","ps-1"],[1,"col-7","pe-1","ps-4"],["class","row mx-4 px-3 mb-2",4,"ngFor","ngForOf"],[1,"row","mt-4","mb-2","px-5","mx-1"],[1,"col-12","set-image","px-0","seperate-row"],[1,"add-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/add_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"minus-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/delete_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"row","mx-4","px-3",2,"min-height","10rem"],[1,"col-12"],["type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col","mt-1"],[1,"row","mb-4","mt-2","mx-4","px-3"],[1,"col-6","pe-0"],["class","col-6 d-flex justify-content-end",4,"ngIf"],[1,"row","mx-4","px-3","mb-2"],["type","date",1,"form-control",3,"ngModel","disabled","ngModelChange"],["bindLabel","parameterName","bindValue","parameterLabel",3,"items","clearable","ngModel","disabled","ngModelChange"],["type","number",1,"form-control",3,"ngModel","disabled","ngModelChange","input"],[1,"col-6","d-flex","justify-content-end"],["type","button",1,"btn","btn-primary","px-4",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"IPQA"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return t.activeModal.close()}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),e._uU(12," Prod. Source "),e.TgZ(13,"span",10),e._uU(14,"\u25b6"),e.qZA()(),e.TgZ(15,"div",11)(16,"ng-select",12),e.NdJ("ngModelChange",function(a){return t.genericIPQA.IPQALog.prodSource=a}),e.qZA()()()(),e.TgZ(17,"div",7)(18,"div",8)(19,"div",13),e._uU(20," Cumulative Count "),e.TgZ(21,"span",10),e._uU(22,"\u25b6"),e.qZA()(),e.TgZ(23,"input",14),e.NdJ("ngModelChange",function(a){return t.genericIPQA.IPQALog.cumulativeCount=a}),e.qZA()()()(),e._UZ(24,"hr",15),e.TgZ(25,"div",6)(26,"div",16)(27,"div",17)(28,"div",18)(29,"label",19),e._uU(30,"Inspection Date"),e.qZA()(),e.TgZ(31,"div",20)(32,"label",19),e._uU(33," Shift"),e.qZA()()()(),e.TgZ(34,"div",21)(35,"div",17)(36,"div",22)(37,"label",19),e._uU(38,"Inspection Staff "),e.qZA()(),e.TgZ(39,"div",20)(40,"label",19),e._uU(41,"Release Qty"),e.qZA()()()()(),e.YNc(42,Ie,13,14,"div",23),e.TgZ(43,"div",24)(44,"div",25)(45,"div",26)(46,"img",27),e.NdJ("click",function(){return t.addTableRow()}),e.qZA()(),e._UZ(47,"hr",15),e.TgZ(48,"div",28)(49,"img",29),e.NdJ("click",function(){return t.deleteTableRow()}),e.qZA()()()(),e.TgZ(50,"div",30)(51,"div",31)(52,"div",8)(53,"div",13),e._uU(54," Remarks "),e.TgZ(55,"span",10),e._uU(56,"\u25b6"),e.qZA()(),e.TgZ(57,"input",32),e.NdJ("ngModelChange",function(a){return t.genericIPQA.IPQALog.remarks=a}),e.qZA()()()(),e.TgZ(58,"div",17)(59,"div",33),e._UZ(60,"hr",15),e.qZA()(),e.TgZ(61,"div",34)(62,"div",35)(63,"div",8)(64,"div",13),e._uU(65," Quality Released by "),e.TgZ(66,"span",10),e._uU(67,"\u25b6"),e.qZA()(),e.TgZ(68,"input",32),e.NdJ("ngModelChange",function(a){return t.genericIPQA.IPQALog.qualityReleasedBy=a}),e.qZA()()(),e.YNc(69,ye,3,0,"div",36),e.qZA()()()),2&n&&(e.xp6(16),e.Q6J("items",t.sourceOfMfg)("clearable",!1)("ngModel",t.genericIPQA.IPQALog.prodSource)("disabled",e.DdM(12,b).includes(t.action)),e.xp6(7),e.Q6J("ngModel",t.genericIPQA.IPQALog.cumulativeCount)("disabled",e.DdM(13,b).includes(t.action)),e.xp6(19),e.Q6J("ngForOf",t.genericIPQA.IPQALog.logEntryDetails),e.xp6(15),e.Q6J("ngModel",t.genericIPQA.IPQALog.remarks)("disabled",e.DdM(14,b).includes(t.action)),e.xp6(11),e.Q6J("ngModel",t.genericIPQA.IPQALog.qualityReleasedBy)("disabled",e.DdM(15,b).includes(t.action)),e.xp6(1),e.Q6J("ngIf",e.DdM(16,Ae).includes(t.action)))},dependencies:[p.sg,p.O5,s.Fj,s.wV,s.JJ,s.On,M.w9],styles:[".set-image[_ngcontent-%COMP%]{width:100%;margin-top:-1rem!important}.seperate-row[_ngcontent-%COMP%]{position:relative}.seperate-row[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]{position:absolute;left:-1rem;top:.2rem}.seperate-row[_ngcontent-%COMP%]   .minus-icon[_ngcontent-%COMP%]{position:absolute;right:-1rem;top:.2rem}"]}),l})();function Te(r,l){if(1&r&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&r){const i=l.$implicit;e.Q6J("value",i.value),e.xp6(1),e.hij(" ",i.label," ")}}function Qe(r,l){1&r&&e._UZ(0,"div",43)}function ke(r,l){1&r&&e._UZ(0,"div",44)}const q=function(){return["view","approve"]};function Se(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"div",33)(1,"div",7)(2,"div",8)(3,"div",9)(4,"ng-select",34),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.inspectionType=t)}),e.qZA()(),e.TgZ(5,"div",11)(6,"ng-select",34),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.inspectionParameter=t)}),e.qZA()()()(),e.TgZ(7,"div",12)(8,"div",8)(9,"div",13)(10,"input",35),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.observation=t)}),e.qZA()(),e.TgZ(11,"div",14)(12,"input",35),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.inspectedBy=t)}),e.qZA()(),e.TgZ(13,"div",15)(14,"div",26)(15,"select",36),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.status=t)}),e.TgZ(16,"option",37),e._uU(17,"Select Status"),e.qZA(),e.YNc(18,Te,2,2,"option",38),e.qZA(),e.TgZ(19,"span",39),e.YNc(20,Qe,1,0,"div",40),e.YNc(21,ke,1,0,"div",41),e.qZA()()()()()()}if(2&r){const i=l.$implicit,n=e.oxw();e.xp6(4),e.Q6J("items",n.inspectionTypeOptions)("clearable",!1)("ngModel",i.inspectionType)("disabled",e.DdM(16,q).includes(n.action)),e.xp6(2),e.Q6J("items",n.inspectionParameterOptions)("clearable",!1)("ngModel",i.inspectionParameter)("disabled",e.DdM(17,q).includes(n.action)),e.xp6(4),e.Q6J("ngModel",i.observation)("disabled",e.DdM(18,q).includes(n.action)),e.xp6(2),e.Q6J("ngModel",i.inspectedBy)("disabled",e.DdM(19,q).includes(n.action)),e.xp6(3),e.Q6J("ngModel",i.status),e.xp6(3),e.Q6J("ngForOf",n.statusOptions),e.xp6(2),e.Q6J("ngIf","Pass"==i.status),e.xp6(1),e.Q6J("ngIf","Fail"==i.status)}}let xe=(()=>{var r;class l{constructor(n,t,o,a,d){this.activeModal=n,this.utilityService=t,this.genericIPQCProcessService=o,this.spinner=a,this.toastService=d,this.action="create",this.selectedDetails={},this.inspectionTypeOptions=[],this.inspectionParameterOptions=[],this.statusOptions=[],this.genericIPQC={}}ngOnInit(){this.action=this.action??"create",this.getInitialData()}submit(){this.genericIPQC.processType=this.selectedDetails?.processOriginalName,this.genericIPQC.jobCard=this.selectedDetails?.jobCard,this.genericIPQC.jobCardNo=this.selectedDetails?.jobCardNo,this.genericIPQC.SKUNo=this.selectedDetails?.SKUNo,this.genericIPQC.SKU=this.selectedDetails?.SKU,this.genericIPQC.SKUName=this.selectedDetails?.SKUName,this.genericIPQC.SKUDescription=this.selectedDetails?.SKUDescription,this.create()}create(){this.spinner.show(),this.genericIPQCProcessService.createOrUpdate(this.genericIPQC).subscribe(n=>{this.spinner.hide(),this.toastService.success(n.message),this.activeModal.close()})}getInitialData(){this.spinner.show(),this.genericIPQCProcessService.getAllMasterData(this.selectedDetails).subscribe(n=>{console.log("result",n),this.inspectionTypeOptions=n.inspectionTypeOptions,this.inspectionParameterOptions=n.inspectionParameterOptions,this.statusOptions=n.statusOptions,this.genericIPQC=n.genericIPQC,this.spinner.hide()})}deleteTableRow(){["create","edit"].includes(this.action)&&this.genericIPQC?.IPQCLog.length>1&&this.genericIPQC?.IPQCLog.pop()}addTableRow(){["create","edit"].includes(this.action)&&this.genericIPQC?.IPQCLog.push({inspectionType:null,inspectionParameter:null,observation:null,inspectedBy:null,status:null})}}return(r=l).\u0275fac=function(n){return new(n||r)(e.Y36(u.Kz),e.Y36(c.tI),e.Y36(f.Qr),e.Y36(c.V),e.Y36(c.kl))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-generic-ipqc-process-model"]],viewQuery:function(n,t){if(1&n&&e.Gf(_.j,5),2&n){let o;e.iGM(o=e.CRH())&&(t.headers=o)}},inputs:{action:"action",selectedDetails:"selectedDetails"},decls:49,vars:4,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container-fluid","px-0"],[1,"row","mx-4","mt-4","px-2"],[1,"col-5"],[1,"row"],[1,"col-7","pe-0"],[1,"form-label"],[1,"col-5","px-1"],[1,"col-7","ps-1"],[1,"col-6","pe-1","ps-4"],[1,"col-3","ps-0","pe-1"],[1,"col-3","ps-0"],["class","row mx-4 px-2 mb-2",4,"ngFor","ngForOf"],[1,"row","mt-4","mb-2","px-5","mx-1"],[1,"col-12","set-image","px-0","seperate-row"],[1,"minus-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/delete_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"line-border"],[1,"add-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/add_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"row","d-flex","justify-content-center","mx-4","px-2"],[1,"col-12"],[1,"d-flex","align-items-center"],[1,"col-form-label","text-nowrap"],[1,"ms-1","me-2"],["placeholder","Note down any critical incident/Major defects found during inspection stages","type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"row","mb-4","mt-2","mx-4","px-2"],[1,"col-","d-flex","justify-content-center"],["type","button",1,"btn","btn-primary","px-4",3,"click"],[1,"row","mx-4","px-2","mb-2"],["bindLabel","label","bindValue","value",3,"items","clearable","ngModel","disabled","ngModelChange"],["type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"form-select",3,"ngModel","ngModelChange"],["selected","","disabled","","value","null"],[3,"value",4,"ngFor","ngForOf"],[1,"input-group-text","statusSpanHeight"],["class","statusActive","class","statusActive",4,"ngIf"],["class","statusInActive",4,"ngIf"],[3,"value"],[1,"statusActive"],[1,"statusInActive"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"IPQC - Inprocess Quality Check"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return t.activeModal.close()}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),e._uU(13,"Inspection Type "),e.qZA()(),e.TgZ(14,"div",11)(15,"label",10),e._uU(16,"Inspection Parameter "),e.qZA()()()(),e.TgZ(17,"div",12)(18,"div",8)(19,"div",13)(20,"label",10),e._uU(21,"Observation "),e.qZA()(),e.TgZ(22,"div",14)(23,"label",10),e._uU(24,"Inspected by "),e.qZA()(),e.TgZ(25,"div",15)(26,"label",10),e._uU(27,"Status"),e.qZA()()()()(),e.YNc(28,Se,22,20,"div",16),e.TgZ(29,"div",17)(30,"div",18)(31,"div",19)(32,"img",20),e.NdJ("click",function(){return t.deleteTableRow()}),e.qZA()(),e._UZ(33,"hr",21),e.TgZ(34,"div",22)(35,"img",23),e.NdJ("click",function(){return t.addTableRow()}),e.qZA()()()(),e.TgZ(36,"div",24)(37,"div",25)(38,"div",26)(39,"div",27),e._uU(40," Remarks "),e.TgZ(41,"span",28),e._uU(42,"\u25b6"),e.qZA()(),e.TgZ(43,"input",29),e.NdJ("ngModelChange",function(a){return t.genericIPQC.remarks=a}),e.qZA()()()(),e._UZ(44,"hr",21),e.TgZ(45,"div",30)(46,"div",31)(47,"button",32),e.NdJ("click",function(){return t.submit()}),e._uU(48,"Save & Close"),e.qZA()()()()()),2&n&&(e.xp6(28),e.Q6J("ngForOf",t.genericIPQC.IPQCLog),e.xp6(15),e.Q6J("ngModel",t.genericIPQC.remarks)("disabled",e.DdM(3,q).includes(t.action)))},dependencies:[p.sg,p.O5,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.On,M.w9],styles:[".set-image[_ngcontent-%COMP%]{width:100%;margin-top:-1rem!important}.seperate-row[_ngcontent-%COMP%]{position:relative}.seperate-row[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]{position:absolute;right:-1rem;top:.2rem}.seperate-row[_ngcontent-%COMP%]   .minus-icon[_ngcontent-%COMP%]{position:absolute;left:-1rem;top:.2rem}.set-prod-status[_ngcontent-%COMP%]{border:solid 1px #d6cdcd!important}"]}),l})();const U=function(){return["view","approve"]};function Ue(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"div",38)(1,"div",16)(2,"div",17)(3,"div",18)(4,"input",39),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.prodDate=t)}),e.qZA()(),e.TgZ(5,"div",20)(6,"ng-select",40),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.prodShift=t)}),e.qZA()()()(),e.TgZ(7,"div",21)(8,"div",22)(9,"div",23)(10,"input",33),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.operatingStaff=t)}),e.qZA()(),e.TgZ(11,"div",20)(12,"input",41),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.prodQty=t)})("input",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.calCumulativeCount())}),e.qZA()()()()()}if(2&r){const i=l.$implicit,n=e.oxw();e.xp6(4),e.Q6J("ngModel",i.prodDate),e.xp6(2),e.Q6J("items",n.shiftOptions)("clearable",!1)("ngModel",i.prodShift)("disabled",e.DdM(9,U).includes(n.action)),e.xp6(4),e.Q6J("ngModel",i.operatingStaff)("disabled",e.DdM(10,U).includes(n.action)),e.xp6(2),e.Q6J("ngModel",i.prodQty)("disabled",e.DdM(11,U).includes(n.action))}}function De(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"div",42)(1,"button",43),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.submit())}),e._uU(2,"Save & Close"),e.qZA()()}}const we=function(){return["create","edit"]};let Le=(()=>{var r;class l{constructor(n,t,o,a,d){this.activeModal=n,this.utilityService=t,this.genericProductionProcessService=o,this.spinner=a,this.toastService=d,this.action="create",this.shiftOptions=[],this.jobCardDetails={},this.sourceOfMfg=C.mt,this.genericProduction={prodLog:{prodSource:null,cumulativeCount:0,remarks:null,prodAuthorizedBy:null,logEntryDetails:[{prodDate:this.utilityService.getTodayDate("YYYY-MM-DD"),prodShift:null,operatingStaff:null,prodQty:null}]}}}ngOnInit(){console.log("action",this.action),this.action=this.action??"create",this.getInitialData()}submit(){this.genericProduction.prodLog.cumulativeCount?(this.genericProduction.processType=this.jobCardDetails?.processOriginalName,this.genericProduction.jobCard=this.jobCardDetails?.jobCard,this.genericProduction.jobCardNo=this.jobCardDetails?.jobCardNo,this.genericProduction.SKUNo=this.jobCardDetails?.SKUNo,this.genericProduction.SKU=this.jobCardDetails?.SKU,this.genericProduction.SKUName=this.jobCardDetails?.SKUName,this.genericProduction.SKUDescription=this.jobCardDetails?.SKUDescription,this.create()):this.toastService.warning("Pls Fill the Details !!")}create(){this.spinner.show(),this.genericProductionProcessService.createOrUpdate(this.genericProduction).subscribe(n=>{this.spinner.hide(),this.toastService.success(n.message),this.activeModal.close(this.genericProduction)})}deleteTableRow(){["create","edit"].includes(this.action)&&this.genericProduction.prodLog.logEntryDetails.length>1&&(this.genericProduction.prodLog.logEntryDetails.pop(),this.calCumulativeCount())}addTableRow(){["create","edit"].includes(this.action)&&this.genericProduction.prodLog.logEntryDetails.push({prodDate:this.utilityService.getTodayDate("YYYY-MM-DD"),prodShift:"",operatingStaff:"",prodQty:null})}calCumulativeCount(){let n=this.genericProduction.prodLog.logEntryDetails.reduce((t,o)=>+t+ +o.prodQty,0);this.genericProduction.prodLog.cumulativeCount=+n.toFixed(2)}getInitialData(){this.spinner.show(),this.genericProductionProcessService.getAllMasterData(this.jobCardDetails).subscribe(n=>{this.shiftOptions=n.shiftOptions,this.genericProduction=n.genericProduction,this.genericProduction?.prodLog?.logEntryDetails?.length>0&&(this.genericProduction.prodLog.logEntryDetails=JSON.parse(JSON.stringify(this.genericProduction.prodLog.logEntryDetails))?.map(t=>(t.prodDate&&(t.prodDate=this.utilityService.getFormatDate(t.prodDate,"YYYY-MM-DD")),t))),this.spinner.hide()})}}return(r=l).\u0275fac=function(n){return new(n||r)(e.Y36(u.Kz),e.Y36(c.tI),e.Y36(f.NV),e.Y36(c.V),e.Y36(c.kl))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-generic-production-process-model"]],viewQuery:function(n,t){if(1&n&&e.Gf(_.j,5),2&n){let o;e.iGM(o=e.CRH())&&(t.headers=o)}},inputs:{action:"action",shiftOptions:"shiftOptions",jobCardDetails:"jobCardDetails"},decls:70,vars:15,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container-fluid","mt-4","px-0"],[1,"row","mx-4","px-3"],[1,"col-6"],[1,"d-flex","align-items-center"],[1,"col-form-label","text-nowrap","col-4"],[1,"ms-1","me-2"],[1,"col-7","ps-1"],["bindLabel","sourceOfMfg","bindValue","sourceOfMfg",3,"items","clearable","ngModel","disabled","ngModelChange"],[1,"col-form-label","text-nowrap"],["type","number","readonly","",1,"form-control",3,"ngModel","ngModelChange"],[1,"line-border"],[1,"col-6","pe-1"],[1,"row"],[1,"col-7","pe-1"],[1,"form-label"],[1,"col-5","ps-0"],[1,"col-6","ps-1"],[1,"row","ps-1"],[1,"col-7","pe-1","ps-4"],["class","row mx-4 px-3 mb-2",4,"ngFor","ngForOf"],[1,"row","mt-4","mb-2","px-5","mx-1"],[1,"col-12","set-image","px-0","seperate-row"],[1,"add-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/add_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"minus-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/delete_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"row","mx-4","px-3",2,"min-height","10rem"],[1,"col-12"],["type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col","mt-1"],[1,"row","mb-4","mt-2","mx-4","px-3"],[1,"col-6","pe-0"],["class","col-6 d-flex justify-content-end",4,"ngIf"],[1,"row","mx-4","px-3","mb-2"],["type","date",1,"form-control",3,"ngModel","ngModelChange"],["bindLabel","parameterName","bindValue","parameterLabel",3,"items","clearable","ngModel","disabled","ngModelChange"],["type","number",1,"form-control",3,"ngModel","disabled","ngModelChange","input"],[1,"col-6","d-flex","justify-content-end"],["type","button",1,"btn","btn-primary","px-4",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Production Info"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return t.activeModal.close()}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),e._uU(12," Prod. Source "),e.TgZ(13,"span",10),e._uU(14,"\u25b6"),e.qZA()(),e.TgZ(15,"div",11)(16,"ng-select",12),e.NdJ("ngModelChange",function(a){return t.genericProduction.prodLog.prodSource=a}),e.qZA()()()(),e.TgZ(17,"div",7)(18,"div",8)(19,"div",13),e._uU(20," Cumulative Count "),e.TgZ(21,"span",10),e._uU(22,"\u25b6"),e.qZA()(),e.TgZ(23,"input",14),e.NdJ("ngModelChange",function(a){return t.genericProduction.prodLog.cumulativeCount=a}),e.qZA()()()(),e._UZ(24,"hr",15),e.TgZ(25,"div",6)(26,"div",16)(27,"div",17)(28,"div",18)(29,"label",19),e._uU(30,"Prod. Date"),e.qZA()(),e.TgZ(31,"div",20)(32,"label",19),e._uU(33,"Prod. Shift"),e.qZA()()()(),e.TgZ(34,"div",21)(35,"div",22)(36,"div",23)(37,"label",19),e._uU(38,"Operating Staff "),e.qZA()(),e.TgZ(39,"div",20)(40,"label",19),e._uU(41,"Prod. Qty"),e.qZA()()()()(),e.YNc(42,Ue,13,12,"div",24),e.TgZ(43,"div",25)(44,"div",26)(45,"div",27)(46,"img",28),e.NdJ("click",function(){return t.addTableRow()}),e.qZA()(),e._UZ(47,"hr",15),e.TgZ(48,"div",29)(49,"img",30),e.NdJ("click",function(){return t.deleteTableRow()}),e.qZA()()()(),e.TgZ(50,"div",31)(51,"div",32)(52,"div",8)(53,"div",13),e._uU(54," Remarks "),e.TgZ(55,"span",10),e._uU(56,"\u25b6"),e.qZA()(),e.TgZ(57,"input",33),e.NdJ("ngModelChange",function(a){return t.genericProduction.prodLog.remarks=a}),e.qZA()()()(),e.TgZ(58,"div",17)(59,"div",34),e._UZ(60,"hr",15),e.qZA()(),e.TgZ(61,"div",35)(62,"div",36)(63,"div",8)(64,"div",13),e._uU(65," Prod. Authorised by "),e.TgZ(66,"span",10),e._uU(67,"\u25b6"),e.qZA()(),e.TgZ(68,"input",33),e.NdJ("ngModelChange",function(a){return t.genericProduction.prodLog.prodAuthorizedBy=a}),e.qZA()()(),e.YNc(69,De,3,0,"div",37),e.qZA()()()),2&n&&(e.xp6(16),e.Q6J("items",t.sourceOfMfg)("clearable",!1)("ngModel",t.genericProduction.prodLog.prodSource)("disabled",e.DdM(11,U).includes(t.action)),e.xp6(7),e.Q6J("ngModel",t.genericProduction.prodLog.cumulativeCount),e.xp6(19),e.Q6J("ngForOf",t.genericProduction.prodLog.logEntryDetails),e.xp6(15),e.Q6J("ngModel",t.genericProduction.prodLog.remarks)("disabled",e.DdM(12,U).includes(t.action)),e.xp6(11),e.Q6J("ngModel",t.genericProduction.prodLog.prodAuthorizedBy)("disabled",e.DdM(13,U).includes(t.action)),e.xp6(1),e.Q6J("ngIf",e.DdM(14,we).includes(t.action)))},dependencies:[p.sg,p.O5,s.Fj,s.wV,s.JJ,s.On,M.w9],styles:[".set-image[_ngcontent-%COMP%]{width:100%;margin-top:-1rem!important}.seperate-row[_ngcontent-%COMP%]{position:relative}.seperate-row[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]{position:absolute;left:-1rem;top:.2rem}.seperate-row[_ngcontent-%COMP%]   .minus-icon[_ngcontent-%COMP%]{position:absolute;right:-1rem;top:.2rem}"]}),l})();var qe=g(77203),Oe=g(62305);const O=function(){return{standalone:!0}},Je=function(){return["view","approve"]};function Ne(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",22,27)(7,"span",28),e._uU(8),e.qZA()(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"div",29)(13,"input",30),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.machine=t)}),e.qZA()()(),e.TgZ(14,"td")(15,"div",29)(16,"input",31),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.ptgPass=t)}),e.qZA()()(),e.TgZ(17,"td")(18,"div",29)(19,"input",31),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.SQGPerSH=t)}),e.qZA()()(),e.TgZ(20,"td")(21,"div",29)(22,"input",31),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.deltaE=t)}),e.qZA()()(),e.TgZ(23,"td")(24,"div",32),e._UZ(25,"button",33),e.TgZ(26,"button",34),e.NdJ("click",function(){const o=e.CHM(i).$implicit,a=e.oxw();return e.KtG(a.openLogEntryModal(o))}),e._uU(27," Log Entry "),e.qZA()()(),e.TgZ(28,"td")(29,"input",35),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.status=t)}),e.qZA()()()}if(2&r){const i=l.$implicit,n=e.MAs(6),t=e.oxw();e.xp6(2),e.Oqu(i.SN),e.xp6(2),e.Oqu(i.colourCode),e.xp6(1),e.Udp("width",n.clientWidth),e.xp6(2),e.Q6J("ngbTooltip",i.colourName)("positionTarget",n),e.xp6(1),e.hij(" ",i.colourName," "),e.xp6(2),e.Oqu(i.mesh),e.xp6(3),e.Q6J("ngModel",i.machine)("ngModelOptions",e.DdM(24,O))("readonly","view"===t.action),e.xp6(3),e.Q6J("ngModel",i.ptgPass)("ngModelOptions",e.DdM(25,O))("readonly","view"===t.action),e.xp6(3),e.Q6J("ngModel",i.SQGPerSH)("ngModelOptions",e.DdM(26,O))("readonly","view"===t.action),e.xp6(3),e.Q6J("ngModel",i.deltaE)("ngModelOptions",e.DdM(27,O))("readonly","view"===t.action),e.xp6(7),e.Q6J("ngModel",i.status)("ngModelOptions",e.DdM(28,O))("readonly","view"===t.action)("disabled",e.DdM(29,Je).includes(t.action))}}function Ee(r,l){1&r&&e._UZ(0,"hr",36)}function Ke(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.submit())}),e._uU(1," Save "),e.qZA()}}const Ye=function(r,l,i,n){return{page:r,pageSize:l,collection:i,search:n,excelDisplay:"none"}},Fe=function(){return["view"]},je=function(){return["reject","Acknowledged","approve","view"]};let Ge=(()=>{var r;class l{constructor(n,t,o,a,d,h){this.screenPrintingLogService=n,this.spinner=t,this.toastService=o,this.modalService=a,this.location=d,this.activeModal=h,this.selectedDetails={},this.sourceOfManufacturing="",this.action="Awaiting Approval",this.page=1,this.pageSize=5,this.collection=0,this.column="createdAt",this.direction=-1,this.search="",this.screenPrintingLog={},this.shiftOptions=[],this.masterData={autoIncrementNo:"",mergeList:[],JCOptions:[]}}dismissModel(){this.activeModal.close()}ngOnInit(){this.getInitialData()}submit(){this.create()}trackByFn(n,t){return t?._id}create(){this.spinner.show(),this.screenPrintingLogService.createOrUpdate(this.screenPrintingLog).subscribe(n=>{this.spinner.hide(),this.toastService.success(n.message),this.activeModal.close()})}getInitialData(){this.spinner.show(),this.screenPrintingLogService.getAllMasterData(this.selectedDetails).subscribe(n=>{this.screenPrintingLog=n.screenPrintingLog,(0==n?.screenPrintingLog?.screenPrintingLogDetails?.length||!n?.screenPrintingLog?.screenPrintingLogDetails)&&this.toastService.warning(`Please define SKU Ink Master & BOM Of SKUNo -  ${this.screenPrintingLog.SKUNo}`),this.shiftOptions=n.shiftOptions,this.collection=this.screenPrintingLog?.screenPrintingLogDetails?.length,this.spinner.hide()})}eventHeader(n){switch(n.key){case"SEARCH":this.search=n.value;break;case"EXCEL":default:break;case"PAGE":this.page=n.value}}openLogEntryModal(n){const t=this.modalService.open(Oe.c,{centered:!0,size:"md",backdrop:"static",keyboard:!1});t.componentInstance.action=this.action,t.componentInstance.logDetails=n.logDetails,t.componentInstance.sourceOfManufacturing=this.sourceOfManufacturing,t.componentInstance.shiftOptions=this.shiftOptions,t.result.then(o=>{if(o){let a=this.screenPrintingLog.screenPrintingLogDetails.findIndex(d=>d.ink==n.ink);this.screenPrintingLog.screenPrintingLogDetails[a].logDetails=o}},o=>{})}}return(r=l).\u0275fac=function(n){return new(n||r)(e.Y36(f.Ek),e.Y36(c.V),e.Y36(c.kl),e.Y36(u.FF),e.Y36(p.Ye),e.Y36(u.Kz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-screen-printing-log-model"]],inputs:{selectedDetails:"selectedDetails",sourceOfManufacturing:"sourceOfManufacturing",action:"action"},decls:67,vars:23,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container"],[1,"form-body","my-4"],[1,"row"],[1,"col-5","pe-0"],[1,"col-6","pe-2"],["for","",1,"form-label"],["type","text","readonly","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-6"],[1,"text-danger"],[1,"col-7","ps-5"],[1,"col-6","ps-4","pe-2"],[1,"row","line-border"],[3,"data","dataChange"],[1,"table-responsive",2,"min-height","20rem"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],[1,"text-start"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","row line-border mt-4",4,"ngIf"],[1,"col-12","d-flex","justify-content-center","mb-3"],["type","button","class","btn bg-primary px-5",3,"click",4,"ngIf"],["colourName",""],[1,"pointer",3,"ngbTooltip","positionTarget"],[1,"d-flex","justify-content-center"],["type","text",1,"form-control","form-control-size-sx","w-25","bg-yellow-color","text-center",3,"ngModel","ngModelOptions","readonly","ngModelChange"],["type","number",1,"form-control","form-control-size-sx","w-25","bg-yellow-color","text-center",3,"ngModel","ngModelOptions","readonly","ngModelChange"],[1,"d-flex","justify-content-center","align-items-center"],[1,"plusIconSvg","btn","btn-primary","me-1","py-0","px-0"],["type","button",1,"btn","btn-primary","form-btn-sm","py-0",3,"click"],["type","checkbox",1,"form-check-input","pointer",3,"ngModel","ngModelOptions","readonly","disabled","ngModelChange"],[1,"row","line-border","mt-4"],["type","button",1,"btn","bg-primary","px-5",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Screen Printing Log"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return t.activeModal.close()}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",7)(12,"div",9)(13,"label",10),e._uU(14,"Job Card No. "),e.qZA(),e.TgZ(15,"input",11),e.NdJ("ngModelChange",function(a){return t.screenPrintingLog.jobCardNo=a}),e.qZA()(),e.TgZ(16,"div",12)(17,"label",10),e._uU(18,"SKU No. "),e._UZ(19,"span",13),e.qZA(),e.TgZ(20,"input",11),e.NdJ("ngModelChange",function(a){return t.screenPrintingLog.SKUNo=a}),e.qZA()()()(),e.TgZ(21,"div",14)(22,"div",7)(23,"div",15)(24,"label",10),e._uU(25,"SKU Name "),e._UZ(26,"span",13),e.qZA(),e.TgZ(27,"input",11),e.NdJ("ngModelChange",function(a){return t.screenPrintingLog.SKUName=a}),e.qZA()(),e.TgZ(28,"div",12)(29,"label",10),e._uU(30," SKU Description "),e._UZ(31,"span",13),e.qZA(),e.TgZ(32,"input",11),e.NdJ("ngModelChange",function(a){return t.screenPrintingLog.SKUDescription=a}),e.qZA()()()()()(),e._UZ(33,"hr",16),e.TgZ(34,"app-setting-header",17),e.NdJ("dataChange",function(a){return t.eventHeader(a)}),e.qZA(),e.TgZ(35,"div",18)(36,"table",19)(37,"thead",20)(38,"tr",21)(39,"th"),e._uU(40,"SN"),e.qZA(),e.TgZ(41,"th"),e._uU(42,"Colour Code"),e.qZA(),e.TgZ(43,"th",22),e._uU(44,"Colour Name"),e.qZA(),e.TgZ(45,"th"),e._uU(46,"Mesh"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"M/c"),e.qZA(),e.TgZ(49,"th"),e._uU(50,"Ptg Pass"),e.qZA(),e.TgZ(51,"th"),e._uU(52,"SQG/SH"),e.qZA(),e.TgZ(53,"th"),e._uU(54,"\u25b3 E"),e.qZA(),e.TgZ(55,"th"),e._uU(56,"Log Details"),e.qZA(),e.TgZ(57,"th"),e._uU(58,"Status"),e.qZA()()(),e.TgZ(59,"tbody"),e.YNc(60,Ne,30,30,"tr",23),e.ALo(61,"slice"),e.ALo(62,"searchFi1ter"),e.qZA()()(),e.YNc(63,Ee,1,0,"hr",24),e.TgZ(64,"div",7)(65,"div",25),e.YNc(66,Ke,2,0,"button",26),e.qZA()()()()),2&n&&(e.xp6(15),e.Q6J("ngModel",t.screenPrintingLog.jobCardNo),e.xp6(5),e.Q6J("ngModel",t.screenPrintingLog.SKUNo),e.xp6(7),e.Q6J("ngModel",t.screenPrintingLog.SKUName),e.xp6(5),e.Q6J("ngModel",t.screenPrintingLog.SKUDescription),e.xp6(2),e.Q6J("data",e.l5B(16,Ye,t.page,t.pageSize,t.collection,t.search)),e.xp6(26),e.Q6J("ngForOf",e.Dn7(61,9,e.xi3(62,13,t.screenPrintingLog.screenPrintingLogDetails,t.search),(t.page-1)*t.pageSize,(t.page-1)*t.pageSize+t.pageSize))("ngForTrackBy",t.trackByFn),e.xp6(3),e.Q6J("ngIf",!e.DdM(21,Fe).includes(t.action)),e.xp6(3),e.Q6J("ngIf",!e.DdM(22,je).includes(t.action)))},dependencies:[p.sg,p.O5,w.P,u._L,s.Fj,s.wV,s.Wl,s.JJ,s.On,p.OU,L.G],encapsulation:2}),l})();var Re=g(65468),Be=g(22081),He=g(59103);function $e(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"div",47),e.NdJ("click",function(){e.CHM(i);const t=e.oxw().$implicit,o=e.oxw();return e.KtG(o.setUnit(t))}),e.qZA()}}function ze(r,l){1&r&&e._UZ(0,"div",48)}function Ve(r,l){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw().$implicit;e.xp6(1),e.Oqu(i.GTQty)}}const W=function(){return{standalone:!0}};function We(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"input",49),e.NdJ("input",function(){e.CHM(i);const t=e.oxw().$implicit,o=e.oxw();return e.KtG(o.setGTQty(t))})("ngModelChange",function(t){e.CHM(i);const o=e.oxw().$implicit;return e.KtG(o.GTQty=t)}),e.qZA()}if(2&r){const i=e.oxw().$implicit,n=e.oxw();e.Q6J("ngModel",i.GTQty)("ngModelOptions",e.DdM(3,W))("readonly","view"===n.action)}}const Xe=function(){return["view","approve"]};function et(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"input",32),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.select=t)})("change",function(){const o=e.CHM(i).$implicit,a=e.oxw();return e.KtG(a.checkInventoryRecords(o))}),e.qZA()(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",27,33)(7,"span",34),e._uU(8),e.qZA()(),e.TgZ(9,"td",27,35)(11,"span",34),e._uU(12),e.qZA()(),e.TgZ(13,"td")(14,"span")(15,"div",36),e._uU(16),e.ALo(17,"UOMUnitsMaster"),e.TgZ(18,"span",37),e.YNc(19,$e,1,0,"div",38),e.YNc(20,ze,1,0,"div",39),e.qZA()()()(),e.TgZ(21,"td"),e._uU(22),e.ALo(23,"number"),e.qZA(),e.TgZ(24,"td")(25,"div",40),e._UZ(26,"button",41),e.TgZ(27,"button",42),e.NdJ("click",function(){const o=e.CHM(i).$implicit,a=e.oxw();return e.KtG(a.openLogEntryModal(o))}),e._uU(28," Log Entry "),e.qZA()()(),e.TgZ(29,"td")(30,"div",43),e.YNc(31,Ve,2,1,"span",44),e.YNc(32,We,1,4,"input",45),e.qZA()(),e.TgZ(33,"td")(34,"i",46),e.NdJ("click",function(){const o=e.CHM(i).$implicit,a=e.oxw();return e.KtG(a.openGTQtyModal(o))}),e.qZA()()()}if(2&r){const i=l.$implicit,n=e.MAs(6),t=e.MAs(10),o=e.oxw();e.xp6(2),e.Q6J("ngModel",i.select)("ngModelOptions",e.DdM(26,W))("disabled",e.DdM(27,Xe).includes(o.action)||i.isSelectedCond),e.xp6(2),e.Oqu(i.itemCode),e.xp6(1),e.Udp("width",n.clientWidth),e.xp6(2),e.Q6J("ngbTooltip",i.itemName)("positionTarget",n),e.xp6(1),e.hij(" ",i.itemName," "),e.xp6(1),e.Udp("width",t.clientWidth),e.xp6(2),e.Q6J("ngbTooltip",i.itemDescription)("positionTarget",t),e.xp6(1),e.hij(" ",i.itemDescription," "),e.xp6(4),e.hij(" ",e.lcZ(17,21,null==i?null:i.UOM)," "),e.xp6(3),e.Q6J("ngIf",i.secondaryUnit),e.xp6(1),e.Q6J("ngIf",!i.secondaryUnit),e.xp6(2),e.Oqu(i.MRPQty?e.xi3(23,23,i.MRPQty,"1.2-2"):null),e.xp6(9),e.Q6J("ngIf",i.isSaved),e.xp6(1),e.Q6J("ngIf",!i.isSaved),e.xp6(2),e.Q6J("ngClass",i.isSaved?"fa fa-pencil-square-o fa-lg fs-3 text-primary pointer":"editOpacity fa fa-pencil-square-o fa-lg fs-3    ")}}function tt(r,l){1&r&&e._UZ(0,"hr",50)}function nt(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"div",51)(1,"button",52),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.reset())}),e._uU(2,"Reset"),e.qZA(),e.TgZ(3,"button",53),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.submit())}),e._uU(4,"GT to Production"),e.qZA()()}}const it=function(r,l,i,n){return{page:r,pageSize:l,collection:i,search:n,excelDisplay:"none"}},X=function(){return["view"]};let ot=(()=>{var r;class l{trackByFn(n,t){return t?._id}constructor(n,t,o,a,d,h){this.spinner=n,this.stockPreparationService=t,this.toastService=o,this.activeModal=a,this.modalService=d,this.utilityService=h,this.selectedDetails={},this.jobCardDetails={},this.stockCutting={},this.selectedJobCardDetails={},this.sourceOfManufacturing="",this.shiftOptions=[],this.page=1,this.pageSize=5,this.collection=0,this.column="createdAt",this.direction=-1,this.search="",this.submitted=!1,this.action="create",this.sheetToSheetData=[],this.inventoryItemsAmounts=0,this.GTInputQuantity=0}ngOnInit(){this.getInitialData()}submit(){if(this.stockCutting.jobCardNo)if(1!=this.stockCutting?.stockPreparationDetails?.every(n=>!n.select)){for(const n of this.stockCutting.stockPreparationDetails){if(n.select&&!n.GTQty)return void this.toastService.warning("Fill the GT Qty For Selected record !!");if(n.isSaved&&n.select&&!n.addOnGTQty)return void this.toastService.warning("Pls click on edit option and add GT Qty !! ")}this.stockCutting.stockPreparationDetails=this.stockCutting?.stockPreparationDetails.map(n=>(n.select&&(n.isSaved=!0),n)),this.create()}else this.toastService.warning("Select the record before doing \u201cGT To Production\u201d ");else this.toastService.warning("Job Card No. is Required")}create(){this.spinner.show(),this.stockPreparationService.createOrUpdate(this.stockCutting).subscribe(n=>{this.spinner.hide(),this.toastService.success(n.message),this.activeModal.close()})}setUnit(n){let t=this.stockCutting.stockPreparationDetails.map(d=>d.item).indexOf(n.item);this.stockCutting.stockPreparationDetails[t].UOM=this.stockCutting.stockPreparationDetails[t].UOM==n.secondaryUnit?n.primaryUnit:n.secondaryUnit;let o=this.utilityService.setConversion({UOM:this.stockCutting.stockPreparationDetails[t].UOM,quantity:n.MRPQty,primaryUnit:n.primaryUnit,secondaryUnit:n.secondaryUnit,primaryToSecondaryConversion:n.primaryToSecondaryConversion,secondaryToPrimaryConversion:n.secondaryToPrimaryConversion})||0,a=this.utilityService.setConversion({UOM:this.stockCutting.stockPreparationDetails[t].UOM,quantity:n.GTQty,primaryUnit:n.primaryUnit,secondaryUnit:n.secondaryUnit,primaryToSecondaryConversion:n.primaryToSecondaryConversion,secondaryToPrimaryConversion:n.secondaryToPrimaryConversion})||0;this.stockCutting.stockPreparationDetails[t].MRPQty=o,this.stockCutting.stockPreparationDetails[t].GTQty=+a.toFixed(2)}checkInventoryRecords(n){n.select&&(this.spinner.show(),this.stockPreparationService.checkInventoryRecords({item:n?.item}).subscribe(t=>{let o=this.stockCutting.stockPreparationDetails.map(a=>a.item).indexOf(n.item);this.inventoryItemsAmounts=t?.inventoryItemsAmount||0,t.inventoryItemsAmount||(this.toastService.warning("Total Inventory Qty. is not available !"),this.stockCutting.stockPreparationDetails[o].select=!1,this.stockCutting.stockPreparationDetails[o].isSelectedCond=!0),this.stockCutting.stockPreparationDetails[o].inventoryItemsAmounts=this.inventoryItemsAmounts,this.spinner.hide()}))}setGTQty(n){let t=this.stockCutting?.stockPreparationDetails?.findIndex(o=>o.item==n.item);if("RL"==n.UOM||"SHT"==n.UOM){let o=0;if(n?.primaryToSecondaryConversion&&(o=+(+n?.GTQty*+n.primaryToSecondaryConversion).toFixed(2)),o>n.inventoryItemsAmounts)return this.toastService.warning("GT Input Quantity Should not be greater than Total Inventory Qty. !"),void(this.stockCutting.stockPreparationDetails[t].GTQty=0)}else if(n.GTQty>n.inventoryItemsAmounts)return this.toastService.warning("GT Qty. Should not be greater than Total Inventory Qty. !"),void(this.stockCutting.stockPreparationDetails[t].GTQty=0)}getInitialData(){this.spinner.show(),this.stockPreparationService.getAllMasterData(this.selectedDetails).subscribe(n=>{this.stockCutting=n.stockCutting,(0==n?.stockCutting?.stockPreparationDetails?.length||!n?.stockCutting?.stockPreparationDetails)&&(this.toastService.warning("Please define the Bill of Material of the SKU"),this.stockCutting=this.jobCardDetails),this.stockCutting.stockPreparationDetails=this.stockCutting?.stockPreparationDetails?.map(t=>(t.select=!1,t.addOnGTQty=0,t)),this.GTInputQuantity=0,this.stockCutting.processName=null,this.shiftOptions=n.shiftOptions,this.collection=this.stockCutting?.stockPreparationDetails?.length,this.spinner.hide()})}reset(){this.stockCutting={},this.getInitialData()}openLogEntryModal(n){const t=this.modalService.open(j.M,{centered:!0,size:"md",backdrop:"static",keyboard:!1});t.componentInstance.action=this.action,t.componentInstance.logDetails=n.logEntry,t.componentInstance.sourceOfManufacturing=this.sourceOfManufacturing,t.componentInstance.shiftOptions=this.shiftOptions,t.result.then(o=>{if(o){let a=this.stockCutting?.stockPreparationDetails?.findIndex(d=>d.item==n.item);this.stockCutting.stockPreparationDetails[a].logEntry=o}},o=>{})}openGTQtyModal(n){if(n.isSaved){if(!n.select)return void this.toastService.warning("Select the record");const t=this.modalService.open(Re.o,{centered:!0,size:"md",backdrop:"static",keyboard:!1});t.componentInstance.action=this.action,t.componentInstance.itemDetails=n,t.componentInstance.inventoryItemsAmounts=n.inventoryItemsAmounts,t.componentInstance.GTInputQuantity=this.GTInputQuantity,t.result.then(o=>{if(o){let a=this.stockCutting.stockPreparationDetails.map(d=>d.item).indexOf(n.item);this.stockCutting.stockPreparationDetails[a].addOnGTQty=o,this.GTInputQuantity=o}},o=>{})}}eventHeader(n){switch(n.key){case"SEARCH":this.search=n.value,this.page=1;break;case"EXCEL":default:break;case"PAGE":this.page=n.value}}onSort({column:n,direction:t}){this.headers.forEach(o=>{o.sortable!==n&&(o.direction="")}),this.stockCutting.stockPreparationDetails=""===t||""===n?this.stockCutting.stockPreparationDetails:[...this.stockCutting.stockPreparationDetails].sort((o,a)=>{let d="string"==typeof o[n]?o[n].toLowerCase():o[n],h="string"==typeof a[n]?a[n].toLowerCase():a[n];const S=d<h?-1:d>h?1:0;return"asc"===t?S:-S})}}return(r=l).\u0275fac=function(n){return new(n||r)(e.Y36(c.V),e.Y36(f.uN),e.Y36(c.kl),e.Y36(u.Kz),e.Y36(u.FF),e.Y36(Be.t))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-jc-stock-preparation-entry"]],viewQuery:function(n,t){if(1&n&&e.Gf(E.j_,5),2&n){let o;e.iGM(o=e.CRH())&&(t.headers=o)}},inputs:{selectedDetails:"selectedDetails",jobCardDetails:"jobCardDetails"},decls:78,vars:25,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container"],[1,"form-body","py-3"],[1,"row","mb-2"],[1,"col-4","pe-3"],[1,"row"],[1,"col-6","pe-5"],[1,"form-label"],[1,"text-danger"],["type","text","readonly","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-6","ps-2","pe-5"],["type","text","readonly","",1,"form-control","bg-white-smoke",3,"ngModel","ngModelChange"],[1,"col-3","ps-0","pe-5"],[1,"col-5","ps-3"],[1,"col-6","ps-0","pe-3"],[1,"col-6"],[1,"col-7","ps-0"],[1,"row","line-border"],[3,"data","dataChange"],[1,"table-responsive",2,"min-height","20rem"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],[1,"text-start"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","row line-border mt-4",4,"ngIf"],[1,"row","mb-3"],["class","col-12 d-flex justify-content-center",4,"ngIf"],["type","checkbox",1,"form-check-input","pointer",3,"ngModel","ngModelOptions","disabled","ngModelChange","change"],["itemName",""],[1,"pointer",3,"ngbTooltip","positionTarget"],["itemDescription",""],[1,"d-flex","justify-content-between","align-items-center","px-2"],[1,"pointer","d-flex","align-items-center"],["class","unit-switch-rev",3,"click",4,"ngIf"],["class","unit-switch-gray",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center"],[1,"plusIconSvg","btn","btn-primary","me-1","py-0","px-0"],["type","button",1,"btn","btn-primary","form-btn-sm","py-0",3,"click"],[1,"d-flex","justify-content-center"],[4,"ngIf"],["class","form-control form-control-sm text-center","type","number",3,"ngModel","ngModelOptions","readonly","input","ngModelChange",4,"ngIf"],["aria-hidden","true",2,"margin-right","0rem !important",3,"ngClass","click"],[1,"unit-switch-rev",3,"click"],[1,"unit-switch-gray"],["type","number",1,"form-control","form-control-sm","text-center",3,"ngModel","ngModelOptions","readonly","input","ngModelChange"],[1,"row","line-border","mt-4"],[1,"col-12","d-flex","justify-content-center"],["type","button",1,"btn","bg-primary","px-5","me-3",3,"click"],["type","button",1,"btn","bg-primary","px-5",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Stock Preparation"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return t.activeModal.close()}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"label",11),e._uU(14,"Job Card No. "),e.TgZ(15,"span",12),e._uU(16,"*"),e.qZA()(),e.TgZ(17,"input",13),e.NdJ("ngModelChange",function(a){return t.stockCutting.jobCardNo=a}),e.qZA()(),e.TgZ(18,"div",14)(19,"label",11),e._uU(20,"SKU No. "),e._UZ(21,"span",12),e.qZA(),e.TgZ(22,"input",15),e.NdJ("ngModelChange",function(a){return t.stockCutting.SKUNo=a}),e.qZA()()()(),e.TgZ(23,"div",16)(24,"label",11),e._uU(25,"SKU Name "),e._UZ(26,"span",12),e.qZA(),e.TgZ(27,"input",15),e.NdJ("ngModelChange",function(a){return t.stockCutting.SKUName=a}),e.qZA()(),e.TgZ(28,"div",17)(29,"div",9)(30,"div",18)(31,"label",11),e._uU(32,"SKU Description "),e._UZ(33,"span",12),e.qZA(),e.TgZ(34,"input",15),e.NdJ("ngModelChange",function(a){return t.stockCutting.SKUDescription=a}),e.qZA()(),e.TgZ(35,"div",19)(36,"div",9)(37,"div",17)(38,"label",11),e._uU(39,"UoM "),e._UZ(40,"span",12),e.qZA(),e.TgZ(41,"input",15),e.NdJ("ngModelChange",function(a){return t.stockCutting.UOM=a}),e.qZA()(),e.TgZ(42,"div",20)(43,"label",11),e._uU(44,"Input Batch Qty "),e._UZ(45,"span",12),e.qZA(),e.TgZ(46,"input",15),e.NdJ("ngModelChange",function(a){return t.stockCutting.SKUBatchQty=a}),e.qZA()()()()()()()(),e._UZ(47,"hr",21),e.TgZ(48,"app-setting-header",22),e.NdJ("dataChange",function(a){return t.eventHeader(a)}),e.qZA(),e.TgZ(49,"div",23)(50,"table",24)(51,"thead",25)(52,"tr",26)(53,"th"),e._uU(54,"Select"),e.qZA(),e.TgZ(55,"th"),e._uU(56,"Item Code"),e.qZA(),e.TgZ(57,"th",27),e._uU(58,"Item Name"),e.qZA(),e.TgZ(59,"th",27),e._uU(60,"Item Description"),e.qZA(),e.TgZ(61,"th"),e._uU(62,"UoM"),e.qZA(),e.TgZ(63,"th"),e._uU(64,"MRP Qty"),e.qZA(),e.TgZ(65,"th"),e._uU(66,"Log Details"),e.qZA(),e.TgZ(67,"th"),e._uU(68,"GT Qty"),e.qZA(),e.TgZ(69,"th"),e._uU(70,"Edit"),e.qZA()()(),e.TgZ(71,"tbody"),e.YNc(72,et,35,28,"tr",28),e.ALo(73,"slice"),e.ALo(74,"searchFi1ter"),e.qZA()()(),e.YNc(75,tt,1,0,"hr",29),e.TgZ(76,"div",30),e.YNc(77,nt,5,0,"div",31),e.qZA()()()),2&n&&(e.xp6(17),e.Q6J("ngModel",t.stockCutting.jobCardNo),e.xp6(5),e.Q6J("ngModel",t.stockCutting.SKUNo),e.xp6(5),e.Q6J("ngModel",t.stockCutting.SKUName),e.xp6(7),e.Q6J("ngModel",t.stockCutting.SKUDescription),e.xp6(7),e.Q6J("ngModel",t.stockCutting.UOM),e.xp6(5),e.Q6J("ngModel",t.stockCutting.SKUBatchQty),e.xp6(2),e.Q6J("data",e.l5B(18,it,t.page,t.pageSize,t.collection,t.search)),e.xp6(24),e.Q6J("ngForOf",e.Dn7(73,11,e.xi3(74,15,t.stockCutting.stockPreparationDetails,t.search),(t.page-1)*t.pageSize,(t.page-1)*t.pageSize+t.pageSize))("ngForTrackBy",t.trackByFn),e.xp6(3),e.Q6J("ngIf",!e.DdM(23,X).includes(t.action)),e.xp6(2),e.Q6J("ngIf",!e.DdM(24,X).includes(t.action)))},dependencies:[p.mk,p.sg,p.O5,w.P,u._L,s.Fj,s.wV,s.Wl,s.JJ,s.On,p.OU,p.JJ,L.G,He.S],styles:[".editOpacity[_ngcontent-%COMP%]{opacity:.5}"]}),l})();var m=g(37398);let rt=(()=>{var r;class l{constructor(n){this.http=n,this.routes={createOrUpdatePath:"/production/lamination/createOrUpdate",getAllPath:"/production/lamination/getAll",getAllMasterDataPath:"/production/lamination/getAllMasterData",getByIdPath:t=>`/production/lamination/getById/${t}`}}createOrUpdate(n){return this.http.post(this.routes.createOrUpdatePath,n).pipe((0,m.U)(t=>t))}getAll(n){return this.http.get(this.routes.getAllPath,n).pipe((0,m.U)(t=>t))}getAllMasterData(n){return this.http.get(this.routes.getAllMasterDataPath,n).pipe((0,m.U)(t=>t))}getById(n){return this.http.get(this.routes.getByIdPath(n)).pipe((0,m.U)(t=>t))}}return(r=l).\u0275fac=function(n){return new(n||r)(e.LFG(c.sM))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),l})();const at=function(){return["view","approve","reject"]};let st=(()=>{var r;class l{get f(){return this.form.controls}get logEntry(){return this.form.get("logEntry")}constructor(n,t,o,a,d){this.activeModal=n,this.utilityService=t,this.laminationLogService=o,this.spinner=a,this.toastService=d,this.logDetails={},this.selectedDetails={},this.jobCardDetails={},this.action="",this.sourceOfManufacturing="",this.shiftOptions=[],this.laminationLog={},this.collection=0,this.form=new s.nJ({jobCard:new s.p4(null),jobCardNo:new s.p4(null),SKU:new s.p4(null),SKUStage:new s.p4(null),SKUNo:new s.p4(null),SKUName:new s.p4(null),SKUDescription:new s.p4(null),UOM:new s.p4(null),SKUBatchQty:new s.p4(null),logEntry:new s.nJ({prodSource:new s.p4(null),prodShift:new s.p4(null),prodDate:new s.p4(this.utilityService.getTodayDate("YYYY-MM-DD")),operatingStaff:new s.p4(null),remarks:new s.p4(null),authorizedBy:new s.p4(null)})})}ngOnInit(){this.form.patchValue(this.jobCardDetails),this.getInitialData(),["view"].includes(this.action)&&this.form.disable(),this.logEntry.controls.prodSource.value||this.logEntry.controls.prodSource.setValue(this.sourceOfManufacturing??"Inhouse")}submit(){let n=this.form.value;console.log("formData",n),this.create(n)}create(n){this.spinner.show(),this.laminationLogService.createOrUpdate(n).subscribe(t=>{this.spinner.hide(),this.toastService.success(t.message),this.activeModal.close()})}getInitialData(){this.spinner.show(),this.laminationLogService.getAllMasterData(this.selectedDetails).subscribe(n=>{n.laminationLog&&(n?.laminationLog?.logEntry?.prodDate&&(n.laminationLog.logEntry.prodDate=this.utilityService.getFormatDate(n?.laminationLog?.logEntry?.prodDate,"YYYY-MM-DD")),this.form.patchValue(n.laminationLog)),this.shiftOptions=n.shiftOptions,this.spinner.hide()})}dismissModel(){this.activeModal.close(this.form.value)}}return(r=l).\u0275fac=function(n){return new(n||r)(e.Y36(u.Kz),e.Y36(c.tI),e.Y36(rt),e.Y36(c.V),e.Y36(c.kl))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-lamination-log-entry-model"]],inputs:{logDetails:"logDetails",selectedDetails:"selectedDetails",jobCardDetails:"jobCardDetails",action:"action",sourceOfManufacturing:"sourceOfManufacturing",shiftOptions:"shiftOptions"},decls:51,vars:5,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,""],[3,"formGroup"],["formGroupName","logEntry"],[1,"row","my-4","px-5"],[1,"col-6"],[1,"form-label","mb-1"],[1,"text-danger"],["type","text","formControlName","prodSource","readonly","",1,"form-control","bg-white-smoke"],["type","date","formControlName","prodDate",1,"form-control"],[1,"row","px-5","mb-4"],["bindValue","parameterName","bindLabel","parameterLabel","formControlName","prodShift",3,"items","clearable"],["type","text","formControlName","operatingStaff",1,"form-control"],[1,"row","px-5"],[1,"col-12"],["type","text","formControlName","remarks",1,"form-control"],[1,"line-border","my-4"],["formGroupName","logEntry",1,"col-8"],[1,"d-flex","align-items-center"],[1,"col-form-label","text-nowrap"],[1,"fa","fa-caret-right","fs-3","mx-2"],["type","text","formControlName","authorizedBy",1,"form-control"],[1,"col-4","ps-0","d-flex","justify-content-end"],[1,"mb-4"],["type","button",1,"btn","bg-primary","px-2",3,"disabled","click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Log Entry"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return t.activeModal.close()}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"form",6),e.ynx(9,7),e.TgZ(10,"div",8)(11,"div",9)(12,"label",10),e._uU(13," Prod. Source "),e._UZ(14,"span",11),e.qZA(),e._UZ(15,"input",12),e.qZA(),e.TgZ(16,"div",9)(17,"label",10),e._uU(18," Prod. Date "),e._UZ(19,"span",11),e.qZA(),e._UZ(20,"input",13),e.qZA()(),e.TgZ(21,"div",14)(22,"div",9)(23,"label",10),e._uU(24,"Production Shift "),e._UZ(25,"span",11),e.qZA(),e._UZ(26,"ng-select",15),e.qZA(),e.TgZ(27,"div",9)(28,"label",10),e._uU(29," Operating Staff"),e._UZ(30,"span",11),e.qZA(),e._UZ(31,"input",16),e.qZA()(),e.TgZ(32,"div",17)(33,"div",18)(34,"label",10),e._uU(35,"Remarks "),e._UZ(36,"span",11),e.qZA(),e._UZ(37,"input",19),e.qZA()(),e.BQk(),e._UZ(38,"hr",20),e.TgZ(39,"div",17)(40,"div",21)(41,"div",22)(42,"div",23),e._uU(43," Authorised by "),e._UZ(44,"i",24),e.qZA(),e.TgZ(45,"div",5),e._UZ(46,"input",25),e.qZA()()(),e.TgZ(47,"div",26)(48,"div",27)(49,"button",28),e.NdJ("click",function(){return t.submit()}),e._uU(50," Save & Close "),e.qZA()()()()()()()),2&n&&(e.xp6(8),e.Q6J("formGroup",t.form),e.xp6(18),e.Q6J("items",t.shiftOptions)("clearable",!1),e.xp6(23),e.Q6J("disabled",e.DdM(4,at).includes(t.action)))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,s.x0,M.w9],encapsulation:2}),l})(),lt=(()=>{var r;class l{constructor(n){this.http=n,this.routes={createOrUpdatePath:"/production/weeding/createOrUpdate",getAllPath:"/production/weeding/getAll",getAllMasterDataPath:"/production/weeding/getAllMasterData",getByIdPath:t=>`/production/weeding/getById/${t}`}}createOrUpdate(n){return this.http.post(this.routes.createOrUpdatePath,n).pipe((0,m.U)(t=>t))}getAll(n){return this.http.get(this.routes.getAllPath,n).pipe((0,m.U)(t=>t))}getAllMasterData(n){return this.http.get(this.routes.getAllMasterDataPath,n).pipe((0,m.U)(t=>t))}getById(n){return this.http.get(this.routes.getByIdPath(n)).pipe((0,m.U)(t=>t))}}return(r=l).\u0275fac=function(n){return new(n||r)(e.LFG(c.sM))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),l})();const ct=function(){return["view","approve","reject"]};let dt=(()=>{var r;class l{get f(){return this.form.controls}get logEntry(){return this.form.get("logEntry")}constructor(n,t,o,a,d){this.activeModal=n,this.utilityService=t,this.weedingLogService=o,this.spinner=a,this.toastService=d,this.logDetails={},this.selectedDetails={},this.jobCardDetails={},this.action="",this.sourceOfManufacturing="",this.shiftOptions=[],this.form=new s.nJ({jobCard:new s.p4(null),jobCardNo:new s.p4(null),SKU:new s.p4(null),SKUStage:new s.p4(null),SKUNo:new s.p4(null),SKUName:new s.p4(null),SKUDescription:new s.p4(null),UOM:new s.p4(null),SKUBatchQty:new s.p4(null),logEntry:new s.nJ({prodSource:new s.p4(null),prodShift:new s.p4(null),prodDate:new s.p4(this.utilityService.getTodayDate("YYYY-MM-DD")),operatingStaff:new s.p4(null),remarks:new s.p4(null),authorizedBy:new s.p4(null)})})}ngOnInit(){this.form.patchValue(this.jobCardDetails),this.getInitialData(),["view"].includes(this.action)&&this.form.disable(),this.logEntry.controls.prodSource.value||this.logEntry.controls.prodSource.setValue(this.sourceOfManufacturing??"Inhouse")}submit(){let n=this.form.value;console.log("formData",n),this.create(n)}create(n){this.spinner.show(),this.weedingLogService.createOrUpdate(n).subscribe(t=>{this.spinner.hide(),this.toastService.success(t.message),this.activeModal.close()})}getInitialData(){this.spinner.show(),this.weedingLogService.getAllMasterData(this.selectedDetails).subscribe(n=>{n.weedingLog&&(n?.weedingLog?.logEntry?.prodDate&&(n.weedingLog.logEntry.prodDate=this.utilityService.getFormatDate(n?.weedingLog?.logEntry?.prodDate,"YYYY-MM-DD")),this.form.patchValue(n.weedingLog)),this.shiftOptions=n.shiftOptions,this.spinner.hide()})}dismissModel(){this.activeModal.close(this.form.value)}}return(r=l).\u0275fac=function(n){return new(n||r)(e.Y36(u.Kz),e.Y36(c.tI),e.Y36(lt),e.Y36(c.V),e.Y36(c.kl))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-weeding-log-entry-model"]],inputs:{logDetails:"logDetails",selectedDetails:"selectedDetails",jobCardDetails:"jobCardDetails",action:"action",sourceOfManufacturing:"sourceOfManufacturing",shiftOptions:"shiftOptions"},decls:51,vars:5,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,""],[3,"formGroup"],["formGroupName","logEntry"],[1,"row","my-4","px-5"],[1,"col-6"],[1,"form-label","mb-1"],[1,"text-danger"],["type","text","formControlName","prodSource","readonly","",1,"form-control","bg-white-smoke"],["type","date","formControlName","prodDate",1,"form-control"],[1,"row","px-5","mb-4"],["bindValue","parameterName","bindLabel","parameterLabel","formControlName","prodShift",3,"items","clearable"],["type","text","formControlName","operatingStaff",1,"form-control"],[1,"row","px-5"],[1,"col-12"],["type","text","formControlName","remarks",1,"form-control"],[1,"line-border","my-4"],["formGroupName","logEntry",1,"col-8"],[1,"d-flex","align-items-center"],[1,"col-form-label","text-nowrap"],[1,"fa","fa-caret-right","fs-3","mx-2"],["type","text","formControlName","authorizedBy",1,"form-control"],[1,"col-4","ps-0","d-flex","justify-content-end"],[1,"mb-4"],["type","button",1,"btn","bg-primary","px-2",3,"disabled","click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Log Entry"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return t.activeModal.close()}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"form",6),e.ynx(9,7),e.TgZ(10,"div",8)(11,"div",9)(12,"label",10),e._uU(13," Prod. Source "),e._UZ(14,"span",11),e.qZA(),e._UZ(15,"input",12),e.qZA(),e.TgZ(16,"div",9)(17,"label",10),e._uU(18," Prod. Date "),e._UZ(19,"span",11),e.qZA(),e._UZ(20,"input",13),e.qZA()(),e.TgZ(21,"div",14)(22,"div",9)(23,"label",10),e._uU(24,"Production Shift "),e._UZ(25,"span",11),e.qZA(),e._UZ(26,"ng-select",15),e.qZA(),e.TgZ(27,"div",9)(28,"label",10),e._uU(29," Operating Staff"),e._UZ(30,"span",11),e.qZA(),e._UZ(31,"input",16),e.qZA()(),e.TgZ(32,"div",17)(33,"div",18)(34,"label",10),e._uU(35,"Remarks "),e._UZ(36,"span",11),e.qZA(),e._UZ(37,"input",19),e.qZA()(),e.BQk(),e._UZ(38,"hr",20),e.TgZ(39,"div",17)(40,"div",21)(41,"div",22)(42,"div",23),e._uU(43," Authorised by "),e._UZ(44,"i",24),e.qZA(),e.TgZ(45,"div",5),e._UZ(46,"input",25),e.qZA()()(),e.TgZ(47,"div",26)(48,"div",27)(49,"button",28),e.NdJ("click",function(){return t.submit()}),e._uU(50," Save & Close "),e.qZA()()()()()()()),2&n&&(e.xp6(8),e.Q6J("formGroup",t.form),e.xp6(18),e.Q6J("items",t.shiftOptions)("clearable",!1),e.xp6(23),e.Q6J("disabled",e.DdM(4,ct).includes(t.action)))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,s.x0,M.w9],encapsulation:2}),l})(),pt=(()=>{var r;class l{constructor(n){this.http=n,this.routes={createOrUpdatePath:"/production/throughPunching/createOrUpdate",getAllPath:"/production//throughPunching/getAll",getAllMasterDataPath:"/production/throughPunching/getAllMasterData",getByIdPath:t=>`/production//throughPunching/getById/${t}`}}createOrUpdate(n){return this.http.post(this.routes.createOrUpdatePath,n).pipe((0,m.U)(t=>t))}getAll(n){return this.http.get(this.routes.getAllPath,n).pipe((0,m.U)(t=>t))}getAllMasterData(n){return this.http.get(this.routes.getAllMasterDataPath,n).pipe((0,m.U)(t=>t))}getById(n){return this.http.get(this.routes.getByIdPath(n)).pipe((0,m.U)(t=>t))}}return(r=l).\u0275fac=function(n){return new(n||r)(e.LFG(c.sM))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),l})();const gt=function(){return["view","approve","reject"]};let ut=(()=>{var r;class l{get f(){return this.form.controls}get logEntry(){return this.form.get("logEntry")}constructor(n,t,o,a,d){this.activeModal=n,this.utilityService=t,this.punchingLogService=o,this.spinner=a,this.toastService=d,this.logDetails={},this.selectedDetails={},this.jobCardDetails={},this.action="",this.sourceOfManufacturing="",this.shiftOptions=[],this.form=new s.nJ({jobCard:new s.p4(null),jobCardNo:new s.p4(null),SKU:new s.p4(null),SKUStage:new s.p4(null),SKUNo:new s.p4(null),SKUName:new s.p4(null),SKUDescription:new s.p4(null),UOM:new s.p4(null),SKUBatchQty:new s.p4(null),logEntry:new s.nJ({prodSource:new s.p4(null),prodShift:new s.p4(null),prodDate:new s.p4(this.utilityService.getTodayDate("YYYY-MM-DD")),operatingStaff:new s.p4(null),remarks:new s.p4(null),authorizedBy:new s.p4(null)})})}ngOnInit(){this.form.patchValue(this.jobCardDetails),this.getInitialData(),["view"].includes(this.action)&&this.form.disable(),this.logEntry.controls.prodSource.value||this.logEntry.controls.prodSource.setValue(this.sourceOfManufacturing??"Inhouse")}submit(){let n=this.form.value;console.log("formData",n),this.create(n)}create(n){this.spinner.show(),this.punchingLogService.createOrUpdate(n).subscribe(t=>{this.spinner.hide(),this.toastService.success(t.message),this.activeModal.close()})}getInitialData(){this.spinner.show(),this.punchingLogService.getAllMasterData(this.selectedDetails).subscribe(n=>{n.throughPunchingLog&&(n?.throughPunchingLog?.logEntry?.prodDate&&(n.throughPunchingLog.logEntry.prodDate=this.utilityService.getFormatDate(n?.throughPunchingLog?.logEntry?.prodDate,"YYYY-MM-DD")),this.form.patchValue(n.throughPunchingLog)),this.shiftOptions=n.shiftOptions,this.spinner.hide()})}dismissModel(){this.activeModal.close(this.form.value)}}return(r=l).\u0275fac=function(n){return new(n||r)(e.Y36(u.Kz),e.Y36(c.tI),e.Y36(pt),e.Y36(c.V),e.Y36(c.kl))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-punching-log-entry-model"]],inputs:{logDetails:"logDetails",selectedDetails:"selectedDetails",jobCardDetails:"jobCardDetails",action:"action",sourceOfManufacturing:"sourceOfManufacturing",shiftOptions:"shiftOptions"},decls:51,vars:5,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,""],[3,"formGroup"],["formGroupName","logEntry"],[1,"row","my-4","px-5"],[1,"col-6"],[1,"form-label","mb-1"],[1,"text-danger"],["type","text","formControlName","prodSource","readonly","",1,"form-control","bg-white-smoke"],["type","date","formControlName","prodDate",1,"form-control"],[1,"row","px-5","mb-4"],["bindValue","parameterName","bindLabel","parameterLabel","formControlName","prodShift",3,"items","clearable"],["type","text","formControlName","operatingStaff",1,"form-control"],[1,"row","px-5"],[1,"col-12"],["type","text","formControlName","remarks",1,"form-control"],[1,"line-border","my-4"],["formGroupName","logEntry",1,"col-8"],[1,"d-flex","align-items-center"],[1,"col-form-label","text-nowrap"],[1,"fa","fa-caret-right","fs-3","mx-2"],["type","text","formControlName","authorizedBy",1,"form-control"],[1,"col-4","ps-0","d-flex","justify-content-end"],[1,"mb-4"],["type","button",1,"btn","bg-primary","px-2",3,"disabled","click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Log Entry"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return t.activeModal.close()}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"form",6),e.ynx(9,7),e.TgZ(10,"div",8)(11,"div",9)(12,"label",10),e._uU(13," Prod. Source "),e._UZ(14,"span",11),e.qZA(),e._UZ(15,"input",12),e.qZA(),e.TgZ(16,"div",9)(17,"label",10),e._uU(18," Prod. Date "),e._UZ(19,"span",11),e.qZA(),e._UZ(20,"input",13),e.qZA()(),e.TgZ(21,"div",14)(22,"div",9)(23,"label",10),e._uU(24,"Production Shift "),e._UZ(25,"span",11),e.qZA(),e._UZ(26,"ng-select",15),e.qZA(),e.TgZ(27,"div",9)(28,"label",10),e._uU(29," Operating Staff"),e._UZ(30,"span",11),e.qZA(),e._UZ(31,"input",16),e.qZA()(),e.TgZ(32,"div",17)(33,"div",18)(34,"label",10),e._uU(35,"Remarks "),e._UZ(36,"span",11),e.qZA(),e._UZ(37,"input",19),e.qZA()(),e.BQk(),e._UZ(38,"hr",20),e.TgZ(39,"div",17)(40,"div",21)(41,"div",22)(42,"div",23),e._uU(43," Authorised by "),e._UZ(44,"i",24),e.qZA(),e.TgZ(45,"div",5),e._UZ(46,"input",25),e.qZA()()(),e.TgZ(47,"div",26)(48,"div",27)(49,"button",28),e.NdJ("click",function(){return t.submit()}),e._uU(50," Save & Close "),e.qZA()()()()()()()),2&n&&(e.xp6(8),e.Q6J("formGroup",t.form),e.xp6(18),e.Q6J("items",t.shiftOptions)("clearable",!1),e.xp6(23),e.Q6J("disabled",e.DdM(4,gt).includes(t.action)))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,s.x0,M.w9],encapsulation:2}),l})(),mt=(()=>{var r;class l{constructor(n){this.http=n,this.routes={createOrUpdatePath:"/production/packing/createOrUpdate",getAllPath:"/production/packing/getAll",getAllMasterDataPath:"/production/packing/getAllMasterData",getByIdPath:t=>`/production/packing/getById/${t}`}}createOrUpdate(n){return this.http.post(this.routes.createOrUpdatePath,n).pipe((0,m.U)(t=>t))}getAll(n){return this.http.get(this.routes.getAllPath,n).pipe((0,m.U)(t=>t))}getAllMasterData(n){return this.http.get(this.routes.getAllMasterDataPath,n).pipe((0,m.U)(t=>t))}getById(n){return this.http.get(this.routes.getByIdPath(n)).pipe((0,m.U)(t=>t))}}return(r=l).\u0275fac=function(n){return new(n||r)(e.LFG(c.sM))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),l})();const _t=function(){return["view","approve","reject"]};let ht=(()=>{var r;class l{get f(){return this.form.controls}get logEntry(){return this.form.get("logEntry")}constructor(n,t,o,a,d){this.activeModal=n,this.utilityService=t,this.packingLogService=o,this.spinner=a,this.toastService=d,this.logDetails={},this.selectedDetails={},this.jobCardDetails={},this.action="",this.sourceOfManufacturing="",this.shiftOptions=[],this.form=new s.nJ({jobCard:new s.p4(null),jobCardNo:new s.p4(null),SKU:new s.p4(null),SKUStage:new s.p4(null),SKUNo:new s.p4(null),SKUName:new s.p4(null),SKUDescription:new s.p4(null),UOM:new s.p4(null),SKUBatchQty:new s.p4(null),logEntry:new s.nJ({prodSource:new s.p4(null),prodShift:new s.p4(null),prodDate:new s.p4(this.utilityService.getTodayDate("YYYY-MM-DD")),operatingStaff:new s.p4(null),remarks:new s.p4(null),authorizedBy:new s.p4(null)})})}ngOnInit(){this.form.patchValue(this.jobCardDetails),this.getInitialData(),["view"].includes(this.action)&&this.form.disable(),this.logEntry.controls.prodSource.value||this.logEntry.controls.prodSource.setValue(this.sourceOfManufacturing??"Inhouse")}submit(){let n=this.form.value;console.log("formData",n),this.create(n)}create(n){this.spinner.show(),this.packingLogService.createOrUpdate(n).subscribe(t=>{this.spinner.hide(),this.toastService.success(t.message),this.activeModal.close()})}getInitialData(){this.spinner.show(),this.packingLogService.getAllMasterData(this.selectedDetails).subscribe(n=>{n.packingLog&&(n?.packingLog?.logEntry?.prodDate&&(n.packingLog.logEntry.prodDate=this.utilityService.getFormatDate(n?.packingLog?.logEntry?.prodDate,"YYYY-MM-DD")),this.form.patchValue(n.packingLog)),this.shiftOptions=n.shiftOptions,this.spinner.hide()})}dismissModel(){this.activeModal.close(this.form.value)}}return(r=l).\u0275fac=function(n){return new(n||r)(e.Y36(u.Kz),e.Y36(c.tI),e.Y36(mt),e.Y36(c.V),e.Y36(c.kl))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-packing-log-entry-model"]],inputs:{logDetails:"logDetails",selectedDetails:"selectedDetails",jobCardDetails:"jobCardDetails",action:"action",sourceOfManufacturing:"sourceOfManufacturing",shiftOptions:"shiftOptions"},decls:51,vars:5,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,""],[3,"formGroup"],["formGroupName","logEntry"],[1,"row","my-4","px-5"],[1,"col-6"],[1,"form-label","mb-1"],[1,"text-danger"],["type","text","formControlName","prodSource","readonly","",1,"form-control","bg-white-smoke"],["type","date","formControlName","prodDate",1,"form-control"],[1,"row","px-5","mb-4"],["bindValue","parameterName","bindLabel","parameterLabel","formControlName","prodShift",3,"items","clearable"],["type","text","formControlName","operatingStaff",1,"form-control"],[1,"row","px-5"],[1,"col-12"],["type","text","formControlName","remarks",1,"form-control"],[1,"line-border","my-4"],["formGroupName","logEntry",1,"col-8"],[1,"d-flex","align-items-center"],[1,"col-form-label","text-nowrap"],[1,"fa","fa-caret-right","fs-3","mx-2"],["type","text","formControlName","authorizedBy",1,"form-control"],[1,"col-4","ps-0","d-flex","justify-content-end"],[1,"mb-4"],["type","button",1,"btn","bg-primary","px-2",3,"disabled","click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Log Entry"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return t.activeModal.close()}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"form",6),e.ynx(9,7),e.TgZ(10,"div",8)(11,"div",9)(12,"label",10),e._uU(13," Prod. Source "),e._UZ(14,"span",11),e.qZA(),e._UZ(15,"input",12),e.qZA(),e.TgZ(16,"div",9)(17,"label",10),e._uU(18," Prod. Date "),e._UZ(19,"span",11),e.qZA(),e._UZ(20,"input",13),e.qZA()(),e.TgZ(21,"div",14)(22,"div",9)(23,"label",10),e._uU(24,"Production Shift "),e._UZ(25,"span",11),e.qZA(),e._UZ(26,"ng-select",15),e.qZA(),e.TgZ(27,"div",9)(28,"label",10),e._uU(29," Operating Staff"),e._UZ(30,"span",11),e.qZA(),e._UZ(31,"input",16),e.qZA()(),e.TgZ(32,"div",17)(33,"div",18)(34,"label",10),e._uU(35,"Remarks "),e._UZ(36,"span",11),e.qZA(),e._UZ(37,"input",19),e.qZA()(),e.BQk(),e._UZ(38,"hr",20),e.TgZ(39,"div",17)(40,"div",21)(41,"div",22)(42,"div",23),e._uU(43," Authorised by "),e._UZ(44,"i",24),e.qZA(),e.TgZ(45,"div",5),e._UZ(46,"input",25),e.qZA()()(),e.TgZ(47,"div",26)(48,"div",27)(49,"button",28),e.NdJ("click",function(){return t.submit()}),e._uU(50," Save & Close "),e.qZA()()()()()()()),2&n&&(e.xp6(8),e.Q6J("formGroup",t.form),e.xp6(18),e.Q6J("items",t.shiftOptions)("clearable",!1),e.xp6(23),e.Q6J("disabled",e.DdM(4,_t).includes(t.action)))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,s.x0,M.w9],encapsulation:2}),l})();const P=function(){return["view","approve"]};function ft(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"div",42)(1,"div",7)(2,"div",8)(3,"div",9)(4,"input",43),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.date=t)}),e.qZA()(),e.TgZ(5,"div",11)(6,"ng-select",44),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.shift=t)}),e.qZA()(),e.TgZ(7,"div",12)(8,"input",29),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.UOM=t)}),e.qZA()()()(),e.TgZ(9,"div",13)(10,"div",8)(11,"div",14)(12,"input",45),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.okQty=t)})("input",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.totalOKQty())}),e.qZA()(),e.TgZ(13,"div",46)(14,"input",47),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.inspectedBy=t)}),e.qZA()()()()()}if(2&r){const i=l.$implicit,n=e.oxw();e.xp6(4),e.Q6J("ngModel",i.date)("disabled",e.DdM(12,P).includes(n.action)),e.xp6(2),e.Q6J("items",n.shiftOptions)("clearable",!1)("ngModel",i.shift)("disabled",e.DdM(13,P).includes(n.action)),e.xp6(2),e.Q6J("ngModel",i.UOM)("disabled",e.DdM(14,P).includes(n.action)),e.xp6(4),e.Q6J("ngModel",i.okQty)("disabled",e.DdM(15,P).includes(n.action)),e.xp6(2),e.Q6J("ngModel",i.inspectedBy)("disabled",e.DdM(16,P).includes(n.action))}}let Mt=(()=>{var r;class l{constructor(n,t,o,a,d){this.activeModal=n,this.utilityService=t,this.stageInspectionService=o,this.spinner=a,this.toastService=d,this.action="create",this.selectedDetails={},this.jobCardDetails={},this.shiftOptions=[],this.sourceOfMfg=C.mt,this.processSource="",this.stageInspection={}}ngOnInit(){this.getInitialData()}submit(){this.stageInspection.jobCard=this.jobCardDetails?.jobCard,this.stageInspection.jobCardNo=this.jobCardDetails?.jobCardNo,this.stageInspection.SKUNo=this.jobCardDetails?.SKUNo,this.stageInspection.SKU=this.jobCardDetails?.SKU,this.stageInspection.SKUName=this.jobCardDetails?.SKUName,this.stageInspection.SKUDescription=this.jobCardDetails?.SKUDescription,this.create()}create(){this.spinner.show(),this.stageInspectionService.createOrUpdate(this.stageInspection).subscribe(n=>{this.spinner.hide(),this.toastService.success(n.message),this.activeModal.close()})}getInitialData(){this.spinner.show(),this.stageInspectionService.getAllMasterData(this.selectedDetails).subscribe(n=>{this.shiftOptions=n.shiftOptions,this.stageInspection=n.stageInspection,this.stageInspection?.stageInspectionInfo?.length>0&&(this.stageInspection.stageInspectionInfo=JSON.parse(JSON.stringify(this.stageInspection.stageInspectionInfo))?.map(t=>(t.date&&(t.date=this.utilityService.getFormatDate(t.date,"YYYY-MM-DD"),t.UOM=this.selectedDetails?.UOM),t))),this.spinner.hide()})}totalOKQty(){this.stageInspection.totalOkQty=this.stageInspection?.stageInspectionInfo?.map(n=>+n?.okQty)?.filter(n=>n>0)?.reduce((n,t)=>+n+ +t,0)}deleteTableRow(){this.stageInspection?.stageInspectionInfo.length>1&&(this.stageInspection?.stageInspectionInfo.pop(),this.totalOKQty())}addTableRow(){this.stageInspection?.stageInspectionInfo.push({date:this.utilityService.getTodayDate("YYYY-MM-DD"),shift:null,UOM:this.selectedDetails?.UOM,okQty:0,inspectedBy:null})}}return(r=l).\u0275fac=function(n){return new(n||r)(e.Y36(u.Kz),e.Y36(c.tI),e.Y36(f.kl),e.Y36(c.V),e.Y36(c.kl))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-stage-inspection-prod-entry"]],viewQuery:function(n,t){if(1&n&&e.Gf(_.j,5),2&n){let o;e.iGM(o=e.CRH())&&(t.headers=o)}},inputs:{action:"action",selectedDetails:"selectedDetails",jobCardDetails:"jobCardDetails"},decls:68,vars:13,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container-fluid","px-0"],[1,"row","mx-4","mt-4","px-2"],[1,"col-7"],[1,"row"],[1,"col-5","pe-0"],[1,"form-label"],[1,"col-4","px-1"],[1,"col-3","ps-0"],[1,"col-5","ps-1"],[1,"col-5","ps-0","pe-1"],[1,"col-5","ps-0"],["class","row mx-4 px-2 mb-2",4,"ngFor","ngForOf"],[1,"row","mt-4","mb-2","px-5","mx-1"],[1,"col-12","set-image","px-0","seperate-row"],[1,"minus-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/delete_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"line-border"],[1,"add-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/add_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"row","d-flex","justify-content-center",2,"min-height","10rem"],[1,"col-4","pe-0"],[1,"d-flex","align-items-center"],[1,"col-form-label","text-nowrap"],[1,"ms-1","me-2"],["type","text","readonly","",1,"form-control","bg-white-smoke",3,"ngModel","disabled","ngModelChange"],[1,"row","d-flex","justify-content-center","mx-4","px-2"],[1,"col-12"],["placeholder","Note down any critical incident/Major defects found during QC inspection","type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"row","mb-4","mt-2","mx-4","px-2"],[1,"col-4"],["for","",1,"form-label"],[1,"text-danger"],["bindLabel","releaseStatusOptions","bindValue","releaseStatusOptions",3,"items","clearable","ngModel","disabled","ngModelChange"],[1,"col-5"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-3","d-flex","justify-content-end","align-items-end"],["type","button",1,"btn","btn-primary","px-4",3,"click"],[1,"row","mx-4","px-2","mb-2"],["type","date",1,"form-control",3,"ngModel","disabled","ngModelChange"],["bindLabel","label","bindValue","value",3,"items","clearable","ngModel","disabled","ngModelChange"],["type","number",1,"form-control","bg-yellow-color",3,"ngModel","disabled","ngModelChange","input"],[1,"col-7","ps-0"],["type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Process - Stage Inspection (Prod)"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return t.activeModal.close()}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),e._uU(13,"Date"),e.qZA()(),e.TgZ(14,"div",11)(15,"label",10),e._uU(16,"Shift"),e.qZA()(),e.TgZ(17,"div",12)(18,"label",10),e._uU(19,"UoM"),e.qZA()()()(),e.TgZ(20,"div",13)(21,"div",8)(22,"div",14)(23,"label",10),e._uU(24,"OK Qty "),e.qZA()(),e.TgZ(25,"div",15)(26,"label",10),e._uU(27,"Inspected by"),e.qZA()()()()(),e.YNc(28,ft,15,17,"div",16),e.TgZ(29,"div",17)(30,"div",18)(31,"div",19)(32,"img",20),e.NdJ("click",function(){return t.deleteTableRow()}),e.qZA()(),e._UZ(33,"hr",21),e.TgZ(34,"div",22)(35,"img",23),e.NdJ("click",function(){return t.addTableRow()}),e.qZA()()()(),e.TgZ(36,"div",24)(37,"div",25)(38,"div",26)(39,"div",27),e._uU(40," Total OK Qty "),e.TgZ(41,"span",28),e._uU(42,"\u25b6"),e.qZA()(),e.TgZ(43,"input",29),e.NdJ("ngModelChange",function(a){return t.stageInspection.totalOkQty=a}),e.qZA()()()(),e._UZ(44,"hr",21),e.TgZ(45,"div",30)(46,"div",31)(47,"div",26)(48,"div",27),e._uU(49," Remarks "),e.TgZ(50,"span",28),e._uU(51,"\u25b6"),e.qZA()(),e.TgZ(52,"input",32),e.NdJ("ngModelChange",function(a){return t.stageInspection.remarks=a}),e.qZA()()()(),e._UZ(53,"hr",21),e.TgZ(54,"div",33)(55,"div",34)(56,"label",35),e._uU(57,"Process Source "),e._UZ(58,"span",36),e.qZA(),e.TgZ(59,"ng-select",37),e.NdJ("ngModelChange",function(a){return t.stageInspection.processSource=a}),e.qZA()(),e.TgZ(60,"div",38)(61,"label",35),e._uU(62," Process In-charge "),e._UZ(63,"span",36),e.qZA(),e.TgZ(64,"input",39),e.NdJ("ngModelChange",function(a){return t.stageInspection.processInCharge=a}),e.qZA()(),e.TgZ(65,"div",40)(66,"button",41),e.NdJ("click",function(){return t.submit()}),e._uU(67,"Save & Close"),e.qZA()()()()()),2&n&&(e.xp6(28),e.Q6J("ngForOf",null==t.stageInspection?null:t.stageInspection.stageInspectionInfo),e.xp6(15),e.Q6J("ngModel",t.stageInspection.totalOkQty)("disabled",e.DdM(10,P).includes(t.action)),e.xp6(9),e.Q6J("ngModel",t.stageInspection.remarks)("disabled",e.DdM(11,P).includes(t.action)),e.xp6(7),e.Q6J("items",t.sourceOfMfg)("clearable",!1)("ngModel",t.stageInspection.processSource)("disabled",e.DdM(12,P).includes(t.action)),e.xp6(5),e.Q6J("ngModel",t.stageInspection.processInCharge))},dependencies:[p.sg,s.Fj,s.wV,s.JJ,s.On,M.w9],styles:[".set-image[_ngcontent-%COMP%]{width:100%;margin-top:-1rem!important}.seperate-row[_ngcontent-%COMP%]{position:relative}.seperate-row[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]{position:absolute;right:-1rem;top:.2rem}.seperate-row[_ngcontent-%COMP%]   .minus-icon[_ngcontent-%COMP%]{position:absolute;left:-1rem;top:.2rem}.set-prod-status[_ngcontent-%COMP%]{border:solid 1px #d6cdcd!important}"]}),l})();const I=function(){return["view","approve"]};function Ct(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"div",49)(1,"div",7)(2,"div",8)(3,"div",9)(4,"input",50),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.date=t)}),e.qZA()(),e.TgZ(5,"div",11)(6,"ng-select",51),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.shift=t)}),e.qZA()(),e.TgZ(7,"div",12)(8,"input",29),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.UOM=t)}),e.qZA()()()(),e.TgZ(9,"div",13)(10,"div",8)(11,"div",14)(12,"input",52),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.okQty=t)})("input",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.totalOKQty())}),e.qZA()(),e.TgZ(13,"div",53)(14,"input",54),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.inspectedBy=t)}),e.qZA()()()()()}if(2&r){const i=l.$implicit,n=e.oxw();e.xp6(4),e.Q6J("ngModel",i.date)("disabled",e.DdM(12,I).includes(n.action)),e.xp6(2),e.Q6J("items",n.shiftOptions)("clearable",!1)("ngModel",i.shift)("disabled",e.DdM(13,I).includes(n.action)),e.xp6(2),e.Q6J("ngModel",i.UOM)("disabled",e.DdM(14,I).includes(n.action)),e.xp6(4),e.Q6J("ngModel",i.okQty)("disabled",e.DdM(15,I).includes(n.action)),e.xp6(2),e.Q6J("ngModel",i.inspectedBy)("disabled",e.DdM(16,I).includes(n.action))}}function vt(r,l){1&r&&e._UZ(0,"div",55)}function bt(r,l){1&r&&e._UZ(0,"div",56)}function Pt(r,l){1&r&&e._UZ(0,"div",57)}function It(r,l){1&r&&e._UZ(0,"div",58)}let yt=(()=>{var r;class l{constructor(n,t,o,a,d){this.activeModal=n,this.utilityService=t,this.stageInspectionIPQAService=o,this.spinner=a,this.toastService=d,this.action="create",this.selectedDetails={},this.shiftOptions=[],this.sourceOfMfg=C.mt,this.processSource="",this.stageInspectionIPQA={}}ngOnInit(){this.getInitialData()}submit(){this.stageInspectionIPQA.jobCard=this.selectedDetails?.jobCard,this.stageInspectionIPQA.jobCardNo=this.selectedDetails?.jobCardNo,this.stageInspectionIPQA.SKUNo=this.selectedDetails?.SKUNo,this.stageInspectionIPQA.SKU=this.selectedDetails?.SKU,this.stageInspectionIPQA.SKUName=this.selectedDetails?.SKUName,this.stageInspectionIPQA.SKUDescription=this.selectedDetails?.SKUDescription,this.create()}create(){this.spinner.show(),this.stageInspectionIPQAService.createOrUpdate(this.stageInspectionIPQA).subscribe(n=>{this.spinner.hide(),this.toastService.success(n.message),this.activeModal.close(this.stageInspectionIPQA)})}getInitialData(){this.spinner.show(),this.stageInspectionIPQAService.getAllMasterData(this.selectedDetails).subscribe(n=>{this.shiftOptions=n.shiftOptions,this.stageInspectionIPQA=n.stageInspectionIPQA,this.stageInspectionIPQA?.stageInspectionIPQAInfo?.length>0&&(this.stageInspectionIPQA.stageInspectionIPQAInfo=JSON.parse(JSON.stringify(this.stageInspectionIPQA.stageInspectionIPQAInfo))?.map(t=>(t.date&&(t.date=this.utilityService.getFormatDate(t.date,"YYYY-MM-DD"),t.UOM=this.selectedDetails?.UOM),t))),this.spinner.hide()})}totalOKQty(){this.stageInspectionIPQA.totalOkQty=this.stageInspectionIPQA?.stageInspectionIPQAInfo?.map(n=>+n?.okQty)?.filter(n=>n>0)?.reduce((n,t)=>+n+ +t,0)}deleteTableRow(){this.stageInspectionIPQA?.stageInspectionIPQAInfo.length>1&&(this.stageInspectionIPQA?.stageInspectionIPQAInfo.pop(),this.totalOKQty())}addTableRow(){this.stageInspectionIPQA?.stageInspectionIPQAInfo.push({date:this.utilityService.getTodayDate("YYYY-MM-DD"),shift:null,UOM:this.selectedDetails?.UOM,okQty:0,inspectedBy:null})}}return(r=l).\u0275fac=function(n){return new(n||r)(e.Y36(u.Kz),e.Y36(c.tI),e.Y36(f.YG),e.Y36(c.V),e.Y36(c.kl))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-stage-inspection-ipqa-entry"]],viewQuery:function(n,t){if(1&n&&e.Gf(_.j,5),2&n){let o;e.iGM(o=e.CRH())&&(t.headers=o)}},inputs:{action:"action",selectedDetails:"selectedDetails"},decls:84,vars:18,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container-fluid","px-0"],[1,"row","mx-4","mt-4","px-2"],[1,"col-7"],[1,"row"],[1,"col-5","pe-0"],[1,"form-label"],[1,"col-4","px-1"],[1,"col-3","ps-0"],[1,"col-5","ps-1"],[1,"col-5","ps-0","pe-1"],[1,"col-5","ps-0"],["class","row mx-4 px-2 mb-2",4,"ngFor","ngForOf"],[1,"row","mt-4","mb-2","px-5","mx-1"],[1,"col-12","set-image","px-0","seperate-row"],[1,"minus-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/delete_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"line-border"],[1,"add-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/add_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"row","d-flex","justify-content-center",2,"min-height","10rem"],[1,"col-4","pe-0"],[1,"d-flex","align-items-center"],[1,"col-form-label","text-nowrap"],[1,"ms-1","me-2"],["type","text","readonly","",1,"form-control","bg-white-smoke",3,"ngModel","disabled","ngModelChange"],[1,"row","d-flex","justify-content-center","mx-4","px-2"],[1,"col-12"],["placeholder","Note down any critical incident/Major defects found during QC inspection","type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"row","mb-4","mt-2","mx-4","px-2"],[1,"col-4"],["for","",1,"form-label"],[1,"text-danger"],[1,"form-select","statusSelectBorder",3,"ngModel","ngModelChange"],["selected","","disabled","",3,"value"],[3,"value"],[1,"input-group-text","statusSpanHeight"],["class","statusActive","class","statusActive",4,"ngIf"],["class","statusYellow",4,"ngIf"],["class","statusOrange",4,"ngIf"],["class","statusInActive",4,"ngIf"],[1,"col-5"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-3","d-flex","justify-content-end","align-items-end"],["type","button",1,"btn","btn-primary","px-4",3,"click"],[1,"row","mx-4","px-2","mb-2"],["type","date",1,"form-control",3,"ngModel","disabled","ngModelChange"],["bindLabel","label","bindValue","value",3,"items","clearable","ngModel","disabled","ngModelChange"],["type","number",1,"form-control","bg-yellow-color",3,"ngModel","disabled","ngModelChange","input"],[1,"col-7","ps-0"],["type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"statusActive"],[1,"statusYellow"],[1,"statusOrange"],[1,"statusInActive"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Process - Stage Inspection (IPQA)"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return t.activeModal.close()}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),e._uU(13,"Date"),e.qZA()(),e.TgZ(14,"div",11)(15,"label",10),e._uU(16,"Shift"),e.qZA()(),e.TgZ(17,"div",12)(18,"label",10),e._uU(19,"UoM"),e.qZA()()()(),e.TgZ(20,"div",13)(21,"div",8)(22,"div",14)(23,"label",10),e._uU(24,"OK Qty "),e.qZA()(),e.TgZ(25,"div",15)(26,"label",10),e._uU(27,"Inspected by"),e.qZA()()()()(),e.YNc(28,Ct,15,17,"div",16),e.TgZ(29,"div",17)(30,"div",18)(31,"div",19)(32,"img",20),e.NdJ("click",function(){return t.deleteTableRow()}),e.qZA()(),e._UZ(33,"hr",21),e.TgZ(34,"div",22)(35,"img",23),e.NdJ("click",function(){return t.addTableRow()}),e.qZA()()()(),e.TgZ(36,"div",24)(37,"div",25)(38,"div",26)(39,"div",27),e._uU(40," Total OK Qty "),e.TgZ(41,"span",28),e._uU(42,"\u25b6"),e.qZA()(),e.TgZ(43,"input",29),e.NdJ("ngModelChange",function(a){return t.stageInspectionIPQA.totalOkQty=a}),e.qZA()()()(),e._UZ(44,"hr",21),e.TgZ(45,"div",30)(46,"div",31)(47,"div",26)(48,"div",27),e._uU(49," Remarks "),e.TgZ(50,"span",28),e._uU(51,"\u25b6"),e.qZA()(),e.TgZ(52,"input",32),e.NdJ("ngModelChange",function(a){return t.stageInspectionIPQA.remarks=a}),e.qZA()()()(),e._UZ(53,"hr",21),e.TgZ(54,"div",33)(55,"div",34)(56,"label",35),e._uU(57,"Batch Release Status "),e._UZ(58,"span",36),e.qZA(),e.TgZ(59,"div",26)(60,"select",37),e.NdJ("ngModelChange",function(a){return t.stageInspectionIPQA.batchReleaseStatus=a}),e.TgZ(61,"option",38),e._uU(62,"Select Status"),e.qZA(),e.TgZ(63,"option",39),e._uU(64,"Released"),e.qZA(),e.TgZ(65,"option",39),e._uU(66,"Reworked"),e.qZA(),e.TgZ(67,"option",39),e._uU(68,"Deviation"),e.qZA(),e.TgZ(69,"option",39),e._uU(70,"Rejected"),e.qZA()(),e.TgZ(71,"span",40),e.YNc(72,vt,1,0,"div",41),e.YNc(73,bt,1,0,"div",42),e.YNc(74,Pt,1,0,"div",43),e.YNc(75,It,1,0,"div",44),e.qZA()()(),e.TgZ(76,"div",45)(77,"label",35),e._uU(78," Process In-charge "),e._UZ(79,"span",36),e.qZA(),e.TgZ(80,"input",46),e.NdJ("ngModelChange",function(a){return t.stageInspectionIPQA.processInCharge=a}),e.qZA()(),e.TgZ(81,"div",47)(82,"button",48),e.NdJ("click",function(){return t.submit()}),e._uU(83,"Save & Close"),e.qZA()()()()()),2&n&&(e.xp6(28),e.Q6J("ngForOf",null==t.stageInspectionIPQA?null:t.stageInspectionIPQA.stageInspectionIPQAInfo),e.xp6(15),e.Q6J("ngModel",t.stageInspectionIPQA.totalOkQty)("disabled",e.DdM(16,I).includes(t.action)),e.xp6(9),e.Q6J("ngModel",t.stageInspectionIPQA.remarks)("disabled",e.DdM(17,I).includes(t.action)),e.xp6(8),e.Q6J("ngModel",t.stageInspectionIPQA.batchReleaseStatus),e.xp6(1),e.Q6J("value","null"),e.xp6(2),e.Q6J("value","Released"),e.xp6(2),e.Q6J("value","Reworked"),e.xp6(2),e.Q6J("value","Deviation"),e.xp6(2),e.Q6J("value","Rejected"),e.xp6(3),e.Q6J("ngIf","Released"==t.stageInspectionIPQA.batchReleaseStatus),e.xp6(1),e.Q6J("ngIf","Reworked"==t.stageInspectionIPQA.batchReleaseStatus),e.xp6(1),e.Q6J("ngIf","Deviation"==t.stageInspectionIPQA.batchReleaseStatus),e.xp6(1),e.Q6J("ngIf","Rejected"==t.stageInspectionIPQA.batchReleaseStatus),e.xp6(5),e.Q6J("ngModel",t.stageInspectionIPQA.processInCharge))},dependencies:[p.sg,p.O5,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.On,M.w9],styles:[".set-image[_ngcontent-%COMP%]{width:100%;margin-top:-1rem!important}.seperate-row[_ngcontent-%COMP%]{position:relative}.seperate-row[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]{position:absolute;right:-1rem;top:.2rem}.seperate-row[_ngcontent-%COMP%]   .minus-icon[_ngcontent-%COMP%]{position:absolute;left:-1rem;top:.2rem}.set-prod-status[_ngcontent-%COMP%]{border:solid 1px #d6cdcd!important}"]}),l})(),At=(()=>{var r;class l{constructor(n){this.http=n,this.routes={createOrUpdatePath:"/production/inkMixingLogIPQA/createOrUpdate",getAllPath:"/production/inkMixingLogIPQA/getAll",getAllMasterDataPath:"/production/inkMixingLogIPQA/getAllMasterData",getByIdPath:t=>`/production/inkMixingLogIPQA/getById/${t}`}}createOrUpdate(n){return this.http.post(this.routes.createOrUpdatePath,n).pipe((0,m.U)(t=>t))}getAll(n){return this.http.get(this.routes.getAllPath,n).pipe((0,m.U)(t=>t))}getAllMasterData(n){return this.http.get(this.routes.getAllMasterDataPath,n).pipe((0,m.U)(t=>t))}getById(n){return this.http.get(this.routes.getByIdPath(n)).pipe((0,m.U)(t=>t))}}return(r=l).\u0275fac=function(n){return new(n||r)(e.LFG(c.sM))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),l})();const y=function(){return["view"]};function Zt(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"div",38)(1,"div",39)(2,"div",12)(3,"div",13)(4,"input",40),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.date=t)}),e.qZA()()()(),e.TgZ(5,"div",41)(6,"div",12)(7,"div",42)(8,"input",35),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.inProcessNonConformance=t)}),e.qZA()(),e.TgZ(9,"div",16)(10,"input",35),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.inProcessCorrection=t)}),e.qZA()()()()()}if(2&r){const i=l.$implicit,n=e.oxw();e.xp6(4),e.Q6J("ngModel",i.date)("disabled",e.DdM(6,y).includes(n.action)),e.xp6(4),e.Q6J("ngModel",i.inProcessNonConformance)("disabled",e.DdM(7,y).includes(n.action)),e.xp6(2),e.Q6J("ngModel",i.inProcessCorrection)("disabled",e.DdM(8,y).includes(n.action))}}const Tt=function(){return{standalone:!0}};let Qt=(()=>{var r;class l{constructor(n,t,o,a,d){this.activeModal=n,this.utilityService=t,this.spinner=o,this.toastService=a,this.inkMixingIPQAService=d,this.action="create",this.selectedDetails={},this.sourceOfMfg=C.mt,this.inkMixingLogIPQA={}}ngOnInit(){this.getInitialData()}submit(){this.inkMixingLogIPQA.jobCard=this.selectedDetails?.jobCard,this.inkMixingLogIPQA.jobCardNo=this.selectedDetails?.jobCardNo,this.inkMixingLogIPQA.SKUNo=this.selectedDetails?.SKUNo,this.inkMixingLogIPQA.SKU=this.selectedDetails?.SKU,this.inkMixingLogIPQA.SKUName=this.selectedDetails?.SKUName,this.inkMixingLogIPQA.SKUDescription=this.selectedDetails?.SKUDescription,this.create()}create(){this.spinner.show(),this.inkMixingIPQAService.createOrUpdate(this.inkMixingLogIPQA).subscribe(n=>{this.spinner.hide(),this.toastService.success(n.message),this.activeModal.close()})}getInitialData(){this.spinner.show(),this.inkMixingIPQAService.getAllMasterData(this.selectedDetails).subscribe(n=>{console.log("result",n),this.inkMixingLogIPQA=n.inkMixingLogIPQA,this.inkMixingLogIPQA?.IPQALog?.inProcessInfo?.length>0&&(this.inkMixingLogIPQA.IPQALog.inProcessInfo=JSON.parse(JSON.stringify(this.inkMixingLogIPQA.IPQALog?.inProcessInfo))?.map(t=>(t.date&&(t.date=this.utilityService.getFormatDate(t.date,"YYYY-MM-DD")),t))),this.spinner.hide()})}deleteTableRow(){this.inkMixingLogIPQA?.IPQALog?.inProcessInfo?.length>1&&this.inkMixingLogIPQA.IPQALog.inProcessInfo.pop()}addTableRow(){this.inkMixingLogIPQA.IPQALog.inProcessInfo.push({date:this.utilityService.getTodayDate("YYYY-MM-DD"),inProcessCorrection:"",inProcessNonConformance:null})}}return(r=l).\u0275fac=function(n){return new(n||r)(e.Y36(u.Kz),e.Y36(c.tI),e.Y36(c.V),e.Y36(c.kl),e.Y36(At))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-ink-mixing-log-ipqa-modal"]],viewQuery:function(n,t){if(1&n&&e.Gf(_.j,5),2&n){let o;e.iGM(o=e.CRH())&&(t.headers=o)}},inputs:{action:"action",selectedDetails:"selectedDetails"},decls:60,vars:14,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container-fluid","mt-4","px-0"],[1,"row","mx-4","px-3"],[1,"label"],[1,"text-secondary"],["type","checkbox",1,"form-check-input","pointer","label",3,"ngModel","ngModelOptions","disabled","ngModelChange"],[1,"line-border"],[1,"col-3"],[1,"row"],[1,"col","pe-4"],[1,"form-label"],[1,"col-9"],[1,"col-6","ps-0"],["type","text",1,"form-label"],[1,"text-primary","span"],["class","row mx-4 px-3 mb-2",4,"ngFor","ngForOf"],[1,"row","mt-4","mb-2","px-5","mx-1"],[1,"col-12","set-image","px-0","seperate-row"],[1,"add-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/add_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"minus-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/delete_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"row","mx-4","px-3",2,"min-height","10rem"],[1,"col-12"],[1,"d-flex","align-items-center"],[1,"col-form-label","text-nowrap"],[1,"ms-1","me-2"],["placeholder","Note down any critical incident/Deviation/Concerns during production","type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col","mt-1"],[1,"row","mb-4","mt-2","mx-4","px-3"],[1,"col-5","pe-0"],["type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-7","d-flex","justify-content-end"],["type","button",1,"btn","btn-primary","px-4",3,"disabled","click"],[1,"row","mx-4","px-3","mb-2"],[1,"col-3","pe-1"],["type","date",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-9","ps-1"],[1,"col-6","pe-1"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"IPQA Log"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return t.activeModal.close()}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"label",7)(10,"h5",8),e._uU(11,'Adherence to Process Standards (Check the box if "yes")'),e.qZA(),e.TgZ(12,"input",9),e.NdJ("ngModelChange",function(a){return t.inkMixingLogIPQA.IPQALog.adherenceToProcessStd=a}),e.qZA()()(),e._UZ(13,"hr",10),e.TgZ(14,"div",6)(15,"div",11)(16,"div",12)(17,"div",13)(18,"label",14),e._uU(19,"Date"),e.qZA()()()(),e.TgZ(20,"div",15)(21,"div",12)(22,"div",16)(23,"label",17),e._uU(24," In-process Non-conformance "),e.TgZ(25,"span",18),e._uU(26,"(if any)"),e.qZA()()(),e.TgZ(27,"div",16)(28,"label",17),e._uU(29,"In-process Correction "),e.qZA()()()()(),e.YNc(30,Zt,11,9,"div",19),e.TgZ(31,"div",20)(32,"div",21)(33,"div",22)(34,"img",23),e.NdJ("click",function(){return t.addTableRow()}),e.qZA()(),e._UZ(35,"hr",10),e.TgZ(36,"div",24)(37,"img",25),e.NdJ("click",function(){return t.deleteTableRow()}),e.qZA()()()(),e.TgZ(38,"div",26)(39,"div",27)(40,"div",28)(41,"div",29),e._uU(42," Remarks "),e.TgZ(43,"span",30),e._uU(44,"\u25b6"),e.qZA()(),e.TgZ(45,"input",31),e.NdJ("ngModelChange",function(a){return t.inkMixingLogIPQA.IPQALog.remarks=a}),e.qZA()()()(),e.TgZ(46,"div",12)(47,"div",32),e._UZ(48,"hr",10),e.qZA()(),e.TgZ(49,"div",33)(50,"div",34)(51,"div",28)(52,"div",29),e._uU(53," IPQA In-charge "),e.TgZ(54,"span",30),e._uU(55,"\u25b6"),e.qZA()(),e.TgZ(56,"input",35),e.NdJ("ngModelChange",function(a){return t.inkMixingLogIPQA.IPQALog.IPQAInCharge=a}),e.qZA()()(),e.TgZ(57,"div",36)(58,"button",37),e.NdJ("click",function(){return t.submit()}),e._uU(59," Save & Close "),e.qZA()()()()()),2&n&&(e.xp6(12),e.Q6J("ngModel",t.inkMixingLogIPQA.IPQALog.adherenceToProcessStd)("ngModelOptions",e.DdM(9,Tt))("disabled",e.DdM(10,y).includes(t.action)),e.xp6(18),e.Q6J("ngForOf",null==t.inkMixingLogIPQA||null==t.inkMixingLogIPQA.IPQALog?null:t.inkMixingLogIPQA.IPQALog.inProcessInfo),e.xp6(15),e.Q6J("ngModel",t.inkMixingLogIPQA.IPQALog.remarks)("disabled",e.DdM(11,y).includes(t.action)),e.xp6(11),e.Q6J("ngModel",t.inkMixingLogIPQA.IPQALog.IPQAInCharge)("disabled",e.DdM(12,y).includes(t.action)),e.xp6(2),e.Q6J("disabled",e.DdM(13,y).includes(t.action)))},dependencies:[p.sg,s.Fj,s.Wl,s.JJ,s.On],styles:[".set-image[_ngcontent-%COMP%]{width:100%;margin-top:-1rem!important}.seperate-row[_ngcontent-%COMP%]{position:relative}.seperate-row[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]{position:absolute;left:-1rem;top:.2rem}.seperate-row[_ngcontent-%COMP%]   .minus-icon[_ngcontent-%COMP%]{position:absolute;right:-1rem;top:.2rem}.row.mx-4.px-3[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center}.row.mx-4.px-3[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-left:10px}.form-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:2px}.label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{border-color:#fa0096}"]}),l})();const A=function(){return["view"]};function kt(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"div",38)(1,"div",39)(2,"div",12)(3,"div",13)(4,"input",40),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.date=t)}),e.qZA()()()(),e.TgZ(5,"div",41)(6,"div",12)(7,"div",42)(8,"input",35),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.inProcessNonConformance=t)}),e.qZA()(),e.TgZ(9,"div",16)(10,"input",35),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.inProcessCorrection=t)}),e.qZA()()()()()}if(2&r){const i=l.$implicit,n=e.oxw();e.xp6(4),e.Q6J("ngModel",i.date)("disabled",e.DdM(6,A).includes(n.action)),e.xp6(4),e.Q6J("ngModel",i.inProcessNonConformance)("disabled",e.DdM(7,A).includes(n.action)),e.xp6(2),e.Q6J("ngModel",i.inProcessCorrection)("disabled",e.DdM(8,A).includes(n.action))}}const St=function(){return{standalone:!0}};let xt=(()=>{var r;class l{constructor(n,t,o,a,d){this.activeModal=n,this.utilityService=t,this.spinner=o,this.toastService=a,this.stockPreparationIPQAService=d,this.action="create",this.selectedDetails={},this.sourceOfMfg=C.mt,this.stockCuttingIPQA={}}ngOnInit(){this.getInitialData()}submit(){this.stockCuttingIPQA.jobCard=this.selectedDetails?.jobCard,this.stockCuttingIPQA.jobCardNo=this.selectedDetails?.jobCardNo,this.stockCuttingIPQA.SKUNo=this.selectedDetails?.SKUNo,this.stockCuttingIPQA.SKU=this.selectedDetails?.SKU,this.stockCuttingIPQA.SKUName=this.selectedDetails?.SKUName,this.stockCuttingIPQA.SKUDescription=this.selectedDetails?.SKUDescription,this.create()}create(){this.spinner.show(),this.stockPreparationIPQAService.createOrUpdate(this.stockCuttingIPQA).subscribe(n=>{this.spinner.hide(),this.toastService.success(n.message),this.activeModal.close()})}getInitialData(){this.spinner.show(),this.stockPreparationIPQAService.getAllMasterData(this.selectedDetails).subscribe(n=>{console.log("result",n),this.stockCuttingIPQA=n.stockCuttingIPQA,this.stockCuttingIPQA?.IPQALog?.inProcessInfo?.length>0&&(this.stockCuttingIPQA.IPQALog.inProcessInfo=JSON.parse(JSON.stringify(this.stockCuttingIPQA.IPQALog?.inProcessInfo))?.map(t=>(t.date&&(t.date=this.utilityService.getFormatDate(t.date,"YYYY-MM-DD")),t))),this.spinner.hide()})}deleteTableRow(){this.stockCuttingIPQA?.IPQALog?.inProcessInfo?.length>1&&this.stockCuttingIPQA.IPQALog.inProcessInfo.pop()}addTableRow(){this.stockCuttingIPQA.IPQALog.inProcessInfo.push({date:this.utilityService.getTodayDate("YYYY-MM-DD"),inProcessCorrection:"",inProcessNonConformance:null})}}return(r=l).\u0275fac=function(n){return new(n||r)(e.Y36(u.Kz),e.Y36(c.tI),e.Y36(c.V),e.Y36(c.kl),e.Y36(f.Zb))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-stock-preparation-ipqa-modal"]],viewQuery:function(n,t){if(1&n&&e.Gf(_.j,5),2&n){let o;e.iGM(o=e.CRH())&&(t.headers=o)}},inputs:{action:"action",selectedDetails:"selectedDetails"},decls:60,vars:14,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container-fluid","mt-4","px-0"],[1,"row","mx-4","px-3"],[1,"label"],[1,"text-secondary"],["type","checkbox",1,"form-check-input","pointer","label",3,"ngModel","ngModelOptions","disabled","ngModelChange"],[1,"line-border"],[1,"col-3"],[1,"row"],[1,"col","pe-4"],[1,"form-label"],[1,"col-9"],[1,"col-6","ps-0"],["type","text",1,"form-label"],[1,"text-primary","span"],["class","row mx-4 px-3 mb-2",4,"ngFor","ngForOf"],[1,"row","mt-4","mb-2","px-5","mx-1"],[1,"col-12","set-image","px-0","seperate-row"],[1,"add-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/add_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"minus-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/delete_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"row","mx-4","px-3",2,"min-height","10rem"],[1,"col-12"],[1,"d-flex","align-items-center"],[1,"col-form-label","text-nowrap"],[1,"ms-1","me-2"],["placeholder","Note down any critical incident/Deviation/Concerns during production","type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col","mt-1"],[1,"row","mb-4","mt-2","mx-4","px-3"],[1,"col-5","pe-0"],["type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-7","d-flex","justify-content-end"],["type","button",1,"btn","btn-primary","px-4",3,"disabled","click"],[1,"row","mx-4","px-3","mb-2"],[1,"col-3","pe-1"],["type","date",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-9","ps-1"],[1,"col-6","pe-1"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"IPQA Log"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return t.activeModal.close()}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"label",7)(10,"h5",8),e._uU(11,'Adherence to Process Standards (Check the box if "yes")'),e.qZA(),e.TgZ(12,"input",9),e.NdJ("ngModelChange",function(a){return t.stockCuttingIPQA.IPQALog.adherenceToProcessStd=a}),e.qZA()()(),e._UZ(13,"hr",10),e.TgZ(14,"div",6)(15,"div",11)(16,"div",12)(17,"div",13)(18,"label",14),e._uU(19,"Date"),e.qZA()()()(),e.TgZ(20,"div",15)(21,"div",12)(22,"div",16)(23,"label",17),e._uU(24," In-process Non-conformance "),e.TgZ(25,"span",18),e._uU(26,"(if any)"),e.qZA()()(),e.TgZ(27,"div",16)(28,"label",17),e._uU(29,"In-process Correction "),e.qZA()()()()(),e.YNc(30,kt,11,9,"div",19),e.TgZ(31,"div",20)(32,"div",21)(33,"div",22)(34,"img",23),e.NdJ("click",function(){return t.addTableRow()}),e.qZA()(),e._UZ(35,"hr",10),e.TgZ(36,"div",24)(37,"img",25),e.NdJ("click",function(){return t.deleteTableRow()}),e.qZA()()()(),e.TgZ(38,"div",26)(39,"div",27)(40,"div",28)(41,"div",29),e._uU(42," Remarks "),e.TgZ(43,"span",30),e._uU(44,"\u25b6"),e.qZA()(),e.TgZ(45,"input",31),e.NdJ("ngModelChange",function(a){return t.stockCuttingIPQA.IPQALog.remarks=a}),e.qZA()()()(),e.TgZ(46,"div",12)(47,"div",32),e._UZ(48,"hr",10),e.qZA()(),e.TgZ(49,"div",33)(50,"div",34)(51,"div",28)(52,"div",29),e._uU(53," IPQA In-charge "),e.TgZ(54,"span",30),e._uU(55,"\u25b6"),e.qZA()(),e.TgZ(56,"input",35),e.NdJ("ngModelChange",function(a){return t.stockCuttingIPQA.IPQALog.IPQAInCharge=a}),e.qZA()()(),e.TgZ(57,"div",36)(58,"button",37),e.NdJ("click",function(){return t.submit()}),e._uU(59," Save & Close "),e.qZA()()()()()),2&n&&(e.xp6(12),e.Q6J("ngModel",t.stockCuttingIPQA.IPQALog.adherenceToProcessStd)("ngModelOptions",e.DdM(9,St))("disabled",e.DdM(10,A).includes(t.action)),e.xp6(18),e.Q6J("ngForOf",null==t.stockCuttingIPQA||null==t.stockCuttingIPQA.IPQALog?null:t.stockCuttingIPQA.IPQALog.inProcessInfo),e.xp6(15),e.Q6J("ngModel",t.stockCuttingIPQA.IPQALog.remarks)("disabled",e.DdM(11,A).includes(t.action)),e.xp6(11),e.Q6J("ngModel",t.stockCuttingIPQA.IPQALog.IPQAInCharge)("disabled",e.DdM(12,A).includes(t.action)),e.xp6(2),e.Q6J("disabled",e.DdM(13,A).includes(t.action)))},dependencies:[p.sg,s.Fj,s.Wl,s.JJ,s.On],styles:[".set-image[_ngcontent-%COMP%]{width:100%;margin-top:-1rem!important}.seperate-row[_ngcontent-%COMP%]{position:relative}.seperate-row[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]{position:absolute;left:-1rem;top:.2rem}.seperate-row[_ngcontent-%COMP%]   .minus-icon[_ngcontent-%COMP%]{position:absolute;right:-1rem;top:.2rem}.row.mx-4.px-3[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center}.row.mx-4.px-3[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-left:10px}.form-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:2px}.label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{border-color:#fa0096}"]}),l})(),Ut=(()=>{var r;class l{constructor(n){this.http=n,this.routes={createOrUpdatePath:"/production/screenMakingLogIPQA/createOrUpdate",getAllPath:"/production/screenMakingLogIPQA/getAll",getAllMasterDataPath:"/production/screenMakingLogIPQA/getAllMasterData",getByIdPath:t=>`/production/screenMakingLogIPQA/getById/${t}`}}createOrUpdate(n){return this.http.post(this.routes.createOrUpdatePath,n).pipe((0,m.U)(t=>t))}getAll(n){return this.http.get(this.routes.getAllPath,n).pipe((0,m.U)(t=>t))}getAllMasterData(n){return this.http.get(this.routes.getAllMasterDataPath,n).pipe((0,m.U)(t=>t))}getById(n){return this.http.get(this.routes.getByIdPath(n)).pipe((0,m.U)(t=>t))}}return(r=l).\u0275fac=function(n){return new(n||r)(e.LFG(c.sM))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),l})();const Z=function(){return["view"]};function Dt(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"div",38)(1,"div",39)(2,"div",12)(3,"div",13)(4,"input",40),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.date=t)}),e.qZA()()()(),e.TgZ(5,"div",41)(6,"div",12)(7,"div",42)(8,"input",35),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.inProcessNonConformance=t)}),e.qZA()(),e.TgZ(9,"div",16)(10,"input",35),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.inProcessCorrection=t)}),e.qZA()()()()()}if(2&r){const i=l.$implicit,n=e.oxw();e.xp6(4),e.Q6J("ngModel",i.date)("disabled",e.DdM(6,Z).includes(n.action)),e.xp6(4),e.Q6J("ngModel",i.inProcessNonConformance)("disabled",e.DdM(7,Z).includes(n.action)),e.xp6(2),e.Q6J("ngModel",i.inProcessCorrection)("disabled",e.DdM(8,Z).includes(n.action))}}const wt=function(){return{standalone:!0}};let Lt=(()=>{var r;class l{constructor(n,t,o,a,d){this.activeModal=n,this.utilityService=t,this.spinner=o,this.toastService=a,this.screenMakingIPQAService=d,this.action="create",this.selectedDetails={},this.sourceOfMfg=C.mt,this.screenMakingLogIPQA={}}ngOnInit(){this.getInitialData()}submit(){this.screenMakingLogIPQA.jobCard=this.selectedDetails?.jobCard,this.screenMakingLogIPQA.jobCardNo=this.selectedDetails?.jobCardNo,this.screenMakingLogIPQA.SKUNo=this.selectedDetails?.SKUNo,this.screenMakingLogIPQA.SKU=this.selectedDetails?.SKU,this.screenMakingLogIPQA.SKUName=this.selectedDetails?.SKUName,this.screenMakingLogIPQA.SKUDescription=this.selectedDetails?.SKUDescription,this.create()}create(){this.spinner.show(),this.screenMakingIPQAService.createOrUpdate(this.screenMakingLogIPQA).subscribe(n=>{this.spinner.hide(),this.toastService.success(n.message),this.activeModal.close()})}getInitialData(){this.spinner.show(),this.screenMakingIPQAService.getAllMasterData(this.selectedDetails).subscribe(n=>{console.log("result",n),this.screenMakingLogIPQA=n.screenMakingLogIPQA,this.screenMakingLogIPQA?.IPQALog?.inProcessInfo?.length>0&&(this.screenMakingLogIPQA.IPQALog.inProcessInfo=JSON.parse(JSON.stringify(this.screenMakingLogIPQA.IPQALog?.inProcessInfo))?.map(t=>(t.date&&(t.date=this.utilityService.getFormatDate(t.date,"YYYY-MM-DD")),t))),this.spinner.hide()})}deleteTableRow(){this.screenMakingLogIPQA?.IPQALog?.inProcessInfo?.length>1&&this.screenMakingLogIPQA.IPQALog.inProcessInfo.pop()}addTableRow(){this.screenMakingLogIPQA.IPQALog.inProcessInfo.push({date:this.utilityService.getTodayDate("YYYY-MM-DD"),inProcessCorrection:"",inProcessNonConformance:null})}}return(r=l).\u0275fac=function(n){return new(n||r)(e.Y36(u.Kz),e.Y36(c.tI),e.Y36(c.V),e.Y36(c.kl),e.Y36(Ut))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-screen-making-ipqa-modal"]],viewQuery:function(n,t){if(1&n&&e.Gf(_.j,5),2&n){let o;e.iGM(o=e.CRH())&&(t.headers=o)}},inputs:{action:"action",selectedDetails:"selectedDetails"},decls:60,vars:14,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container-fluid","mt-4","px-0"],[1,"row","mx-4","px-3"],[1,"label"],[1,"text-secondary"],["type","checkbox",1,"form-check-input","pointer","label",3,"ngModel","ngModelOptions","disabled","ngModelChange"],[1,"line-border"],[1,"col-3"],[1,"row"],[1,"col","pe-4"],[1,"form-label"],[1,"col-9"],[1,"col-6","ps-0"],["type","text",1,"form-label"],[1,"text-primary","span"],["class","row mx-4 px-3 mb-2",4,"ngFor","ngForOf"],[1,"row","mt-4","mb-2","px-5","mx-1"],[1,"col-12","set-image","px-0","seperate-row"],[1,"add-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/add_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"minus-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/delete_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"row","mx-4","px-3",2,"min-height","10rem"],[1,"col-12"],[1,"d-flex","align-items-center"],[1,"col-form-label","text-nowrap"],[1,"ms-1","me-2"],["placeholder","Note down any critical incident/Deviation/Concerns during production","type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col","mt-1"],[1,"row","mb-4","mt-2","mx-4","px-3"],[1,"col-5","pe-0"],["type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-7","d-flex","justify-content-end"],["type","button",1,"btn","btn-primary","px-4",3,"disabled","click"],[1,"row","mx-4","px-3","mb-2"],[1,"col-3","pe-1"],["type","date",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-9","ps-1"],[1,"col-6","pe-1"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"IPQA Log"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return t.activeModal.close()}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"label",7)(10,"h5",8),e._uU(11,'Adherence to Process Standards (Check the box if "yes")'),e.qZA(),e.TgZ(12,"input",9),e.NdJ("ngModelChange",function(a){return t.screenMakingLogIPQA.IPQALog.adherenceToProcessStd=a}),e.qZA()()(),e._UZ(13,"hr",10),e.TgZ(14,"div",6)(15,"div",11)(16,"div",12)(17,"div",13)(18,"label",14),e._uU(19,"Date"),e.qZA()()()(),e.TgZ(20,"div",15)(21,"div",12)(22,"div",16)(23,"label",17),e._uU(24," In-process Non-conformance "),e.TgZ(25,"span",18),e._uU(26,"(if any)"),e.qZA()()(),e.TgZ(27,"div",16)(28,"label",17),e._uU(29,"In-process Correction "),e.qZA()()()()(),e.YNc(30,Dt,11,9,"div",19),e.TgZ(31,"div",20)(32,"div",21)(33,"div",22)(34,"img",23),e.NdJ("click",function(){return t.addTableRow()}),e.qZA()(),e._UZ(35,"hr",10),e.TgZ(36,"div",24)(37,"img",25),e.NdJ("click",function(){return t.deleteTableRow()}),e.qZA()()()(),e.TgZ(38,"div",26)(39,"div",27)(40,"div",28)(41,"div",29),e._uU(42," Remarks "),e.TgZ(43,"span",30),e._uU(44,"\u25b6"),e.qZA()(),e.TgZ(45,"input",31),e.NdJ("ngModelChange",function(a){return t.screenMakingLogIPQA.IPQALog.remarks=a}),e.qZA()()()(),e.TgZ(46,"div",12)(47,"div",32),e._UZ(48,"hr",10),e.qZA()(),e.TgZ(49,"div",33)(50,"div",34)(51,"div",28)(52,"div",29),e._uU(53," IPQA In-charge "),e.TgZ(54,"span",30),e._uU(55,"\u25b6"),e.qZA()(),e.TgZ(56,"input",35),e.NdJ("ngModelChange",function(a){return t.screenMakingLogIPQA.IPQALog.IPQAInCharge=a}),e.qZA()()(),e.TgZ(57,"div",36)(58,"button",37),e.NdJ("click",function(){return t.submit()}),e._uU(59," Save & Close "),e.qZA()()()()()),2&n&&(e.xp6(12),e.Q6J("ngModel",t.screenMakingLogIPQA.IPQALog.adherenceToProcessStd)("ngModelOptions",e.DdM(9,wt))("disabled",e.DdM(10,Z).includes(t.action)),e.xp6(18),e.Q6J("ngForOf",null==t.screenMakingLogIPQA||null==t.screenMakingLogIPQA.IPQALog?null:t.screenMakingLogIPQA.IPQALog.inProcessInfo),e.xp6(15),e.Q6J("ngModel",t.screenMakingLogIPQA.IPQALog.remarks)("disabled",e.DdM(11,Z).includes(t.action)),e.xp6(11),e.Q6J("ngModel",t.screenMakingLogIPQA.IPQALog.IPQAInCharge)("disabled",e.DdM(12,Z).includes(t.action)),e.xp6(2),e.Q6J("disabled",e.DdM(13,Z).includes(t.action)))},dependencies:[p.sg,s.Fj,s.Wl,s.JJ,s.On],styles:[".set-image[_ngcontent-%COMP%]{width:100%;margin-top:-1rem!important}.seperate-row[_ngcontent-%COMP%]{position:relative}.seperate-row[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]{position:absolute;left:-1rem;top:.2rem}.seperate-row[_ngcontent-%COMP%]   .minus-icon[_ngcontent-%COMP%]{position:absolute;right:-1rem;top:.2rem}.row.mx-4.px-3[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center}.row.mx-4.px-3[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-left:10px}.form-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:2px}.label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{border-color:#fa0096}"]}),l})();const T=function(){return["view"]};function qt(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"div",38)(1,"div",39)(2,"div",12)(3,"div",13)(4,"input",40),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.date=t)}),e.qZA()()()(),e.TgZ(5,"div",41)(6,"div",12)(7,"div",42)(8,"input",35),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.inProcessNonConformance=t)}),e.qZA()(),e.TgZ(9,"div",16)(10,"input",35),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.inProcessCorrection=t)}),e.qZA()()()()()}if(2&r){const i=l.$implicit,n=e.oxw();e.xp6(4),e.Q6J("ngModel",i.date)("disabled",e.DdM(6,T).includes(n.action)),e.xp6(4),e.Q6J("ngModel",i.inProcessNonConformance)("disabled",e.DdM(7,T).includes(n.action)),e.xp6(2),e.Q6J("ngModel",i.inProcessCorrection)("disabled",e.DdM(8,T).includes(n.action))}}const Ot=function(){return{standalone:!0}};let Jt=(()=>{var r;class l{constructor(n,t,o,a,d){this.activeModal=n,this.utilityService=t,this.spinner=o,this.toastService=a,this.weedingIPQAService=d,this.action="create",this.selectedDetails={},this.sourceOfMfg=C.mt,this.weedingIPQA={}}ngOnInit(){this.getInitialData()}submit(){this.weedingIPQA.jobCard=this.selectedDetails?.jobCard,this.weedingIPQA.jobCardNo=this.selectedDetails?.jobCardNo,this.weedingIPQA.SKUNo=this.selectedDetails?.SKUNo,this.weedingIPQA.SKU=this.selectedDetails?.SKU,this.weedingIPQA.SKUName=this.selectedDetails?.SKUName,this.weedingIPQA.SKUDescription=this.selectedDetails?.SKUDescription,this.create()}create(){this.spinner.show(),this.weedingIPQAService.createOrUpdate(this.weedingIPQA).subscribe(n=>{this.spinner.hide(),this.toastService.success(n.message),this.activeModal.close()})}getInitialData(){this.spinner.show(),this.weedingIPQAService.getAllMasterData(this.selectedDetails).subscribe(n=>{console.log("result",n),this.weedingIPQA=n.weedingIPQA,this.weedingIPQA?.IPQALog?.inProcessInfo?.length>0&&(this.weedingIPQA.IPQALog.inProcessInfo=JSON.parse(JSON.stringify(this.weedingIPQA.IPQALog?.inProcessInfo))?.map(t=>(t.date&&(t.date=this.utilityService.getFormatDate(t.date,"YYYY-MM-DD")),t))),this.spinner.hide()})}deleteTableRow(){this.weedingIPQA?.IPQALog?.inProcessInfo?.length>1&&this.weedingIPQA.IPQALog.inProcessInfo.pop()}addTableRow(){this.weedingIPQA.IPQALog.inProcessInfo.push({date:this.utilityService.getTodayDate("YYYY-MM-DD"),inProcessCorrection:"",inProcessNonConformance:null})}}return(r=l).\u0275fac=function(n){return new(n||r)(e.Y36(u.Kz),e.Y36(c.tI),e.Y36(c.V),e.Y36(c.kl),e.Y36(f.DL))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-weeding-log-entry-ipqa-modal"]],viewQuery:function(n,t){if(1&n&&e.Gf(_.j,5),2&n){let o;e.iGM(o=e.CRH())&&(t.headers=o)}},inputs:{action:"action",selectedDetails:"selectedDetails"},decls:60,vars:14,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container-fluid","mt-4","px-0"],[1,"row","mx-4","px-3"],[1,"label"],[1,"text-secondary"],["type","checkbox",1,"form-check-input","pointer","label",3,"ngModel","ngModelOptions","disabled","ngModelChange"],[1,"line-border"],[1,"col-3"],[1,"row"],[1,"col","pe-4"],[1,"form-label"],[1,"col-9"],[1,"col-6","ps-0"],["type","text",1,"form-label"],[1,"text-primary","span"],["class","row mx-4 px-3 mb-2",4,"ngFor","ngForOf"],[1,"row","mt-4","mb-2","px-5","mx-1"],[1,"col-12","set-image","px-0","seperate-row"],[1,"add-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/add_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"minus-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/delete_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"row","mx-4","px-3",2,"min-height","10rem"],[1,"col-12"],[1,"d-flex","align-items-center"],[1,"col-form-label","text-nowrap"],[1,"ms-1","me-2"],["placeholder","Note down any critical incident/Deviation/Concerns during production","type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col","mt-1"],[1,"row","mb-4","mt-2","mx-4","px-3"],[1,"col-5","pe-0"],["type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-7","d-flex","justify-content-end"],["type","button",1,"btn","btn-primary","px-4",3,"disabled","click"],[1,"row","mx-4","px-3","mb-2"],[1,"col-3","pe-1"],["type","date",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-9","ps-1"],[1,"col-6","pe-1"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"IPQA Log"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return t.activeModal.close()}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"label",7)(10,"h5",8),e._uU(11,'Adherence to Process Standards (Check the box if "yes")'),e.qZA(),e.TgZ(12,"input",9),e.NdJ("ngModelChange",function(a){return t.weedingIPQA.IPQALog.adherenceToProcessStd=a}),e.qZA()()(),e._UZ(13,"hr",10),e.TgZ(14,"div",6)(15,"div",11)(16,"div",12)(17,"div",13)(18,"label",14),e._uU(19,"Date"),e.qZA()()()(),e.TgZ(20,"div",15)(21,"div",12)(22,"div",16)(23,"label",17),e._uU(24," In-process Non-conformance "),e.TgZ(25,"span",18),e._uU(26,"(if any)"),e.qZA()()(),e.TgZ(27,"div",16)(28,"label",17),e._uU(29,"In-process Correction "),e.qZA()()()()(),e.YNc(30,qt,11,9,"div",19),e.TgZ(31,"div",20)(32,"div",21)(33,"div",22)(34,"img",23),e.NdJ("click",function(){return t.addTableRow()}),e.qZA()(),e._UZ(35,"hr",10),e.TgZ(36,"div",24)(37,"img",25),e.NdJ("click",function(){return t.deleteTableRow()}),e.qZA()()()(),e.TgZ(38,"div",26)(39,"div",27)(40,"div",28)(41,"div",29),e._uU(42," Remarks "),e.TgZ(43,"span",30),e._uU(44,"\u25b6"),e.qZA()(),e.TgZ(45,"input",31),e.NdJ("ngModelChange",function(a){return t.weedingIPQA.IPQALog.remarks=a}),e.qZA()()()(),e.TgZ(46,"div",12)(47,"div",32),e._UZ(48,"hr",10),e.qZA()(),e.TgZ(49,"div",33)(50,"div",34)(51,"div",28)(52,"div",29),e._uU(53," IPQA In-charge "),e.TgZ(54,"span",30),e._uU(55,"\u25b6"),e.qZA()(),e.TgZ(56,"input",35),e.NdJ("ngModelChange",function(a){return t.weedingIPQA.IPQALog.IPQAInCharge=a}),e.qZA()()(),e.TgZ(57,"div",36)(58,"button",37),e.NdJ("click",function(){return t.submit()}),e._uU(59," Save & Close "),e.qZA()()()()()),2&n&&(e.xp6(12),e.Q6J("ngModel",t.weedingIPQA.IPQALog.adherenceToProcessStd)("ngModelOptions",e.DdM(9,Ot))("disabled",e.DdM(10,T).includes(t.action)),e.xp6(18),e.Q6J("ngForOf",null==t.weedingIPQA||null==t.weedingIPQA.IPQALog?null:t.weedingIPQA.IPQALog.inProcessInfo),e.xp6(15),e.Q6J("ngModel",t.weedingIPQA.IPQALog.remarks)("disabled",e.DdM(11,T).includes(t.action)),e.xp6(11),e.Q6J("ngModel",t.weedingIPQA.IPQALog.IPQAInCharge)("disabled",e.DdM(12,T).includes(t.action)),e.xp6(2),e.Q6J("disabled",e.DdM(13,T).includes(t.action)))},dependencies:[p.sg,s.Fj,s.Wl,s.JJ,s.On],styles:[".set-image[_ngcontent-%COMP%]{width:100%;margin-top:-1rem!important}.seperate-row[_ngcontent-%COMP%]{position:relative}.seperate-row[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]{position:absolute;left:-1rem;top:.2rem}.seperate-row[_ngcontent-%COMP%]   .minus-icon[_ngcontent-%COMP%]{position:absolute;right:-1rem;top:.2rem}.row.mx-4.px-3[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center}.row.mx-4.px-3[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-left:10px}.form-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:2px}.label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{border-color:#fa0096}"]}),l})();const Q=function(){return["view"]};function Nt(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"div",38)(1,"div",39)(2,"div",12)(3,"div",13)(4,"input",40),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.date=t)}),e.qZA()()()(),e.TgZ(5,"div",41)(6,"div",12)(7,"div",42)(8,"input",35),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.inProcessNonConformance=t)}),e.qZA()(),e.TgZ(9,"div",16)(10,"input",35),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.inProcessCorrection=t)}),e.qZA()()()()()}if(2&r){const i=l.$implicit,n=e.oxw();e.xp6(4),e.Q6J("ngModel",i.date)("disabled",e.DdM(6,Q).includes(n.action)),e.xp6(4),e.Q6J("ngModel",i.inProcessNonConformance)("disabled",e.DdM(7,Q).includes(n.action)),e.xp6(2),e.Q6J("ngModel",i.inProcessCorrection)("disabled",e.DdM(8,Q).includes(n.action))}}const Et=function(){return{standalone:!0}};let Kt=(()=>{var r;class l{constructor(n,t,o,a,d){this.activeModal=n,this.utilityService=t,this.spinner=o,this.toastService=a,this.laminationIPQAService=d,this.action="create",this.selectedDetails={},this.sourceOfMfg=C.mt,this.laminationIPQA={}}ngOnInit(){this.getInitialData()}submit(){this.laminationIPQA.jobCard=this.selectedDetails?.jobCard,this.laminationIPQA.jobCardNo=this.selectedDetails?.jobCardNo,this.laminationIPQA.SKUNo=this.selectedDetails?.SKUNo,this.laminationIPQA.SKU=this.selectedDetails?.SKU,this.laminationIPQA.SKUName=this.selectedDetails?.SKUName,this.laminationIPQA.SKUDescription=this.selectedDetails?.SKUDescription,this.create()}create(){this.spinner.show(),this.laminationIPQAService.createOrUpdate(this.laminationIPQA).subscribe(n=>{this.spinner.hide(),this.toastService.success(n.message),this.activeModal.close()})}getInitialData(){this.spinner.show(),this.laminationIPQAService.getAllMasterData(this.selectedDetails).subscribe(n=>{console.log("result",n),this.laminationIPQA=n.laminationIPQA,this.laminationIPQA?.IPQALog?.inProcessInfo?.length>0&&(this.laminationIPQA.IPQALog.inProcessInfo=JSON.parse(JSON.stringify(this.laminationIPQA.IPQALog?.inProcessInfo))?.map(t=>(t.date&&(t.date=this.utilityService.getFormatDate(t.date,"YYYY-MM-DD")),t))),this.spinner.hide()})}deleteTableRow(){this.laminationIPQA?.IPQALog?.inProcessInfo?.length>1&&this.laminationIPQA.IPQALog.inProcessInfo.pop()}addTableRow(){this.laminationIPQA.IPQALog.inProcessInfo.push({date:this.utilityService.getTodayDate("YYYY-MM-DD"),inProcessCorrection:"",inProcessNonConformance:null})}}return(r=l).\u0275fac=function(n){return new(n||r)(e.Y36(u.Kz),e.Y36(c.tI),e.Y36(c.V),e.Y36(c.kl),e.Y36(f.tK))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-lamination-log-entry-ipqa-modal"]],viewQuery:function(n,t){if(1&n&&e.Gf(_.j,5),2&n){let o;e.iGM(o=e.CRH())&&(t.headers=o)}},inputs:{action:"action",selectedDetails:"selectedDetails"},decls:60,vars:14,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container-fluid","mt-4","px-0"],[1,"row","mx-4","px-3"],[1,"label"],[1,"text-secondary"],["type","checkbox",1,"form-check-input","pointer","label",3,"ngModel","ngModelOptions","disabled","ngModelChange"],[1,"line-border"],[1,"col-3"],[1,"row"],[1,"col","pe-4"],[1,"form-label"],[1,"col-9"],[1,"col-6","ps-0"],["type","text",1,"form-label"],[1,"text-primary","span"],["class","row mx-4 px-3 mb-2",4,"ngFor","ngForOf"],[1,"row","mt-4","mb-2","px-5","mx-1"],[1,"col-12","set-image","px-0","seperate-row"],[1,"add-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/add_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"minus-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/delete_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"row","mx-4","px-3",2,"min-height","10rem"],[1,"col-12"],[1,"d-flex","align-items-center"],[1,"col-form-label","text-nowrap"],[1,"ms-1","me-2"],["placeholder","Note down any critical incident/Deviation/Concerns during production","type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col","mt-1"],[1,"row","mb-4","mt-2","mx-4","px-3"],[1,"col-5","pe-0"],["type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-7","d-flex","justify-content-end"],["type","button",1,"btn","btn-primary","px-4",3,"disabled","click"],[1,"row","mx-4","px-3","mb-2"],[1,"col-3","pe-1"],["type","date",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-9","ps-1"],[1,"col-6","pe-1"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"IPQA Log"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return t.activeModal.close()}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"label",7)(10,"h5",8),e._uU(11,'Adherence to Process Standards (Check the box if "yes")'),e.qZA(),e.TgZ(12,"input",9),e.NdJ("ngModelChange",function(a){return t.laminationIPQA.IPQALog.adherenceToProcessStd=a}),e.qZA()()(),e._UZ(13,"hr",10),e.TgZ(14,"div",6)(15,"div",11)(16,"div",12)(17,"div",13)(18,"label",14),e._uU(19,"Date"),e.qZA()()()(),e.TgZ(20,"div",15)(21,"div",12)(22,"div",16)(23,"label",17),e._uU(24," In-process Non-conformance "),e.TgZ(25,"span",18),e._uU(26,"(if any)"),e.qZA()()(),e.TgZ(27,"div",16)(28,"label",17),e._uU(29,"In-process Correction "),e.qZA()()()()(),e.YNc(30,Nt,11,9,"div",19),e.TgZ(31,"div",20)(32,"div",21)(33,"div",22)(34,"img",23),e.NdJ("click",function(){return t.addTableRow()}),e.qZA()(),e._UZ(35,"hr",10),e.TgZ(36,"div",24)(37,"img",25),e.NdJ("click",function(){return t.deleteTableRow()}),e.qZA()()()(),e.TgZ(38,"div",26)(39,"div",27)(40,"div",28)(41,"div",29),e._uU(42," Remarks "),e.TgZ(43,"span",30),e._uU(44,"\u25b6"),e.qZA()(),e.TgZ(45,"input",31),e.NdJ("ngModelChange",function(a){return t.laminationIPQA.IPQALog.remarks=a}),e.qZA()()()(),e.TgZ(46,"div",12)(47,"div",32),e._UZ(48,"hr",10),e.qZA()(),e.TgZ(49,"div",33)(50,"div",34)(51,"div",28)(52,"div",29),e._uU(53," IPQA In-charge "),e.TgZ(54,"span",30),e._uU(55,"\u25b6"),e.qZA()(),e.TgZ(56,"input",35),e.NdJ("ngModelChange",function(a){return t.laminationIPQA.IPQALog.IPQAInCharge=a}),e.qZA()()(),e.TgZ(57,"div",36)(58,"button",37),e.NdJ("click",function(){return t.submit()}),e._uU(59," Save & Close "),e.qZA()()()()()),2&n&&(e.xp6(12),e.Q6J("ngModel",t.laminationIPQA.IPQALog.adherenceToProcessStd)("ngModelOptions",e.DdM(9,Et))("disabled",e.DdM(10,Q).includes(t.action)),e.xp6(18),e.Q6J("ngForOf",null==t.laminationIPQA||null==t.laminationIPQA.IPQALog?null:t.laminationIPQA.IPQALog.inProcessInfo),e.xp6(15),e.Q6J("ngModel",t.laminationIPQA.IPQALog.remarks)("disabled",e.DdM(11,Q).includes(t.action)),e.xp6(11),e.Q6J("ngModel",t.laminationIPQA.IPQALog.IPQAInCharge)("disabled",e.DdM(12,Q).includes(t.action)),e.xp6(2),e.Q6J("disabled",e.DdM(13,Q).includes(t.action)))},dependencies:[p.sg,s.Fj,s.Wl,s.JJ,s.On],styles:[".set-image[_ngcontent-%COMP%]{width:100%;margin-top:-1rem!important}.seperate-row[_ngcontent-%COMP%]{position:relative}.seperate-row[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]{position:absolute;left:-1rem;top:.2rem}.seperate-row[_ngcontent-%COMP%]   .minus-icon[_ngcontent-%COMP%]{position:absolute;right:-1rem;top:.2rem}.row.mx-4.px-3[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center}.row.mx-4.px-3[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-left:10px}.form-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:2px}.label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{border-color:#fa0096}"]}),l})();function Yt(r,l){if(1&r&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&r){const i=l.$implicit;e.Q6J("value",i.value),e.xp6(1),e.hij(" ",i.label," ")}}function Ft(r,l){1&r&&e._UZ(0,"div",43)}function jt(r,l){1&r&&e._UZ(0,"div",44)}const J=function(){return["view","approve"]};function Gt(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"div",33)(1,"div",7)(2,"div",8)(3,"div",9)(4,"ng-select",34),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.inspectionType=t)}),e.qZA()(),e.TgZ(5,"div",11)(6,"ng-select",34),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.inspectionParameter=t)}),e.qZA()()()(),e.TgZ(7,"div",12)(8,"div",8)(9,"div",13)(10,"input",35),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.observation=t)}),e.qZA()(),e.TgZ(11,"div",14)(12,"input",35),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.inspectedBy=t)}),e.qZA()(),e.TgZ(13,"div",15)(14,"div",26)(15,"select",36),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.status=t)}),e.TgZ(16,"option",37),e._uU(17,"Select Status"),e.qZA(),e.YNc(18,Yt,2,2,"option",38),e.qZA(),e.TgZ(19,"span",39),e.YNc(20,Ft,1,0,"div",40),e.YNc(21,jt,1,0,"div",41),e.qZA()()()()()()}if(2&r){const i=l.$implicit,n=e.oxw();e.xp6(4),e.Q6J("items",n.inspectionTypeOptions)("clearable",!1)("ngModel",i.inspectionType)("disabled",e.DdM(16,J).includes(n.action)),e.xp6(2),e.Q6J("items",n.inspectionParameterOptions)("clearable",!1)("ngModel",i.inspectionParameter)("disabled",e.DdM(17,J).includes(n.action)),e.xp6(4),e.Q6J("ngModel",i.observation)("disabled",e.DdM(18,J).includes(n.action)),e.xp6(2),e.Q6J("ngModel",i.inspectedBy)("disabled",e.DdM(19,J).includes(n.action)),e.xp6(3),e.Q6J("ngModel",i.status),e.xp6(3),e.Q6J("ngForOf",n.statusOptions),e.xp6(2),e.Q6J("ngIf","Pass"==i.status),e.xp6(1),e.Q6J("ngIf","Fail"==i.status)}}let Rt=(()=>{var r;class l{constructor(n,t,o,a,d){this.activeModal=n,this.utilityService=t,this.punchingIPQAService=o,this.spinner=a,this.toastService=d,this.action="create",this.selectedDetails={},this.inspectionTypeOptions=[],this.inspectionParameterOptions=[],this.statusOptions=[],this.throughPunchingIPQC={}}ngOnInit(){this.getInitialData()}submit(){this.throughPunchingIPQC.jobCard=this.selectedDetails?.jobCard,this.throughPunchingIPQC.jobCardNo=this.selectedDetails?.jobCardNo,this.throughPunchingIPQC.SKUNo=this.selectedDetails?.SKUNo,this.throughPunchingIPQC.SKU=this.selectedDetails?.SKU,this.throughPunchingIPQC.SKUName=this.selectedDetails?.SKUName,this.throughPunchingIPQC.SKUDescription=this.selectedDetails?.SKUDescription,this.create()}create(){this.spinner.show(),this.punchingIPQAService.createOrUpdate(this.throughPunchingIPQC).subscribe(n=>{this.spinner.hide(),this.toastService.success(n.message),this.activeModal.close()})}getInitialData(){this.spinner.show(),this.punchingIPQAService.getAllMasterData(this.selectedDetails).subscribe(n=>{this.inspectionTypeOptions=n.inspectionTypeOptions,this.inspectionParameterOptions=n.inspectionParameterOptions,this.statusOptions=n.statusOptions,this.throughPunchingIPQC=n.throughPunchingIPQC,this.spinner.hide()})}deleteTableRow(){this.throughPunchingIPQC?.IPQCLogInfo.length>1&&this.throughPunchingIPQC?.IPQCLogInfo.pop()}addTableRow(){this.throughPunchingIPQC?.IPQCLogInfo.push({inspectionType:null,inspectionParameter:null,observation:null,inspectedBy:null,status:null})}}return(r=l).\u0275fac=function(n){return new(n||r)(e.Y36(u.Kz),e.Y36(c.tI),e.Y36(f.uz),e.Y36(c.V),e.Y36(c.kl))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-punching-log-entry-ipqa-modal"]],viewQuery:function(n,t){if(1&n&&e.Gf(_.j,5),2&n){let o;e.iGM(o=e.CRH())&&(t.headers=o)}},inputs:{action:"action",selectedDetails:"selectedDetails"},decls:49,vars:4,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container-fluid","px-0"],[1,"row","mx-4","mt-4","px-2"],[1,"col-5"],[1,"row"],[1,"col-7","pe-0"],[1,"form-label"],[1,"col-5","px-1"],[1,"col-7","ps-1"],[1,"col-6","pe-1"],[1,"col-3","ps-0","pe-1"],[1,"col-3","ps-0"],["class","row mx-4 px-2 mb-2",4,"ngFor","ngForOf"],[1,"row","mt-4","mb-2","px-5","mx-1"],[1,"col-12","set-image","px-0","seperate-row"],[1,"minus-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/delete_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"line-border"],[1,"add-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/add_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"row","d-flex","justify-content-center","mx-4","px-2"],[1,"col-12"],[1,"d-flex","align-items-center"],[1,"col-form-label","text-nowrap"],[1,"ms-1","me-2"],["placeholder","Note down any critical incident/Major defects found during inspection stages","type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"row","mb-4","mt-2","mx-4","px-2"],[1,"col-","d-flex","justify-content-center"],["type","button",1,"btn","btn-primary","px-4",3,"click"],[1,"row","mx-4","px-2","mb-2"],["bindLabel","label","bindValue","value",3,"items","clearable","ngModel","disabled","ngModelChange"],["type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"form-select",3,"ngModel","ngModelChange"],["selected","","disabled","","value","null"],[3,"value",4,"ngFor","ngForOf"],[1,"input-group-text","statusSpanHeight"],["class","statusActive","class","statusActive",4,"ngIf"],["class","statusInActive",4,"ngIf"],[3,"value"],[1,"statusActive"],[1,"statusInActive"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Punching IPQC - Inprocess Quality Check"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return t.activeModal.close()}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),e._uU(13,"Inspection Type "),e.qZA()(),e.TgZ(14,"div",11)(15,"label",10),e._uU(16,"Inspection Parameter "),e.qZA()()()(),e.TgZ(17,"div",12)(18,"div",8)(19,"div",13)(20,"label",10),e._uU(21,"Observation "),e.qZA()(),e.TgZ(22,"div",14)(23,"label",10),e._uU(24,"Inspected by "),e.qZA()(),e.TgZ(25,"div",15)(26,"label",10),e._uU(27,"Status"),e.qZA()()()()(),e.YNc(28,Gt,22,20,"div",16),e.TgZ(29,"div",17)(30,"div",18)(31,"div",19)(32,"img",20),e.NdJ("click",function(){return t.deleteTableRow()}),e.qZA()(),e._UZ(33,"hr",21),e.TgZ(34,"div",22)(35,"img",23),e.NdJ("click",function(){return t.addTableRow()}),e.qZA()()()(),e.TgZ(36,"div",24)(37,"div",25)(38,"div",26)(39,"div",27),e._uU(40," Remarks "),e.TgZ(41,"span",28),e._uU(42,"\u25b6"),e.qZA()(),e.TgZ(43,"input",29),e.NdJ("ngModelChange",function(a){return t.throughPunchingIPQC.remarks=a}),e.qZA()()()(),e._UZ(44,"hr",21),e.TgZ(45,"div",30)(46,"div",31)(47,"button",32),e.NdJ("click",function(){return t.submit()}),e._uU(48,"Save & Close"),e.qZA()()()()()),2&n&&(e.xp6(28),e.Q6J("ngForOf",null==t.throughPunchingIPQC?null:t.throughPunchingIPQC.IPQCLogInfo),e.xp6(15),e.Q6J("ngModel",t.throughPunchingIPQC.remarks)("disabled",e.DdM(3,J).includes(t.action)))},dependencies:[p.sg,p.O5,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.On,M.w9],styles:[".set-image[_ngcontent-%COMP%]{width:100%;margin-top:-1rem!important}.seperate-row[_ngcontent-%COMP%]{position:relative}.seperate-row[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]{position:absolute;right:-1rem;top:.2rem}.seperate-row[_ngcontent-%COMP%]   .minus-icon[_ngcontent-%COMP%]{position:absolute;left:-1rem;top:.2rem}.set-prod-status[_ngcontent-%COMP%]{border:solid 1px #d6cdcd!important}"]}),l})();const k=function(){return["view"]};function Bt(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"div",38)(1,"div",39)(2,"div",12)(3,"div",13)(4,"input",40),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.date=t)}),e.qZA()()()(),e.TgZ(5,"div",41)(6,"div",12)(7,"div",42)(8,"input",35),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.inProcessNonConformance=t)}),e.qZA()(),e.TgZ(9,"div",16)(10,"input",35),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.inProcessCorrection=t)}),e.qZA()()()()()}if(2&r){const i=l.$implicit,n=e.oxw();e.xp6(4),e.Q6J("ngModel",i.date)("disabled",e.DdM(6,k).includes(n.action)),e.xp6(4),e.Q6J("ngModel",i.inProcessNonConformance)("disabled",e.DdM(7,k).includes(n.action)),e.xp6(2),e.Q6J("ngModel",i.inProcessCorrection)("disabled",e.DdM(8,k).includes(n.action))}}const Ht=function(){return{standalone:!0}};let $t=(()=>{var r;class l{constructor(n,t,o,a,d){this.activeModal=n,this.utilityService=t,this.spinner=o,this.toastService=a,this.packingIPQAService=d,this.action="create",this.selectedDetails={},this.sourceOfMfg=C.mt,this.packingIPQA={}}ngOnInit(){this.getInitialData()}submit(){this.packingIPQA.jobCard=this.selectedDetails?.jobCard,this.packingIPQA.jobCardNo=this.selectedDetails?.jobCardNo,this.packingIPQA.SKUNo=this.selectedDetails?.SKUNo,this.packingIPQA.SKU=this.selectedDetails?.SKU,this.packingIPQA.SKUName=this.selectedDetails?.SKUName,this.packingIPQA.SKUDescription=this.selectedDetails?.SKUDescription,this.create()}create(){this.spinner.show(),this.packingIPQAService.createOrUpdate(this.packingIPQA).subscribe(n=>{this.spinner.hide(),this.toastService.success(n.message),this.activeModal.close()})}getInitialData(){this.spinner.show(),this.packingIPQAService.getAllMasterData(this.selectedDetails).subscribe(n=>{console.log("result",n),this.packingIPQA=n.packingIPQA,this.packingIPQA?.IPQALog?.inProcessInfo?.length>0&&(this.packingIPQA.IPQALog.inProcessInfo=JSON.parse(JSON.stringify(this.packingIPQA.IPQALog?.inProcessInfo))?.map(t=>(t.date&&(t.date=this.utilityService.getFormatDate(t.date,"YYYY-MM-DD")),t))),this.spinner.hide()})}deleteTableRow(){this.packingIPQA?.IPQALog?.inProcessInfo?.length>1&&this.packingIPQA.IPQALog.inProcessInfo.pop()}addTableRow(){this.packingIPQA.IPQALog.inProcessInfo.push({date:this.utilityService.getTodayDate("YYYY-MM-DD"),inProcessCorrection:"",inProcessNonConformance:null})}}return(r=l).\u0275fac=function(n){return new(n||r)(e.Y36(u.Kz),e.Y36(c.tI),e.Y36(c.V),e.Y36(c.kl),e.Y36(f.mn))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-packing-log-entry-ipqa-modal"]],viewQuery:function(n,t){if(1&n&&e.Gf(_.j,5),2&n){let o;e.iGM(o=e.CRH())&&(t.headers=o)}},inputs:{action:"action",selectedDetails:"selectedDetails"},decls:60,vars:14,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container-fluid","mt-4","px-0"],[1,"row","mx-4","px-3"],[1,"label"],[1,"text-secondary"],["type","checkbox",1,"form-check-input","pointer","label",3,"ngModel","ngModelOptions","disabled","ngModelChange"],[1,"line-border"],[1,"col-3"],[1,"row"],[1,"col","pe-4"],[1,"form-label"],[1,"col-9"],[1,"col-6","ps-0"],["type","text",1,"form-label"],[1,"text-primary","span"],["class","row mx-4 px-3 mb-2",4,"ngFor","ngForOf"],[1,"row","mt-4","mb-2","px-5","mx-1"],[1,"col-12","set-image","px-0","seperate-row"],[1,"add-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/add_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"minus-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/delete_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"row","mx-4","px-3",2,"min-height","10rem"],[1,"col-12"],[1,"d-flex","align-items-center"],[1,"col-form-label","text-nowrap"],[1,"ms-1","me-2"],["placeholder","Note down any critical incident/Deviation/Concerns during production","type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col","mt-1"],[1,"row","mb-4","mt-2","mx-4","px-3"],[1,"col-5","pe-0"],["type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-7","d-flex","justify-content-end"],["type","button",1,"btn","btn-primary","px-4",3,"disabled","click"],[1,"row","mx-4","px-3","mb-2"],[1,"col-3","pe-1"],["type","date",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-9","ps-1"],[1,"col-6","pe-1"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"IPQA Log"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return t.activeModal.close()}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"label",7)(10,"h5",8),e._uU(11,'Adherence to Process Standards (Check the box if "yes")'),e.qZA(),e.TgZ(12,"input",9),e.NdJ("ngModelChange",function(a){return t.packingIPQA.IPQALog.adherenceToProcessStd=a}),e.qZA()()(),e._UZ(13,"hr",10),e.TgZ(14,"div",6)(15,"div",11)(16,"div",12)(17,"div",13)(18,"label",14),e._uU(19,"Date"),e.qZA()()()(),e.TgZ(20,"div",15)(21,"div",12)(22,"div",16)(23,"label",17),e._uU(24," In-process Non-conformance "),e.TgZ(25,"span",18),e._uU(26,"(if any)"),e.qZA()()(),e.TgZ(27,"div",16)(28,"label",17),e._uU(29,"In-process Correction "),e.qZA()()()()(),e.YNc(30,Bt,11,9,"div",19),e.TgZ(31,"div",20)(32,"div",21)(33,"div",22)(34,"img",23),e.NdJ("click",function(){return t.addTableRow()}),e.qZA()(),e._UZ(35,"hr",10),e.TgZ(36,"div",24)(37,"img",25),e.NdJ("click",function(){return t.deleteTableRow()}),e.qZA()()()(),e.TgZ(38,"div",26)(39,"div",27)(40,"div",28)(41,"div",29),e._uU(42," Remarks "),e.TgZ(43,"span",30),e._uU(44,"\u25b6"),e.qZA()(),e.TgZ(45,"input",31),e.NdJ("ngModelChange",function(a){return t.packingIPQA.IPQALog.remarks=a}),e.qZA()()()(),e.TgZ(46,"div",12)(47,"div",32),e._UZ(48,"hr",10),e.qZA()(),e.TgZ(49,"div",33)(50,"div",34)(51,"div",28)(52,"div",29),e._uU(53," IPQA In-charge "),e.TgZ(54,"span",30),e._uU(55,"\u25b6"),e.qZA()(),e.TgZ(56,"input",35),e.NdJ("ngModelChange",function(a){return t.packingIPQA.IPQALog.IPQAInCharge=a}),e.qZA()()(),e.TgZ(57,"div",36)(58,"button",37),e.NdJ("click",function(){return t.submit()}),e._uU(59," Save & Close "),e.qZA()()()()()),2&n&&(e.xp6(12),e.Q6J("ngModel",t.packingIPQA.IPQALog.adherenceToProcessStd)("ngModelOptions",e.DdM(9,Ht))("disabled",e.DdM(10,k).includes(t.action)),e.xp6(18),e.Q6J("ngForOf",null==t.packingIPQA||null==t.packingIPQA.IPQALog?null:t.packingIPQA.IPQALog.inProcessInfo),e.xp6(15),e.Q6J("ngModel",t.packingIPQA.IPQALog.remarks)("disabled",e.DdM(11,k).includes(t.action)),e.xp6(11),e.Q6J("ngModel",t.packingIPQA.IPQALog.IPQAInCharge)("disabled",e.DdM(12,k).includes(t.action)),e.xp6(2),e.Q6J("disabled",e.DdM(13,k).includes(t.action)))},dependencies:[p.sg,s.Fj,s.Wl,s.JJ,s.On],styles:[".set-image[_ngcontent-%COMP%]{width:100%;margin-top:-1rem!important}.seperate-row[_ngcontent-%COMP%]{position:relative}.seperate-row[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]{position:absolute;left:-1rem;top:.2rem}.seperate-row[_ngcontent-%COMP%]   .minus-icon[_ngcontent-%COMP%]{position:absolute;right:-1rem;top:.2rem}.row.mx-4.px-3[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center}.row.mx-4.px-3[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-left:10px}.form-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:2px}.label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{border-color:#fa0096}"]}),l})(),zt=(()=>{var r;class l{constructor(n){this.http=n,this.routes={createOrUpdatePath:"/production/screenPrintingLogIPQA/createOrUpdate",getAllPath:"/production/screenPrintingLogIPQA/getAll",getAllMasterDataPath:"/production/screenPrintingLogIPQA/getAllMasterData",getByIdPath:t=>`/production/screenPrintingLogIPQA/getById/${t}`}}createOrUpdate(n){return this.http.post(this.routes.createOrUpdatePath,n).pipe((0,m.U)(t=>t))}getAll(n){return this.http.get(this.routes.getAllPath,n).pipe((0,m.U)(t=>t))}getAllMasterData(n){return this.http.get(this.routes.getAllMasterDataPath,n).pipe((0,m.U)(t=>t))}getById(n){return this.http.get(this.routes.getByIdPath(n)).pipe((0,m.U)(t=>t))}}return(r=l).\u0275fac=function(n){return new(n||r)(e.LFG(c.sM))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),l})();function Vt(r,l){if(1&r&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&r){const i=l.$implicit;e.Q6J("value",i.value),e.xp6(1),e.hij(" ",i.label," ")}}function Wt(r,l){1&r&&e._UZ(0,"div",43)}function Xt(r,l){1&r&&e._UZ(0,"div",44)}const N=function(){return["view","approve"]};function en(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"div",33)(1,"div",7)(2,"div",8)(3,"div",9)(4,"ng-select",34),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.inspectionType=t)}),e.qZA()(),e.TgZ(5,"div",11)(6,"ng-select",34),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.inspectionParameter=t)}),e.qZA()()()(),e.TgZ(7,"div",12)(8,"div",8)(9,"div",13)(10,"input",35),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.observation=t)}),e.qZA()(),e.TgZ(11,"div",14)(12,"input",35),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.inspectedBy=t)}),e.qZA()(),e.TgZ(13,"div",15)(14,"div",26)(15,"select",36),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.status=t)}),e.TgZ(16,"option",37),e._uU(17,"Select Status"),e.qZA(),e.YNc(18,Vt,2,2,"option",38),e.qZA(),e.TgZ(19,"span",39),e.YNc(20,Wt,1,0,"div",40),e.YNc(21,Xt,1,0,"div",41),e.qZA()()()()()()}if(2&r){const i=l.$implicit,n=e.oxw();e.xp6(4),e.Q6J("items",n.inspectionTypeOptions)("clearable",!1)("ngModel",i.inspectionType)("disabled",e.DdM(16,N).includes(n.action)),e.xp6(2),e.Q6J("items",n.inspectionParameterOptions)("clearable",!1)("ngModel",i.inspectionParameter)("disabled",e.DdM(17,N).includes(n.action)),e.xp6(4),e.Q6J("ngModel",i.observation)("disabled",e.DdM(18,N).includes(n.action)),e.xp6(2),e.Q6J("ngModel",i.inspectedBy)("disabled",e.DdM(19,N).includes(n.action)),e.xp6(3),e.Q6J("ngModel",i.status),e.xp6(3),e.Q6J("ngForOf",n.statusOptions),e.xp6(2),e.Q6J("ngIf","Pass"==i.status),e.xp6(1),e.Q6J("ngIf","Fail"==i.status)}}let tn=(()=>{var r;class l{constructor(n,t,o,a,d){this.activeModal=n,this.utilityService=t,this.screenPrintingIPQAService=o,this.spinner=a,this.toastService=d,this.action="create",this.selectedDetails={},this.inspectionTypeOptions=[],this.inspectionParameterOptions=[],this.statusOptions=[],this.screenPrintingLogIPQC={}}ngOnInit(){this.getInitialData()}submit(){this.screenPrintingLogIPQC.jobCard=this.selectedDetails?.jobCard,this.screenPrintingLogIPQC.jobCardNo=this.selectedDetails?.jobCardNo,this.screenPrintingLogIPQC.SKUNo=this.selectedDetails?.SKUNo,this.screenPrintingLogIPQC.SKU=this.selectedDetails?.SKU,this.screenPrintingLogIPQC.SKUName=this.selectedDetails?.SKUName,this.screenPrintingLogIPQC.SKUDescription=this.selectedDetails?.SKUDescription,this.create()}create(){this.spinner.show(),this.screenPrintingIPQAService.createOrUpdate(this.screenPrintingLogIPQC).subscribe(n=>{this.spinner.hide(),this.toastService.success(n.message),this.activeModal.close()})}getInitialData(){this.spinner.show(),this.screenPrintingIPQAService.getAllMasterData(this.selectedDetails).subscribe(n=>{this.inspectionTypeOptions=n.inspectionTypeOptions,this.inspectionParameterOptions=n.inspectionParameterOptions,this.statusOptions=n.statusOptions,this.screenPrintingLogIPQC=n.screenPrintingLogIPQC,this.spinner.hide()})}deleteTableRow(){this.screenPrintingLogIPQC?.IPQCLogInfo.length>1&&this.screenPrintingLogIPQC?.IPQCLogInfo.pop()}addTableRow(){this.screenPrintingLogIPQC?.IPQCLogInfo.push({inspectionType:null,inspectionParameter:null,observation:null,inspectedBy:null,status:null})}}return(r=l).\u0275fac=function(n){return new(n||r)(e.Y36(u.Kz),e.Y36(c.tI),e.Y36(zt),e.Y36(c.V),e.Y36(c.kl))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-screen-printing-ipqa-modal"]],viewQuery:function(n,t){if(1&n&&e.Gf(_.j,5),2&n){let o;e.iGM(o=e.CRH())&&(t.headers=o)}},inputs:{action:"action",selectedDetails:"selectedDetails"},decls:49,vars:4,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container-fluid","px-0"],[1,"row","mx-4","mt-4","px-2"],[1,"col-5"],[1,"row"],[1,"col-7","pe-0"],[1,"form-label"],[1,"col-5","px-1"],[1,"col-7","ps-1"],[1,"col-6","pe-1"],[1,"col-3","ps-0","pe-1"],[1,"col-3","ps-0"],["class","row mx-4 px-2 mb-2",4,"ngFor","ngForOf"],[1,"row","mt-4","mb-2","px-5","mx-1"],[1,"col-12","set-image","px-0","seperate-row"],[1,"minus-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/delete_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"line-border"],[1,"add-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/add_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"row","d-flex","justify-content-center","mx-4","px-2"],[1,"col-12"],[1,"d-flex","align-items-center"],[1,"col-form-label","text-nowrap"],[1,"ms-1","me-2"],["placeholder","Note down any critical incident/Major defects found during inspection stages","type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"row","mb-4","mt-2","mx-4","px-2"],[1,"col-","d-flex","justify-content-center"],["type","button",1,"btn","btn-primary","px-4",3,"click"],[1,"row","mx-4","px-2","mb-2"],["bindLabel","label","bindValue","value",3,"items","clearable","ngModel","disabled","ngModelChange"],["type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"form-select",3,"ngModel","ngModelChange"],["selected","","disabled","","value","null"],[3,"value",4,"ngFor","ngForOf"],[1,"input-group-text","statusSpanHeight"],["class","statusActive","class","statusActive",4,"ngIf"],["class","statusInActive",4,"ngIf"],[3,"value"],[1,"statusActive"],[1,"statusInActive"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"IPQC - Inprocess Quality Check"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return t.activeModal.close()}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),e._uU(13,"Inspection Type "),e.qZA()(),e.TgZ(14,"div",11)(15,"label",10),e._uU(16,"Inspection Parameter "),e.qZA()()()(),e.TgZ(17,"div",12)(18,"div",8)(19,"div",13)(20,"label",10),e._uU(21,"Observation "),e.qZA()(),e.TgZ(22,"div",14)(23,"label",10),e._uU(24,"Inspected by "),e.qZA()(),e.TgZ(25,"div",15)(26,"label",10),e._uU(27,"Status"),e.qZA()()()()(),e.YNc(28,en,22,20,"div",16),e.TgZ(29,"div",17)(30,"div",18)(31,"div",19)(32,"img",20),e.NdJ("click",function(){return t.deleteTableRow()}),e.qZA()(),e._UZ(33,"hr",21),e.TgZ(34,"div",22)(35,"img",23),e.NdJ("click",function(){return t.addTableRow()}),e.qZA()()()(),e.TgZ(36,"div",24)(37,"div",25)(38,"div",26)(39,"div",27),e._uU(40," Remarks "),e.TgZ(41,"span",28),e._uU(42,"\u25b6"),e.qZA()(),e.TgZ(43,"input",29),e.NdJ("ngModelChange",function(a){return t.screenPrintingLogIPQC.remarks=a}),e.qZA()()()(),e._UZ(44,"hr",21),e.TgZ(45,"div",30)(46,"div",31)(47,"button",32),e.NdJ("click",function(){return t.submit()}),e._uU(48,"Save & Close"),e.qZA()()()()()),2&n&&(e.xp6(28),e.Q6J("ngForOf",null==t.screenPrintingLogIPQC?null:t.screenPrintingLogIPQC.IPQCLogInfo),e.xp6(15),e.Q6J("ngModel",t.screenPrintingLogIPQC.remarks)("disabled",e.DdM(3,N).includes(t.action)))},dependencies:[p.sg,p.O5,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.On,M.w9],styles:[".set-image[_ngcontent-%COMP%]{width:100%;margin-top:-1rem!important}.seperate-row[_ngcontent-%COMP%]{position:relative}.seperate-row[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]{position:absolute;right:-1rem;top:.2rem}.seperate-row[_ngcontent-%COMP%]   .minus-icon[_ngcontent-%COMP%]{position:absolute;left:-1rem;top:.2rem}.set-prod-status[_ngcontent-%COMP%]{border:solid 1px #d6cdcd!important}"]}),l})();var ee=g(2750),nn=g(16897),on=g(84231);const rn=function(r,l,i,n){return{page:r,pageSize:l,collection:i,search:n,excelDisplay:"none"}};function an(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"div",46)(1,"app-setting-header",47),e.NdJ("dataChange",function(t){e.CHM(i);const o=e.oxw();return e.KtG(o.eventHeader(t))}),e.qZA()()}if(2&r){const i=e.oxw();e.xp6(1),e.Q6J("data",e.l5B(1,rn,i.page,i.pageSize,i.collection,i.search))}}function sn(r,l){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==i?null:i.seq," ")}}const te=function(){return{standalone:!0}};function ln(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"input",66),e.NdJ("ngModelChange",function(t){e.CHM(i);const o=e.oxw().$implicit;return e.KtG(o.seq=t)}),e.qZA()}if(2&r){const i=e.oxw().$implicit;e.Q6J("ngModel",i.seq)("ngModelOptions",e.DdM(2,te))}}const ne=function(){return["view","Converted to SKU","approve"]},cn=function(){return["Printing on CPI","Through Punching"]},dn=function(){return["Generic IPQC Process"]},pn=function(){return["view","approve"]};function gn(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div",56),e.YNc(3,sn,2,1,"span",57),e.YNc(4,ln,1,3,"input",58),e.qZA()(),e.TgZ(5,"td",59,60)(7,"span",61),e._uU(8),e.qZA()(),e.TgZ(9,"td")(10,"div",62),e._UZ(11,"button",63),e.TgZ(12,"button",64),e.NdJ("click",function(){const o=e.CHM(i).$implicit,a=e.oxw(2);return e.KtG(a.openProdInfoModal(o))}),e._uU(13," Prod. Log "),e.qZA()()(),e.TgZ(14,"td")(15,"div",62),e._UZ(16,"button",63),e.TgZ(17,"button",64),e.NdJ("click",function(){const o=e.CHM(i).$implicit,a=e.oxw(2);return e.KtG(a.openIPQAModal(o))}),e._uU(18),e.qZA()()(),e.TgZ(19,"td")(20,"input",65),e.NdJ("ngModelChange",function(t){const a=e.CHM(i).$implicit;return e.KtG(a.processStatus=t)}),e.qZA()()()}if(2&r){const i=l.$implicit,n=e.MAs(6),t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",e.DdM(11,ne).includes(t.action)),e.xp6(1),e.Q6J("ngIf",!e.DdM(12,ne).includes(t.action)),e.xp6(1),e.Udp("width",n.clientWidth),e.xp6(2),e.Q6J("ngbTooltip",i.processName)("positionTarget",n),e.xp6(1),e.hij(" ",null==i?null:i.processName," "),e.xp6(10),e.hij(" ",e.DdM(13,cn).includes(i.processOriginalName)||e.DdM(14,dn).includes(null==i?null:i.qualityOriginalName)?"IPQC Log":"IPQA Log"," "),e.xp6(2),e.Q6J("ngModel",i.processStatus)("ngModelOptions",e.DdM(15,te))("disabled",e.DdM(16,pn).includes(t.action))}}function un(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"div",48)(1,"table",49)(2,"thead",50)(3,"tr",51)(4,"th",52),e.NdJ("sort",function(t){e.CHM(i);const o=e.oxw();return e.KtG(o.onSort(t))}),e._uU(5,"PRC Seq."),e.qZA(),e.TgZ(6,"th",53),e.NdJ("sort",function(t){e.CHM(i);const o=e.oxw();return e.KtG(o.onSort(t))}),e._uU(7,"Process Name"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Production"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Quality"),e.qZA(),e.TgZ(12,"th",54),e.NdJ("sort",function(t){e.CHM(i);const o=e.oxw();return e.KtG(o.onSort(t))}),e._uU(13,"Status"),e.qZA()()(),e.TgZ(14,"tbody"),e.YNc(15,gn,21,17,"tr",55),e.ALo(16,"slice"),e.ALo(17,"searchFi1ter"),e.qZA()()()}if(2&r){const i=e.oxw();e.xp6(15),e.Q6J("ngForOf",e.Dn7(16,2,e.xi3(17,6,i.JCEntryDetailsList,i.search),(i.page-1)*i.pageSize,(i.page-1)*i.pageSize+i.pageSize))("ngForTrackBy",i.trackByFn)}}function mn(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"div",8)(1,"div",67)(2,"label",68),e._uU(3," Define SKU Process Flow "),e.TgZ(4,"span",12),e._uU(5,"\u25b6"),e.qZA()(),e.TgZ(6,"button",69),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.defineSKUProcessFlow())}),e._uU(7," Click Here "),e.qZA()()()}}function _n(r,l){1&r&&e._UZ(0,"button",70)}function hn(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"button",69),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.openBatchInfoModal())}),e._uU(1," Generate Report "),e.qZA()}}function fn(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"button",71),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.skipIntegration())}),e._uU(1," Save "),e.qZA()}}function Mn(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"button",71),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.back())}),e._uU(1," Back "),e.qZA()}}const H=function(){return["view"]},Cn=function(){return["reject","approve","view"]};let vn=(()=>{var r;class l{constructor(n,t,o,a,d,h,S,yn,An,Zn){this.jobCardEntryService=n,this.activatedRoute=t,this.spinner=o,this.toastService=a,this.validationService=d,this.modalService=h,this.utilityService=S,this.location=yn,this.router=An,this.appGlobalService=Zn,this.isPreview=!1,this.submitted=!1,this.isESCPreview=!1,this.action="create",this.page=1,this.pageSize=8,this.collection=0,this.column="createdAt",this.direction=-1,this.search="",this.selectedJobCardDetails={},this.batchInputQty=0,this.processDetailsList=[],this.ESCPreviewArr=[],this.menuItemId="",this.masterData={autoIncrementNo:"",JCOptions:[],billFromLocationOptions:[],shiftOptions:[]},this.JCEntryDetailsList=[],this.prodInfoList=[{prodDate:this.utilityService.getTodayDate("YYYY-MM-DD"),prodShift:"",operatingStaff:"",prodQty:null}],this.IPQAInfoList={},this.drawingLink="",this.componentModal={"Stock Preparation":ot,"Ink Mixing":fe,"Screen Making":Pe,"Printing on CPI":Ge,"Kiss-cutting":null,Weeding:dt,Lamination:st,"Through Punching":ut,Packing:ht,"Stage Inspection":Mt,"Generic Production Process":Le},this.componentModalIPQA={"Stock Preparation IPQA":xt,"Ink Mixing IPQA":Qt,"Screen Making IPQA":Lt,"Printing on CPI IPQA":tn,"Kiss-cutting IPQA":null,"Weeding IPQA":Jt,"Lamination IPQA":Kt,"Through Punching IPQA":Rt,"Packing IPQA":$t,"Stage Inspection IPQA":yt,"Generic IPQA Process":Ze,"Generic IPQC Process":xe},this.componentModalSizeIPQA={"Stock Preparation IPQA":"xl","Ink Mixing IPQA":"xl","Screen Making IPQA":"xl","Printing on CPI IPQA":"xl","Kiss-cutting IPQA":"xl","Weeding IPQA":"xl","Lamination IPQA":"xl","Through Punching IPQA":"xl","Packing IPQA":"xl","Stage Inspection IPQA":"xl","Generic IPQA Process":"lg","Generic IPQC Process":"xl"},this.componentModalSize={"Stock Preparation":"xl","Ink Mixing":"xl","Screen Making":"xl","Printing on CPI":"xl","Kiss-cutting":null,Weeding:"md",Lamination:"md","Through Punching":"md",Packing:"md","Stage Inspection":"lg","Generic Production Process":"lg"},this.showSKUFlow=!1,this.form=new s.nJ({jobCardEntryCode:new s.p4(null),jobCard:new s.p4(null,[s.kI.required]),jobCardNo:new s.p4(null),SKU:new s.p4(null),SKUStage:new s.p4(null),SKUNo:new s.p4(null),SKUName:new s.p4(null),SKUDescription:new s.p4(null),UOM:new s.p4(null),batchQty:new s.p4(null),batchDate:new s.p4(null),customer:new s.p4(null),customerName:new s.p4(null),location:new s.p4(null),batchOutputQty:new s.p4(null),batchNumber:new s.p4(null),generateReport:new s.nJ({batchInputQty:new s.p4(null),batchOutputQty:new s.p4(null),batchRejQty:new s.p4(null),jobCardClosureDate:new s.p4(null),location:new s.p4(null),checkoutStatus:new s.p4(null)}),status:new s.p4("In-Process"),productionEntry:new s.p4([])})}get f(){return this.form.controls}get generateReportData(){return this.form.get("generateReport")}ngOnInit(){this.menuItemId=this.appGlobalService.menuItemId,this.getInitialData()}openDrawing(){this.drawingLink?window.open(this.drawingLink,"_blank"):this.toastService.warning("Drawing File Not Present")}back(){this.location.back()}submit(){if(this.submitted=!0,this.validationService.checkErrors(this.form,z.m5))return;this.form.enable();let n=this.form.value;"approve"==this.action&&(n.status="Approved"),n.productionEntry=this.JCEntryDetailsList,"Skip Integration"!=n.generateReport.checkoutStatus||n.generateReport.batchOutputQty?this.create(n):this.toastService.warning("In Generate Report Batch Output Quantity is Required")}skipIntegration(){"Skip Integration"==this.form.value.generateReport.checkoutStatus?this.openSkippingIntegrationModal():this.submit()}trackByFn(n,t){return t?._id}create(n){this.spinner.show(),this.jobCardEntryService.createOrUpdate(n).subscribe(t=>{this.submitted=!1,this.spinner.hide(),this.toastService.success(t.message),this.reset()})}reset(){this.form.reset(),this.JCEntryDetailsList=[],this.collection=this.JCEntryDetailsList.length,this.getInitialData(),this.isESCPreview=!1}getInitialData(){this.spinner.show(),this.jobCardEntryService.getAllMasterData({}).subscribe(n=>{this.masterData=n,this.form.controls.jobCardEntryCode.setValue(this.masterData?.autoIncrementNo),this.form.controls.status.setValue("In-Process"),this.activatedRoute.queryParams.pipe((0,K.z)(t=>(this.action=t.action,t.id?this.jobCardEntryService.getById(t.id):(0,Y.of)({})))).subscribe(t=>{this.selectedJobCardDetails=t,this.spinner.hide(),0!=Object.keys(t).length&&(t.batchDate&&(t.batchDate=this.utilityService.getFormatDate(t.batchDate,"YYYY-MM-DD")),t.productionEntry&&(this.JCEntryDetailsList=t?.productionEntry?.map(o=>(o.isMachineToggle=!1,o)).sort((o,a)=>o.seq-a.seq)),this.collection=this.JCEntryDetailsList.length,this.form.patchValue(t),this.f.jobCardNo.disable(),["view","approve"].includes(this.action)&&this.form.disable())})})}setJobCardId(n){this.selectedJobCardDetails=n,this.f.jobCardNo.setValue(n?.jobCardNo),this.f.jobCard.setValue(n?._id),this.spinner.show(),this.jobCardEntryService.getJCEntryDataByJobCardId({jobCard:n?._id,SKU:n?.SKU}).subscribe(t=>{this.f.SKU.setValue(t?.jobCardEntryData?.SKU),this.f.SKUNo.setValue(t?.jobCardEntryData?.SKUNo),this.f.SKUName.setValue(t?.jobCardEntryData?.SKUName),this.f.SKUStage.setValue(t?.jobCardEntryData?.SKUStage),this.f.SKUDescription.setValue(t?.jobCardEntryData?.SKUDescription),this.drawingLink=t?.jobCardEntryData?.artWorkHyperLink,this.f.UOM.setValue(t?.jobCardEntryData?.UOM),this.f.batchQty.setValue(t?.jobCardEntryData?.batchQty),this.f.batchDate.setValue(t?.jobCardEntryData?.batchDate?this.utilityService.getFormatDate(t?.jobCardEntryData?.batchDate,"YYYY-MM-DD"):null),this.f.customer.setValue(t?.jobCardEntryData?.customer),this.f.customerName.setValue(t?.jobCardEntryData?.customerName),this.JCEntryDetailsList=t?.jobCardEntryData?.productionEntry?t?.jobCardEntryData?.productionEntry:t?.SKUProcessList,this.f.generateReport.patchValue(t?.jobCardEntryData?.generateReport),this.spinner.hide(),this.batchInputQty=t?.batchInputQty,this.generateReportData.controls.batchInputQty.value||this.generateReportData.controls.batchInputQty.setValue(this.batchInputQty),0==this.JCEntryDetailsList.length?(this.showSKUFlow=!0,this.toastService.warning("SKU has no define processes. Please set them up in SKU Process Flow.")):this.showSKUFlow=!1,this.collection=this.JCEntryDetailsList.length})}defineSKUProcessFlow(){this.router.navigate(["default/planning/master/sku_process_flow/form"],{queryParams:{id:this.f.SKU.value,action:"processFlow"}})}openJobCardDetailsModal(){const n=this.modalService.open(F.Q,{centered:!0,size:"xl",backdrop:"static",keyboard:!1});n.componentInstance.action=this.action,n.componentInstance.selectedJobCardDetails=this.selectedJobCardDetails,n.componentInstance.JCOptions=this.masterData.JCOptions,n.componentInstance.jobCard=this.form.controls.jobCard.value,n.result.then(t=>{t&&(this.selectedJobCardDetails=t?.selectedJobCardDetails,this.setJobCardId(t?.selectedJobCardDetails))},t=>{})}openProdInfoModal(n){if(this.componentModal[n.processOriginalName]){const t=this.modalService.open(this.componentModal[n.processOriginalName],{centered:!0,size:this.componentModalSize[n.processOriginalName],backdrop:"static",keyboard:!1});t.componentInstance.sourceOfManufacturing=n?.sourceOfManufacturing,t.componentInstance.action=this.action,this.menuItemId==ee.h.Quality&&(t.componentInstance.action="view"),t.componentInstance.selectedDetails={jobCard:this.selectedJobCardDetails?._id,jobCardNo:this.selectedJobCardDetails?.jobCardNo,SKU:this.selectedJobCardDetails?.SKU,batchQty:this.selectedJobCardDetails?.batchQty,UOM:this.selectedJobCardDetails?.UOM},t.componentInstance.jobCardDetails={jobCard:this.selectedJobCardDetails?._id,jobCardNo:this.selectedJobCardDetails?.jobCardNo,SKUNo:this.selectedJobCardDetails?.SKUNo,SKU:this.selectedJobCardDetails?.SKU,SKUName:this.selectedJobCardDetails?.SKUName,SKUDescription:this.selectedJobCardDetails?.SKUDescription,UOM:this.selectedJobCardDetails?.UOM,SKUBatchQty:this.selectedJobCardDetails?.batchQty,processOriginalName:n?.processOriginalName}}}openIPQAModal(n){if(this.componentModalIPQA[n.qualityOriginalName]){const t=this.modalService.open(this.componentModalIPQA[n.qualityOriginalName],{centered:!0,size:this.componentModalSizeIPQA[n.qualityOriginalName],backdrop:"static",keyboard:!1});t.componentInstance.action=this.action,this.menuItemId==ee.h.Production&&(t.componentInstance.action="view"),t.componentInstance.IPQAInfoList=n?.IPQALog,t.componentInstance.selectedDetails={jobCard:this.selectedJobCardDetails?._id,jobCardNo:this.selectedJobCardDetails?.jobCardNo,SKU:this.selectedJobCardDetails?.SKU,SKUNo:this.selectedJobCardDetails?.SKUNo,SKUName:this.selectedJobCardDetails?.SKUName,SKUDescription:this.selectedJobCardDetails?.SKUDescription,batchQty:this.selectedJobCardDetails?.batchQty,UOM:this.selectedJobCardDetails?.UOM,processOriginalName:n?.processOriginalName},t.result.then(o=>{o&&(this.generateReportData.controls.batchOutputQty.setValue(o?.totalOkQty),this.generateReportData.controls.batchRejQty.setValue(this.generateReportData.controls.batchInputQty.value&&this.generateReportData.controls.batchOutputQty.value?this.generateReportData.controls.batchInputQty.value-this.generateReportData.controls.batchOutputQty.value:0))},o=>{})}}openBatchInfoModal(){const n=this.modalService.open(ce,{centered:!0,size:"lg",backdrop:"static",keyboard:!1});n.componentInstance.action=this.action,n.componentInstance.billFromLocationOptions=this.masterData.billFromLocationOptions,n.componentInstance.generateReport=this.form.controls.generateReport.value,n.result.then(t=>{t&&this.form.controls.generateReport.setValue(t)},t=>{})}openSkippingIntegrationModal(){const n=this.modalService.open(qe.er,{centered:!0,size:"sm",backdrop:"static",keyboard:!1});n.componentInstance.action=this.action,n.componentInstance.heading="Job card Entry",n.componentInstance.cancelText="Do You Want To Proceed By Skipping The  Integration ?",n.result.then(t=>{"Yes"==t&&this.submit()},t=>{})}eventHeader(n){switch(n.key){case"SEARCH":this.search=n.value,this.page=1;break;case"EXCEL":default:break;case"PAGE":this.page=n.value}}onSort({column:n,direction:t}){this.headers.forEach(o=>{o.sortable!==n&&(o.direction="")}),this.JCEntryDetailsList=""===t||""===n?this.JCEntryDetailsList:[...this.JCEntryDetailsList].sort((o,a)=>{let d="string"==typeof o[n]?o[n].toLowerCase():o[n],h="string"==typeof a[n]?a[n].toLowerCase():a[n];const S=d<h?-1:d>h?1:0;return"asc"===t?S:-S})}}return(r=l).\u0275fac=function(n){return new(n||r)(e.Y36(f.G3),e.Y36(D.gz),e.Y36(c.V),e.Y36(c.kl),e.Y36(nn.RJ),e.Y36(u.FF),e.Y36(c.tI),e.Y36(p.Ye),e.Y36(D.F0),e.Y36(c.P0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-jc-production-entry-form"]],viewQuery:function(n,t){if(1&n&&e.Gf(E.j_,5),2&n){let o;e.iGM(o=e.CRH())&&(t.headers=o)}},decls:117,vars:18,consts:[[1,"row"],[1,"col-5","pe-0"],[1,"formCard","card","mt-3",3,"formGroup"],[1,"container"],[1,"row","form-header"],[1,"col","heading"],[1,""],[1,"form-body"],[1,"row","mt-3"],[1,"col-4","pe-0","d-flex","justify-content-between","align-items-center"],[1,"form-label"],[1,"text-danger"],[1,"text-secondary","fs-5"],[1,"col-8","ps-3","pe-5"],[1,"d-flex","align-items-center"],[1,"col-11"],["bindLabel","jobCardNo","bindValue","jobCardNo","formControlName","jobCardNo",3,"items","clearable","change"],["id","basic-addon1",1,"set-input-group-text","input-group-text","bg-primary","pointer","col-auto","ms-1",2,"height","2.9rem",3,"click"],["aria-hidden","true",1,"fa","fa-search","text-white","fs-4"],[1,"row","mt-4"],[1,"col-8","ps-3"],["type","text","formControlName","SKUStage","readonly","",1,"form-control","bg-white-smoke"],[1,"col-7","px-3"],["type","text","formControlName","SKUNo","readonly","",1,"form-control","bg-white-smoke"],[1,"col-1","d-flex","align-items-center","px-0"],[1,"d-flex","justify-content-end","pointer"],[1,"drawingIcon",3,"click"],["type","text","formControlName","SKUName","readonly","",1,"form-control","bg-white-smoke"],["type","text","formControlName","SKUDescription","readonly","",1,"form-control","bg-white-smoke"],["type","text","readonly","",1,"form-control","bg-white-smoke",3,"value"],["type","text","formControlName","batchQty","readonly","",1,"form-control","bg-white-smoke"],["type","date","formControlName","batchDate","readonly","",1,"form-control","bg-white-smoke"],[1,"row","my-4"],["type","text","formControlName","customerName","readonly","",1,"form-control","bg-white-smoke"],[1,"col-7","ps-0"],[1,"formCard","ms-0","card","mt-3",3,"formGroup"],[1,"row","form-header","mb-2"],["class","pt-1",4,"ngIf"],["class","table-responsive","style","min-height: 29.3rem",4,"ngIf"],["class","row mt-3",4,"ngIf"],[1,"row","line-border"],[1,"col-6"],["class","plusIconSvg btn btn-primary me-1",4,"ngIf"],["type","button","class","btn btn-primary px-4",3,"click",4,"ngIf"],[1,"col-md-auto","ms-auto","d-flex","align-items-end"],["type","button","class","btn btn-primary px-5",3,"click",4,"ngIf"],[1,"pt-1"],[1,"",3,"data","dataChange"],[1,"table-responsive",2,"min-height","29.3rem"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],["sortable","seq",3,"sort"],["sortable","processName",1,"text-start",3,"sort"],["sortable","processStatus",3,"sort"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"d-flex","justify-content-center"],[4,"ngIf"],["class","form-control form-control-size-xs w-25","type","number",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[1,"text-start"],["processName",""],[1,"pointer",3,"ngbTooltip","positionTarget"],[1,"d-flex","justify-content-center","align-items-center"],[1,"plusSmallIconSvg","btn","btn-primary","py-0","me-1"],["type","button",1,"btn","btn-primary","form-btn-sm","py-0",3,"click"],["type","checkbox",1,"form-check-input","pointer",3,"ngModel","ngModelOptions","disabled","ngModelChange"],["type","number",1,"form-control","form-control-size-xs","w-25",3,"ngModel","ngModelOptions","ngModelChange"],[1,"col","pt-3","d-flex","justify-content-center","set-margin"],[1,"form-label","mt-1","me-3"],["type","button",1,"btn","btn-primary","px-4",3,"click"],[1,"plusIconSvg","btn","btn-primary","me-1"],["type","button",1,"btn","btn-primary","px-5",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),e._uU(7,"Job Card Details "),e.qZA()()(),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"label",10),e._uU(12," Job Card No. "),e.TgZ(13,"span",11),e._uU(14," * "),e.qZA()(),e.TgZ(15,"span",12),e._uU(16,"\u25b6"),e.qZA()(),e.TgZ(17,"div",13)(18,"div",14)(19,"div",15)(20,"ng-select",16),e.NdJ("change",function(a){return t.setJobCardId(a)}),e.qZA()(),e.TgZ(21,"div",17),e.NdJ("click",function(){return t.openJobCardDetailsModal()}),e._UZ(22,"i",18),e.qZA()()()(),e.TgZ(23,"div",19)(24,"div",9)(25,"label",10),e._uU(26," SKU Stage "),e._UZ(27,"span",11),e.qZA(),e.TgZ(28,"span",12),e._uU(29,"\u25b6"),e.qZA()(),e.TgZ(30,"div",20),e._UZ(31,"input",21),e.qZA()(),e.TgZ(32,"div",19)(33,"div",9)(34,"label",10),e._uU(35," SKU Number "),e._UZ(36,"span",11),e.qZA(),e.TgZ(37,"span",12),e._uU(38,"\u25b6"),e.qZA()(),e.TgZ(39,"div",22),e._UZ(40,"input",23),e.qZA(),e.TgZ(41,"div",24)(42,"span",25)(43,"div",26),e.NdJ("click",function(){return t.openDrawing()}),e.qZA()()()(),e.TgZ(44,"div",19)(45,"div",9)(46,"label",10),e._uU(47," SKU Name "),e._UZ(48,"span",11),e.qZA(),e.TgZ(49,"span",12),e._uU(50,"\u25b6"),e.qZA()(),e.TgZ(51,"div",20),e._UZ(52,"input",27),e.qZA()(),e.TgZ(53,"div",19)(54,"div",9)(55,"label",10),e._uU(56," SKU Description "),e._UZ(57,"span",11),e.qZA(),e.TgZ(58,"span",12),e._uU(59,"\u25b6"),e.qZA()(),e.TgZ(60,"div",20),e._UZ(61,"input",28),e.qZA()(),e.TgZ(62,"div",19)(63,"div",9)(64,"label",10),e._uU(65," SKU UoM "),e._UZ(66,"span",11),e.qZA(),e.TgZ(67,"span",12),e._uU(68,"\u25b6"),e.qZA()(),e.TgZ(69,"div",20),e._UZ(70,"input",29),e.ALo(71,"SalesUOMUnitMaster"),e.qZA()(),e.TgZ(72,"div",19)(73,"div",9)(74,"label",10),e._uU(75,"Batch Quantity"),e._UZ(76,"span",11),e.qZA(),e.TgZ(77,"span",12),e._uU(78,"\u25b6"),e.qZA()(),e.TgZ(79,"div",20),e._UZ(80,"input",30),e.qZA()(),e.TgZ(81,"div",19)(82,"div",9)(83,"label",10),e._uU(84," Batch Date "),e._UZ(85,"span",11),e.qZA(),e.TgZ(86,"span",12),e._uU(87,"\u25b6"),e.qZA()(),e.TgZ(88,"div",20),e._UZ(89,"input",31),e.qZA()(),e.TgZ(90,"div",32)(91,"div",9)(92,"label",10),e._uU(93," SKU Customer "),e._UZ(94,"span",11),e.qZA(),e.TgZ(95,"span",12),e._uU(96,"\u25b6"),e.qZA()(),e.TgZ(97,"div",20),e._UZ(98,"input",33),e.qZA()()()()()(),e.TgZ(99,"div",34)(100,"form",35)(101,"div",3)(102,"div",36)(103,"div",5)(104,"label",6),e._uU(105," Production Entry "),e.qZA()()(),e.YNc(106,an,2,6,"div",37),e.YNc(107,un,18,9,"div",38),e.YNc(108,mn,8,0,"div",39),e._UZ(109,"hr",40),e.TgZ(110,"div",0)(111,"div",41),e.YNc(112,_n,1,0,"button",42),e.YNc(113,hn,2,0,"button",43),e.qZA(),e.TgZ(114,"div",44),e.YNc(115,fn,2,0,"button",45),e.YNc(116,Mn,2,0,"button",45),e.qZA()()()()()()),2&n&&(e.xp6(2),e.Q6J("formGroup",t.form),e.xp6(18),e.Q6J("items",t.masterData.JCOptions)("clearable",!1),e.xp6(50),e.s9C("value",e.lcZ(71,12,t.form.controls.UOM.value)),e.xp6(30),e.Q6J("formGroup",t.form),e.xp6(6),e.Q6J("ngIf",!t.showSKUFlow),e.xp6(1),e.Q6J("ngIf",!t.showSKUFlow),e.xp6(1),e.Q6J("ngIf",t.showSKUFlow),e.xp6(4),e.Q6J("ngIf",!e.DdM(14,H).includes(t.action)),e.xp6(1),e.Q6J("ngIf",!e.DdM(15,H).includes(t.action)),e.xp6(2),e.Q6J("ngIf",!e.DdM(16,Cn).includes(t.action)),e.xp6(1),e.Q6J("ngIf",e.DdM(17,H).includes(t.action)))},dependencies:[p.sg,p.O5,w.P,u._L,s._Y,s.Fj,s.wV,s.Wl,s.JJ,s.JL,s.sg,s.u,s.On,M.w9,_.j,p.OU,L.G,on.Q],styles:[".set-margin[_ngcontent-%COMP%]{margin-bottom:29.9rem}"]}),l})();var bn=g(56208);const Pn=[{path:"",redirectTo:"form",pathMatch:"full"},{path:"form",component:vn}];let In=(()=>{var r;class l{}return(r=l).\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[p.ez,D.Bz.forChild(Pn),bn.m]}),l})()},68922:($,x,g)=>{g.d(x,{T:()=>p});const p=[{message:"Location is Required",key:"deliveryLocation"}]},3959:($,x,g)=>{g.d(x,{Gu:()=>K,kq:()=>s,JH:()=>D,Nh:()=>Y,m5:()=>E,sg:()=>F}),g(68922);const D=[{message:"SKU No. is Required",key:"SKUId"},{message:"FGIN Quantity is Required",key:"FGINQuantity"},{message:"SKU Description is Required",key:"SKUDescription"},{message:"Manufacturing Date is Required",key:"manufacturingDate"},{message:"Batch No. is Required",key:"batchNo"}],s=[{message:"SKU No. is Required",key:"SKU"},{message:"SKU Description is Required",key:"SKUDescription"},{message:"Correction Category is Required",key:"correctionCategory"},{message:"Source Batch (From) is Required",key:"sourceBatch"}],K=[{message:"Process Name is Required",key:"processName"},{message:"Machine Name is Required",key:"machineName"},{message:"Production Date is Required",key:"productionDate"},{message:"Production Shift is Required",key:"productionShift"}],Y=[{message:"Item Code is Required",key:"itemCode"},{message:"Item Name is Required",key:"itemName"},{message:"Item Description is Required",key:"itemDescription"},{message:"UoM is Required",key:"UoM"}],F=[{message:"Job Card No. is Required",key:"jobCard"},{message:"Batch Output Qty is Required",key:"batchOutputQty"}],E=[{message:"Job Card No. is Required",key:"jobCard"}]}}]);