"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[3671],{63671:(x,m,c)=>{c.r(m),c.d(m,{ProductCodeModule:()=>Z});var l=c(96814),d=c(1076),g=c(43818),f=c(25116),t=c(65879),u=c(88354),p=c(98977),C=c(88059),v=c(53421);function y(i,h){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"div",13),t._UZ(9,"button",14),t.TgZ(10,"div",15)(11,"a",16),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.navigateTo("/default/settings/transactions/auto_increment/AI-form",null==s?null:s._id,"view"))}),t._UZ(12,"i",17),t._uU(13," View "),t.qZA(),t.TgZ(14,"a",16),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.navigateTo("/default/settings/transactions/auto_increment/AI-form",null==s?null:s._id,"edit"))}),t._UZ(15,"i",18),t._uU(16," Edit "),t.qZA()()()()()}if(2&i){const e=h.$implicit,o=t.oxw();t.xp6(2),t.Oqu(null==e?null:e.productCatagoryData),t.xp6(2),t.Oqu(null==e?null:e.module),t.xp6(2),t.Oqu(null==e?null:e.autoIncrementValue),t.xp6(5),t.Q6J("accessType",o.rolePermissionActions.viewAction),t.xp6(3),t.Q6J("accessType",o.rolePermissionActions.editAction)}}const b=function(i,h,e,o){return{page:i,pageSize:h,collection:e,search:o}};let A=(()=>{class i{constructor(e,o,r,s,a){this.productCategoryService=e,this.activatedRoute=o,this.router=r,this.exportExcelService=s,this.spinner=a,this.selectedRow={},this.productCatagoryData=[],this.search="",this.page=1,this.pageSize=25,this.collection=0,this.column="createdAt",this.direction=-1,this.tableData=[],this.rolePermissionActions=f.a1,this.headerArr=["Module Name","Module Prefix","Auto Increment Value","Param Value"],this.actionArr=[{value:"View",img:"./assets/new_icons/icon_view.svg"},{value:"Edit",img:"./assets/new_icons/icon_edit.svg"}],this.actualData=[]}ngOnInit(){this.page=Number(this.activatedRoute.snapshot.queryParamMap.get("page")??1)}trackByFn(e,o){return o?._id}getAll(e=!1){this.spinner.show(),this.productCategoryService.getAll({page:this.page,pageSize:this.pageSize,search:this.search,column:this.column,direction:this.direction,excel:e}).subscribe(r=>{e?this.excelDownload(r.rows):(this.tableData=r.rows,this.collection=r.count,this.spinner.hide())})}eventHeader(e){switch(e.key){case"SEARCH":this.search=e.value,this.getAll();break;case"EXCEL":this.getAll(!0);break;case"PAGE":this.page=e.value,this.getAll()}}navigateTo(e,o,r){this.router.navigate([e],{queryParams:{id:o,action:r}})}excelDownload(e){let o={width:24,style:{alignment:{vertical:"middle",horizontal:"center",wrapText:!0}}},r={title:"Role Master",csvData:e,headers:[{header:"Module Name",key:"moduleName",...o},{header:"Module Prefix",key:"module",...o},{header:"Auto Increment Value",key:"autoIncrementValue",...o}]};this.exportExcelService.exportExcel(r)}onSort({column:e,direction:o}){this.headers.forEach(r=>{r.sortable!==e&&(r.direction="")}),this.column=e,this.direction="asc"==o?1:-1,this.getAll()}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(u.No),t.Y36(d.gz),t.Y36(d.F0),t.Y36(p.Ol),t.Y36(p.V))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-product-code-list"]],viewQuery:function(o,r){if(1&o&&t.Gf(g.j,5),2&o){let s;t.iGM(s=t.CRH())&&(r.headers=s)}},decls:19,vars:9,consts:[[1,"row","justify-content-center"],[1,"col-md-11"],["appAccessControl","",1,"text-center",3,"accessType"],["type","button",1,"btn","btn-primary","rounded","px-2",3,"click"],["aria-hidden","true",1,"fa","fa-plus-square","fa-lg","mx-1"],[3,"data","dataChange"],[1,"table-responsive"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],["sortable","moduleName",3,"sort"],["sortable","module",3,"sort"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"dropdown"],[1,"dropbtn"],[1,"dropdown-content"],["appAccessControl","","href","javascript:void(0)",3,"accessType","click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg","me-2","text-primary"],["aria-hidden","true",1,"fa","fa-pencil-square-o","fa-lg","me-2","text-primary"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),t.NdJ("click",function(){return r.navigateTo("/default/settings/transactions/product_code/PC-form",null,"create")}),t._UZ(4,"i",4),t._uU(5," Product Code "),t.qZA()(),t.TgZ(6,"app-setting-header",5),t.NdJ("dataChange",function(a){return r.eventHeader(a)}),t.qZA(),t.TgZ(7,"div",6)(8,"table",7)(9,"thead",8)(10,"tr",9)(11,"th",10),t.NdJ("sort",function(a){return r.onSort(a)}),t._uU(12," Product Category "),t.qZA(),t.TgZ(13,"th",11),t.NdJ("sort",function(a){return r.onSort(a)}),t._uU(14,"Active"),t.qZA(),t.TgZ(15,"th",11),t.NdJ("sort",function(a){return r.onSort(a)}),t._uU(16,"Edit"),t.qZA()()(),t.TgZ(17,"tbody"),t.YNc(18,y,17,5,"tr",12),t.qZA()()()()()),2&o&&(t.xp6(2),t.Q6J("accessType",r.rolePermissionActions.createAction),t.xp6(4),t.Q6J("data",t.l5B(4,b,r.page,r.pageSize,r.collection,r.search)),t.xp6(12),t.Q6J("ngForOf",r.tableData)("ngForTrackBy",r.trackByFn))},dependencies:[l.sg,C.P,g.j,v.J],encapsulation:2})}return i})();var n=c(60095);const T=[{path:"",redirectTo:"PC-list",pathMatch:"full"},{path:"PC-list",component:A},{path:"PC-form",component:(()=>{class i{constructor(e,o,r,s,a,w){this.productCategoryService=e,this.userService=o,this.actRoute=r,this.spinner=s,this.formBuilder=a,this.location=w,this.submitted=!1,this.paramsId="",this.paramsData=null,this.view="",this.Users=[],this.roles=[],this.productCatagoryForm=this.formBuilder.group({userCode:new n.p4("",[n.kI.required]),name:new n.p4("",[n.kI.required]),role:new n.p4("",[n.kI.required]),email:new n.p4("",[n.kI.required]),password:new n.p4("",[n.kI.required])})}ngOnInit(){this.userService.$titleChange.next("ADD PRODUCT CODE[Create]"),this.actRoute.queryParams.subscribe(e=>{e.id&&(this.paramsId=e.id,this.getUserById(e.id)),e.view&&(this.view=e.view)}),this.getAllMaster()}changeFn(e){}submit(){if(this.submitted=!0,this.productCatagoryForm.invalid)return;let e=this.productCatagoryForm.value;this.paramsId?this.update(this.paramsId):this.create(e)}create(e){this.spinner.show(),this.productCategoryService.create(e).subscribe(o=>{this.spinner.hide()})}update(e){this.spinner.show(),this.productCategoryService.update(e,this.productCatagoryForm.value).subscribe(o=>{this.submitted=!1,this.spinner.hide()})}getUserById(e){this.productCategoryService.getById(e).subscribe(o=>{this.productCatagoryForm.patchValue(o),this.productCatagoryForm.controls.role.setValue(o.role?._id)})}goBack(){this.location.back()}getAllMaster(){this.productCategoryService.getAllMasterData({}).subscribe(o=>{this.roles=o.roles,this.productCatagoryForm.controls.userCode.patchValue(o.autoIncrementNo)},o=>{})}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(u.No),t.Y36(u.KD),t.Y36(d.gz),t.Y36(p.V),t.Y36(n.QS),t.Y36(l.Ye))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-product-code-form"]],decls:19,vars:0,consts:[[1,"container-fluid"],[1,""],[1,"row","justify-content-center","align-items-center"],[1,"col-md-11","py-5"],[1,"row","mb-4","justify-content-center"],[1,"col-md-6"],[1,"form-label"],[1,"mandatory"],["type","text","name","name","value","",1,"form-control"],[1,"validation-error"],[1,"d-flex","justify-content-center","mt-4"],[1,"d-grid","col-md-1","me-5"],["type","button",1,"btn","btn-primary","btn-lg"],[1,"d-grid","col-md-1"],["type","submit",1,"btn","btn-primary","btn-lg"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),t._uU(7,"Product Category"),t.TgZ(8,"span",7),t._uU(9,"*"),t.qZA()(),t._UZ(10,"input",8)(11,"p",9),t.qZA()(),t.TgZ(12,"div",10)(13,"div",11)(14,"button",12),t._uU(15,"Reset"),t.qZA()(),t.TgZ(16,"div",13)(17,"button",14),t._uU(18,"Save"),t.qZA()()()()()()())},dependencies:[n._Y,n.JL,n.F],encapsulation:2})}return i})()}];let _=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.oAB({type:i});static#o=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(T),d.Bz]})}return i})();var P=c(56208);let Z=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.oAB({type:i});static#o=this.\u0275inj=t.cJS({imports:[l.ez,_,P.m]})}return i})()}}]);