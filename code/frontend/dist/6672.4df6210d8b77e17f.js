"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6672],{56672:(pt,y,l)=>{l.r(y),l.d(y,{JcEntryModule:()=>dt});var d=l(96814),C=l(1076),g=l(43818),v=l(25116),M=l(83110),t=l(65879),p=l(98977),Z=l(54935),J=l(88059),_=l(37285),D=l(53421),I=l(14906),A=l(84231);const S=function(){return["In-Process"]};function x(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",22,23)(7,"span",24),t._uU(8),t.qZA()(),t.TgZ(9,"td",22,25)(11,"span",24),t._uU(12),t.qZA()(),t.TgZ(13,"td"),t._uU(14),t.ALo(15,"SalesUOMUnitMaster"),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td"),t._uU(21),t.qZA(),t.TgZ(22,"td"),t._uU(23),t.qZA(),t.TgZ(24,"td")(25,"div",26),t._UZ(26,"button",27),t.TgZ(27,"div",28)(28,"a",29),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.navigateTo("../form",i,"view"))}),t._UZ(29,"i",30),t._uU(30," View "),t.qZA(),t.TgZ(31,"a",29),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.navigateTo("../form",i,"edit"))}),t._UZ(32,"i",31),t._uU(33," Edit "),t.qZA(),t.TgZ(34,"a",29),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.update(i,"Report Generated",i._id))}),t._UZ(35,"img",32),t._uU(36," Generate Report "),t.qZA()()()()()}if(2&r){const e=c.$implicit,o=t.MAs(6),n=t.MAs(10),i=t.oxw();t.xp6(2),t.Oqu(null==e?null:e.jobCardNo),t.xp6(2),t.Oqu(null==e?null:e.SKUNo),t.xp6(1),t.Udp("width",o.clientWidth),t.xp6(2),t.Q6J("ngbTooltip",e.SKUName)("positionTarget",o),t.xp6(1),t.hij(" ",e.SKUName," "),t.xp6(1),t.Udp("width",n.clientWidth),t.xp6(2),t.Q6J("ngbTooltip",e.SKUDescription)("positionTarget",n),t.xp6(1),t.hij(" ",e.SKUDescription," "),t.xp6(2),t.Oqu(t.lcZ(15,24,null==e?null:e.UOM)),t.xp6(3),t.Oqu(null==e?null:e.totalBatchQuantity),t.xp6(2),t.Oqu(e.batchOutputQty),t.xp6(2),t.Oqu(e.batchNumber),t.xp6(2),t.Oqu(null==e?null:e.status),t.xp6(5),t.Q6J("accessType",i.rolePermissionActions.viewAction),t.xp6(3),t.ekj("disable","Mark As Completed"===(null==e?null:e.status)),t.Q6J("accessType",i.rolePermissionActions.editAction),t.xp6(3),t.ekj("disable",t.DdM(26,S).includes(e.status)),t.Q6J("accessType",i.rolePermissionActions.generateReportAction)}}const P=function(r,c,e,o){return{page:r,pageSize:c,collection:e,search:o,type:"list"}};let U=(()=>{class r{constructor(e,o,n,i,s,h,f,b){this.exportExcelService=e,this.jcEntryService=o,this.spinner=n,this.activatedRoute=i,this.exportToPDFService=s,this.utilityService=h,this.toastService=f,this.router=b,this.page=1,this.pageSize=8,this.collection=0,this.column="createdAt",this.direction=-1,this.search="",this.tableData=[],this.rolePermissionActions=v.a1}ngOnInit(){this.page=Number(this.activatedRoute.snapshot.queryParamMap.get("page")??1),this.getAll()}navigateTo(e,o,n){if("Mark As Completed"==o?.status&&"edit"==n)return null;this.router.navigate([e],{relativeTo:this.activatedRoute,queryParams:{id:o?._id,action:n}})}eventHeader(e){switch(e.key){case"SEARCH":this.search=e.value,this.getAll();break;case"PDF":this.getAll(!0,"PDF");break;case"EXCEL":this.getAll(!0,"EXCEL");break;case"PAGE":this.page=e.value,this.getAll()}}trackByFn(e,o){return o?._id}getAll(e=!1,o=""){this.spinner.show();let n={page:this.page,pageSize:this.pageSize,search:this.search,column:this.column,direction:this.direction,excel:e};this.subscription&&this.subscription.unsubscribe(),this.subscription=this.jcEntryService.getAll(n).subscribe(i=>{"EXCEL"==o?this.excelDownload(i.rows):"PDF"==o?this.pdfDownload(i.rows):(this.tableData=i.rows,this.collection=i.count),this.spinner.hide()})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}pdfDownload(e){let o=(0,M.MO)(e);this.exportToPDFService.generatePdf(o.tableData,o.title)}excelDownload(e){this.exportExcelService.exportExcel((0,M.GF)(e))}update(e,o,n){["Mark As Completed"].includes(e.status)&&(this.spinner.show(),this.jcEntryService.update(n,{status:o}).subscribe(i=>{this.toastService.success(i.message),this.getAll(),this.spinner.hide()}))}onSort({column:e,direction:o}){this.headers.forEach(n=>{n.sortable!==e&&(n.direction="")}),this.column=e,this.direction="asc"==o?1:-1,this.getAll()}static#t=this.\u0275fac=function(o){return new(o||r)(t.Y36(p.Ol),t.Y36(Z.US),t.Y36(p.V),t.Y36(C.gz),t.Y36(p.$L),t.Y36(p.tI),t.Y36(p.kl),t.Y36(C.F0))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-jc-entry-list"]],viewQuery:function(o,n){if(1&o&&t.Gf(g.j,5),2&o){let i;t.iGM(i=t.CRH())&&(n.headers=i)}},decls:38,vars:15,consts:[[1,"listCard","card"],[1,"table-header"],[1,"heading"],["appAccessControl","",1,"text-center",3,"accessType"],["type","button",1,"btn","btn-primary","btn-add",3,"click"],["aria-hidden","true",1,"fa","fa-plus-square","fa-lg","me-2"],[1,"line-border"],[1,"table-responsive"],[3,"data","dataChange"],[1,"table","table-bordered"],[1,"bg-primary"],[1,"text-white"],["sortable","jobCardNo",3,"sort"],["sortable","SKUNo",3,"sort"],["sortable","SKUName",1,"text-start",3,"sort"],["sortable","SKUDescription",1,"text-start",3,"sort"],["sortable","UOM",3,"sort"],["sortable","totalBatchQuantity",3,"sort"],["sortable","batchOutputQty",3,"sort"],["sortable","batchNumber",3,"sort"],["sortable","status",3,"sort"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-start"],["SKUName",""],[1,"pointer",3,"ngbTooltip","positionTarget"],["SKUDescription",""],[1,"dropdown"],[1,"dropbtn"],[1,"dropdown-content"],["appAccessControl","","href","javascript:void(0)",3,"accessType","click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg","me-2","text-primary"],["aria-hidden","true",1,"fa","fa-pencil-square-o","fa-lg","me-2","text-primary"],["src","./assets/images/new.svg","width","16",1,"me-2"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"label",2),t._uU(3,"Job Card Entry Summary"),t.qZA()(),t.TgZ(4,"div",3)(5,"button",4),t.NdJ("click",function(){return n.navigateTo("../form",{},"create")}),t._UZ(6,"i",5),t._uU(7," Job Card Entry "),t.qZA()(),t._UZ(8,"hr",6),t.TgZ(9,"div",7)(10,"app-setting-header",8),t.NdJ("dataChange",function(s){return n.eventHeader(s)}),t.qZA(),t.TgZ(11,"table",9)(12,"thead",10)(13,"tr",11)(14,"th",12),t.NdJ("sort",function(s){return n.onSort(s)}),t._uU(15,"Job Card No."),t.qZA(),t.TgZ(16,"th",13),t.NdJ("sort",function(s){return n.onSort(s)}),t._uU(17,"SKU No."),t.qZA(),t.TgZ(18,"th",14),t.NdJ("sort",function(s){return n.onSort(s)}),t._uU(19),t.ALo(20,"labelTranslate"),t.qZA(),t.TgZ(21,"th",15),t.NdJ("sort",function(s){return n.onSort(s)}),t._uU(22),t.ALo(23,"labelTranslate"),t.qZA(),t.TgZ(24,"th",16),t.NdJ("sort",function(s){return n.onSort(s)}),t._uU(25,"UoM"),t.qZA(),t.TgZ(26,"th",17),t.NdJ("sort",function(s){return n.onSort(s)}),t._uU(27,"Batch I/P Qty."),t.qZA(),t.TgZ(28,"th",18),t.NdJ("sort",function(s){return n.onSort(s)}),t._uU(29,"Batch O/P Qty."),t.qZA(),t.TgZ(30,"th",19),t.NdJ("sort",function(s){return n.onSort(s)}),t._uU(31,"Batch Number"),t.qZA(),t.TgZ(32,"th",20),t.NdJ("sort",function(s){return n.onSort(s)}),t._uU(33,"Status"),t.qZA(),t.TgZ(34,"th"),t._uU(35,"Action"),t.qZA()()(),t.TgZ(36,"tbody"),t.YNc(37,x,37,27,"tr",21),t.qZA()()()()),2&o&&(t.xp6(4),t.Q6J("accessType",n.rolePermissionActions.createAction),t.xp6(6),t.Q6J("data",t.l5B(10,P,n.page,n.pageSize,n.collection,n.search)),t.xp6(9),t.hij(" ",t.lcZ(20,6,"SKU Name")," "),t.xp6(3),t.hij(" ",t.lcZ(23,8,"SKU Description")," "),t.xp6(15),t.Q6J("ngForOf",n.tableData)("ngForTrackBy",n.trackByFn))},dependencies:[d.sg,J.P,_._L,g.j,D.J,I.c,A.Q],encapsulation:2})}return r})();var a=l(60095),E=l(21631),N=l(22096),Q=l(61441),w=l(3959),L=l(74834),T=l(50363);const u=function(){return["view","approve"]},q=function(){return{standalone:!0}};function k(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div",35)(1,"div",9)(2,"div",10)(3,"div",36)(4,"input",37),t.NdJ("ngModelChange",function(n){const s=t.CHM(e).$implicit;return t.KtG(s.seq=n)}),t.qZA()(),t.TgZ(5,"div",13)(6,"input",38),t.NdJ("ngModelChange",function(n){const s=t.CHM(e).$implicit;return t.KtG(s.subProcessName=n)}),t.qZA()(),t.TgZ(7,"div",14)(8,"input",38),t.NdJ("ngModelChange",function(n){const s=t.CHM(e).$implicit;return t.KtG(s.inspectedBy=n)}),t.qZA()()()(),t.TgZ(9,"div",15)(10,"div",10)(11,"div",16)(12,"input",39),t.NdJ("ngModelChange",function(n){const s=t.CHM(e).$implicit;return t.KtG(s.releasedDate=n)}),t.qZA()(),t.TgZ(13,"div",16)(14,"ng-select",40),t.NdJ("ngModelChange",function(n){const s=t.CHM(e).$implicit;return t.KtG(s.releaseStatus=n)}),t.qZA()(),t.TgZ(15,"div",41)(16,"div",42)(17,"input",43),t.NdJ("ngModelChange",function(n){const s=t.CHM(e).$implicit;return t.KtG(s.IPQAStatus=n)}),t.qZA()()()()()()}if(2&r){const e=c.$implicit,o=t.oxw();t.xp6(4),t.Q6J("ngModel",e.seq)("disabled",t.DdM(15,u).includes(o.action)),t.xp6(2),t.Q6J("ngModel",e.subProcessName)("disabled",t.DdM(16,u).includes(o.action)),t.xp6(2),t.Q6J("ngModel",e.inspectedBy)("disabled",t.DdM(17,u).includes(o.action)),t.xp6(4),t.Q6J("ngModel",e.releasedDate)("disabled",t.DdM(18,u).includes(o.action)),t.xp6(2),t.Q6J("items",o.releaseStatusOptions)("clearable",!1)("ngModel",e.releaseStatus)("disabled",t.DdM(19,u).includes(o.action)),t.xp6(3),t.Q6J("ngModel",e.IPQAStatus)("ngModelOptions",t.DdM(20,q))("disabled",t.DdM(21,u).includes(o.action))}}function O(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div",44)(1,"button",45),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.dismissModel())}),t._uU(2,"Save & Close"),t.qZA()()}}const Y=function(){return["create","edit"]};let j=(()=>{class r{constructor(e,o){this.activeModal=e,this.utilityService=o,this.action="create",this.prodInfoList=[],this.releaseStatusOptions=[],this.IPQADetails={},this.sourceOfMfg=v.mt}ngOnInit(){this.prodInfoList=this.IPQADetails?.IPQA?.IPQAInfo?.length>0?JSON.parse(JSON.stringify(this.IPQADetails?.IPQA?.IPQAInfo))?.map(e=>(e.releasedDate&&(e.releasedDate=this.utilityService.getFormatDate(e.releasedDate,"YYYY-MM-DD")),e)):[{seq:null,subProcessName:"",inspectedBy:"",releasedDate:this.utilityService.getTodayDate("YYYY-MM-DD"),releaseStatus:null,IPQAStatus:!1}]}deleteTableRow(){["create","edit"].includes(this.action)&&this.prodInfoList.length>1&&this.prodInfoList.pop()}addTableRow(){["create","edit"].includes(this.action)&&this.prodInfoList.push({seq:null,subProcessName:"",inspectedBy:"",releasedDate:this.utilityService.getTodayDate("YYYY-MM-DD"),releaseStatus:null,IPQAStatus:!1})}dismissModel(){this.activeModal.close({prodInfoList:this.prodInfoList,IPQA:{IPQAInfo:this.prodInfoList,IPQARemarks:this.IPQADetails?.IPQARemarks}})}static#t=this.\u0275fac=function(o){return new(o||r)(t.Y36(_.Kz),t.Y36(p.tI))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-jc-ipqa-info-modal"]],viewQuery:function(o,n){if(1&o&&t.Gf(g.j,5),2&o){let i;t.iGM(i=t.CRH())&&(n.headers=i)}},inputs:{action:"action",prodInfoList:"prodInfoList",releaseStatusOptions:"releaseStatusOptions",IPQADetails:"IPQADetails"},decls:54,vars:7,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container-fluid","px-0"],[1,"mt-1","line-border-with-title","mb-4"],[1,"px-5"],[1,"row","mx-4","px-3"],[1,"col-7"],[1,"row"],[1,"col-2","pe-1","text-center"],[1,"form-label"],[1,"col-6","ps-0","pe-1"],[1,"col-4","ps-0"],[1,"col-5","ps-2"],[1,"col-5","ps-0","pe-1"],[1,"col-5","ps-0"],[1,"col-2","ps-0","pe-1"],["class","row mx-4 px-3 mb-2",4,"ngFor","ngForOf"],[1,"row","mt-4","mb-2","px-5","mx-1",2,"min-height","13rem"],[1,"col-12","set-image","px-0","seperate-row"],[1,"add-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/add_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"line-border"],[1,"minus-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/delete_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"col","mt-1"],[1,"row","mb-4","mt-2","mx-4","px-3"],[1,"col-7","pe-0"],[1,"d-flex","align-items-center"],[1,"col-form-label","text-nowrap"],[1,"ms-1","me-2"],["placeholder","Critical incident/Deviation/Concerns during Production","type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],["class","col-5 d-flex justify-content-end",4,"ngIf"],[1,"row","mx-4","px-3","mb-2"],[1,"col-2","pe-1"],["type","number",1,"form-control","text-center",3,"ngModel","disabled","ngModelChange"],["type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],["type","date",1,"form-control",3,"ngModel","disabled","ngModelChange"],["bindLabel","releaseStatusOptions","bindValue","releaseStatusOptions",3,"items","clearable","ngModel","disabled","ngModelChange"],[1,"col-2","ps-0"],[1,"h-100","d-flex","justify-content-center","align-items-center","set-prod-status"],["type","checkbox",1,"form-check-input","pointer","mt-0",3,"ngModel","ngModelOptions","disabled","ngModelChange"],[1,"col-5","d-flex","justify-content-end"],["type","button",1,"btn","btn-primary","px-4",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3),t.qZA(),t.TgZ(4,"div")(5,"button",3),t.NdJ("click",function(){return n.activeModal.close()}),t._UZ(6,"i",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"span",7),t._uU(10," IPQA Details "),t.qZA()(),t.TgZ(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"label",12),t._uU(16,"Seq."),t.qZA()(),t.TgZ(17,"div",13)(18,"label",12),t._uU(19,"Sub-Process Name"),t.qZA()(),t.TgZ(20,"div",14)(21,"label",12),t._uU(22,"Inspected By "),t.qZA()()()(),t.TgZ(23,"div",15)(24,"div",10)(25,"div",16)(26,"label",12),t._uU(27,"Release Date "),t.qZA()(),t.TgZ(28,"div",17)(29,"label",12),t._uU(30,"Release Status"),t.qZA()(),t.TgZ(31,"div",18)(32,"label",12),t._uU(33," Status "),t.qZA()()()()(),t.YNc(34,k,18,22,"div",19),t.TgZ(35,"div",20)(36,"div",21)(37,"div",22)(38,"img",23),t.NdJ("click",function(){return n.addTableRow()}),t.qZA()(),t._UZ(39,"hr",24),t.TgZ(40,"div",25)(41,"img",26),t.NdJ("click",function(){return n.deleteTableRow()}),t.qZA()()()(),t.TgZ(42,"div",10)(43,"div",27),t._UZ(44,"hr",24),t.qZA()(),t.TgZ(45,"div",28)(46,"div",29)(47,"div",30)(48,"div",31),t._uU(49," IPQA Remarks "),t.TgZ(50,"span",32),t._uU(51,"\u25b6"),t.qZA()(),t.TgZ(52,"input",33),t.NdJ("ngModelChange",function(s){return n.IPQADetails.IPQARemarks=s}),t.qZA()()(),t.YNc(53,O,3,0,"div",34),t.qZA()()()),2&o&&(t.xp6(3),t.hij("",null==n.IPQADetails?null:n.IPQADetails.processName," Sub-Processes"),t.xp6(31),t.Q6J("ngForOf",n.prodInfoList),t.xp6(18),t.Q6J("ngModel",n.IPQADetails.IPQARemarks)("disabled",t.DdM(5,u).includes(n.action)),t.xp6(1),t.Q6J("ngIf",t.DdM(6,Y).includes(n.action)))},dependencies:[d.sg,d.O5,a.Fj,a.wV,a.Wl,a.JJ,a.On,T.w9],styles:[".set-image[_ngcontent-%COMP%]{width:100%;margin-top:-1rem!important}.seperate-row[_ngcontent-%COMP%]{position:relative}.seperate-row[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]{position:absolute;left:-1rem;top:.2rem}.seperate-row[_ngcontent-%COMP%]   .minus-icon[_ngcontent-%COMP%]{position:absolute;right:-1rem;top:.2rem}.set-prod-status[_ngcontent-%COMP%]{border:solid 1px #d6cdcd!important}"]})}return r})();const m=function(){return["view","approve"]},F=function(){return{standalone:!0}};function K(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div",35)(1,"div",9)(2,"div",10)(3,"div",36)(4,"input",37),t.NdJ("ngModelChange",function(n){const s=t.CHM(e).$implicit;return t.KtG(s.seq=n)}),t.qZA()(),t.TgZ(5,"div",13)(6,"input",38),t.NdJ("ngModelChange",function(n){const s=t.CHM(e).$implicit;return t.KtG(s.subProcessName=n)}),t.qZA()(),t.TgZ(7,"div",14)(8,"input",39),t.NdJ("ngModelChange",function(n){const s=t.CHM(e).$implicit;return t.KtG(s.prodStartDate=n)}),t.qZA()()()(),t.TgZ(9,"div",15)(10,"div",10)(11,"div",16)(12,"input",39),t.NdJ("ngModelChange",function(n){const s=t.CHM(e).$implicit;return t.KtG(s.prodEndDate=n)}),t.qZA()(),t.TgZ(13,"div",16)(14,"input",38),t.NdJ("ngModelChange",function(n){const s=t.CHM(e).$implicit;return t.KtG(s.operatingStaff=n)}),t.qZA()(),t.TgZ(15,"div",40)(16,"div",41)(17,"input",42),t.NdJ("ngModelChange",function(n){const s=t.CHM(e).$implicit;return t.KtG(s.prodStatus=n)}),t.qZA()()()()()()}if(2&r){const e=c.$implicit,o=t.oxw();t.xp6(4),t.Q6J("ngModel",e.seq)("disabled",t.DdM(13,m).includes(o.action)),t.xp6(2),t.Q6J("ngModel",e.subProcessName)("disabled",t.DdM(14,m).includes(o.action)),t.xp6(2),t.Q6J("ngModel",e.prodStartDate)("disabled",t.DdM(15,m).includes(o.action)),t.xp6(4),t.Q6J("ngModel",e.prodEndDate)("disabled",t.DdM(16,m).includes(o.action)),t.xp6(2),t.Q6J("ngModel",e.operatingStaff)("disabled",t.DdM(17,m).includes(o.action)),t.xp6(3),t.Q6J("ngModel",e.prodStatus)("ngModelOptions",t.DdM(18,F))("disabled",t.DdM(19,m).includes(o.action))}}function R(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div",43)(1,"button",44),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.dismissModel())}),t._uU(2,"Save & Close"),t.qZA()()}}const G=function(){return["create","edit"]};let B=(()=>{class r{constructor(e,o){this.activeModal=e,this.utilityService=o,this.action="create",this.prodInfoList=[],this.shiftOptions=[],this.productionDetails={},this.sourceOfMfg=v.mt}ngOnInit(){this.prodInfoList=this.productionDetails?.production?.prodInfo?.length>0?JSON.parse(JSON.stringify(this.productionDetails?.production?.prodInfo))?.map(e=>(e.prodStartDate&&(e.prodStartDate=this.utilityService.getFormatDate(e.prodStartDate,"YYYY-MM-DD")),e.prodEndDate&&(e.prodEndDate=this.utilityService.getFormatDate(e.prodEndDate,"YYYY-MM-DD")),e)):[{seq:null,subProcessName:"",prodStartDate:this.utilityService.getTodayDate("YYYY-MM-DD"),prodEndDate:this.utilityService.getTodayDate("YYYY-MM-DD"),operatingStaff:"",prodStatus:!1}]}deleteTableRow(){["create","edit"].includes(this.action)&&this.prodInfoList.length>1&&this.prodInfoList.pop()}addTableRow(){["create","edit"].includes(this.action)&&this.prodInfoList.push({seq:null,subProcessName:"",prodStartDate:this.utilityService.getTodayDate("YYYY-MM-DD"),prodEndDate:this.utilityService.getTodayDate("YYYY-MM-DD"),operatingStaff:"",prodStatus:!1})}dismissModel(){this.activeModal.close({prodInfoList:this.prodInfoList,production:{prodInfo:this.prodInfoList,prodRemarks:this.productionDetails?.prodRemarks}})}static#t=this.\u0275fac=function(o){return new(o||r)(t.Y36(_.Kz),t.Y36(p.tI))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-jc-prod-info-modal"]],viewQuery:function(o,n){if(1&o&&t.Gf(g.j,5),2&o){let i;t.iGM(i=t.CRH())&&(n.headers=i)}},inputs:{action:"action",prodInfoList:"prodInfoList",shiftOptions:"shiftOptions",productionDetails:"productionDetails"},decls:54,vars:7,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container-fluid","px-0"],[1,"mt-1","line-border-with-title","mb-4"],[1,"px-4"],[1,"row","mx-4","px-3"],[1,"col-7"],[1,"row"],[1,"col-2","pe-1","text-center"],[1,"form-label"],[1,"col-6","ps-0","pe-1"],[1,"col-4","ps-0"],[1,"col-5","ps-1"],[1,"col-5","ps-0","pe-1"],[1,"col-5","ps-0"],[1,"col-2","ps-0","pe-1"],["class","row mx-4 px-3 mb-2",4,"ngFor","ngForOf"],[1,"row","mt-4","mb-2","px-5","mx-1",2,"min-height","13rem"],[1,"col-12","set-image","px-0","seperate-row"],[1,"add-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/add_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"line-border"],[1,"minus-icon"],["data-tip","","data-for","infoTip","src","./assets/new_icons/delete_row.svg","width","14","alt","",1,"pointer",3,"click"],[1,"col","mt-1"],[1,"row","mb-4","mt-2","mx-4","px-3"],[1,"col-7","pe-0"],[1,"d-flex","align-items-center"],[1,"col-form-label","text-nowrap"],[1,"ms-1","me-2"],["placeholder","Critical incident/Deviation/Concerns during Production","type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],["class","col-5 d-flex justify-content-end",4,"ngIf"],[1,"row","mx-4","px-3","mb-2"],[1,"col-2","pe-1"],["type","number",1,"form-control","text-center",3,"ngModel","disabled","ngModelChange"],["type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],["type","date",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-2","ps-0"],[1,"h-100","d-flex","justify-content-center","align-items-center","set-prod-status"],["type","checkbox",1,"form-check-input","pointer","mt-0",3,"ngModel","ngModelOptions","disabled","ngModelChange"],[1,"col-5","d-flex","justify-content-end"],["type","button",1,"btn","btn-primary","px-4",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3),t.qZA(),t.TgZ(4,"div")(5,"button",3),t.NdJ("click",function(){return n.activeModal.close()}),t._UZ(6,"i",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"span",7),t._uU(10," Production Details "),t.qZA()(),t.TgZ(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"label",12),t._uU(16,"Seq."),t.qZA()(),t.TgZ(17,"div",13)(18,"label",12),t._uU(19,"Sub-Process Name"),t.qZA()(),t.TgZ(20,"div",14)(21,"label",12),t._uU(22,"Prod. Start Date"),t.qZA()()()(),t.TgZ(23,"div",15)(24,"div",10)(25,"div",16)(26,"label",12),t._uU(27,"Prod. End Date "),t.qZA()(),t.TgZ(28,"div",17)(29,"label",12),t._uU(30,"Operating Staff"),t.qZA()(),t.TgZ(31,"div",18)(32,"label",12),t._uU(33," Status "),t.qZA()()()()(),t.YNc(34,K,18,20,"div",19),t.TgZ(35,"div",20)(36,"div",21)(37,"div",22)(38,"img",23),t.NdJ("click",function(){return n.addTableRow()}),t.qZA()(),t._UZ(39,"hr",24),t.TgZ(40,"div",25)(41,"img",26),t.NdJ("click",function(){return n.deleteTableRow()}),t.qZA()()()(),t.TgZ(42,"div",10)(43,"div",27),t._UZ(44,"hr",24),t.qZA()(),t.TgZ(45,"div",28)(46,"div",29)(47,"div",30)(48,"div",31),t._uU(49," Prod. Remarks "),t.TgZ(50,"span",32),t._uU(51,"\u25b6"),t.qZA()(),t.TgZ(52,"input",33),t.NdJ("ngModelChange",function(s){return n.productionDetails.prodRemarks=s}),t.qZA()()(),t.YNc(53,R,3,0,"div",34),t.qZA()()()),2&o&&(t.xp6(3),t.hij("",null==n.productionDetails?null:n.productionDetails.processName," Sub-Processes"),t.xp6(31),t.Q6J("ngForOf",n.prodInfoList),t.xp6(18),t.Q6J("ngModel",n.productionDetails.prodRemarks)("disabled",t.DdM(5,m).includes(n.action)),t.xp6(1),t.Q6J("ngIf",t.DdM(6,G).includes(n.action)))},dependencies:[d.sg,d.O5,a.Fj,a.wV,a.Wl,a.JJ,a.On],styles:[".set-image{width:100%;margin-top:-1rem!important}.seperate-row{position:relative}.seperate-row .add-icon{position:absolute;left:-1rem;top:.2rem}.seperate-row .minus-icon{position:absolute;right:-1rem;top:.2rem}.set-prod-status{border:solid 1px #d6cdcd!important}\n"],encapsulation:2})}return r})();var H=l(77945),V=l(16897),$=l(95346),z=l(12995),X=l(8658);const W=function(){return{standalone:!0}};function tt(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",52,53)(5,"span",54),t._uU(6),t.qZA()(),t.TgZ(7,"td")(8,"div",55)(9,"button",56),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.openProdInfoModal(i))}),t.ALo(10,"JCEDisabledProdInfo"),t._uU(11," Prod. Info "),t.qZA()()(),t.TgZ(12,"td")(13,"div",55)(14,"button",56),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.openIPQAModal(i))}),t.ALo(15,"JCEDisabledIPQAInfo"),t._uU(16," Control Plan "),t.qZA()()(),t.TgZ(17,"td")(18,"input",57),t.NdJ("ngModelChange",function(n){const s=t.CHM(e).$implicit;return t.KtG(s.processStatus=n)}),t.qZA()()()}if(2&r){const e=c.$implicit,o=t.MAs(4),n=t.oxw();t.xp6(2),t.hij(" ",null==e?null:e.seq," "),t.xp6(1),t.Udp("width",o.clientWidth),t.xp6(2),t.Q6J("ngbTooltip",e.processName)("positionTarget",o),t.xp6(1),t.hij(" ",null==e?null:e.processName," "),t.xp6(3),t.Q6J("disabled",t.xi3(10,10,"Packing"==(null==e?null:e.processName)||n.JCEntryDetailsList,e.seq)),t.xp6(5),t.Q6J("disabled",t.xi3(15,13,"Packing"==(null==e?null:e.processName)||n.JCEntryDetailsList,e.seq)),t.xp6(4),t.Q6J("ngModel",e.processStatus)("ngModelOptions",t.DdM(16,W))}}function et(r,c){1&r&&t._UZ(0,"div",58)}function ot(r,c){1&r&&t._UZ(0,"div",59)}function nt(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"button",60),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.submit())}),t._uU(1," Save "),t.qZA()}}const it=function(r,c,e,o){return{page:r,pageSize:c,collection:e,search:o,excelDisplay:"none"}},st=function(){return["reject","approve","view"]};let rt=(()=>{class r{constructor(e,o,n,i,s,h,f,b){this.jcEntryService=e,this.activatedRoute=o,this.spinner=n,this.toastService=i,this.validationService=s,this.modalService=h,this.utilityService=f,this.location=b,this.isPreview=!1,this.submitted=!1,this.isESCPreview=!1,this.action="create",this.page=1,this.pageSize=7,this.collection=0,this.column="createdAt",this.direction=-1,this.search="",this.selectedJobCardDetails={},this.ESCPreviewArr=[],this.masterData={autoIncrementNo:"",JCOptions:[],processNameList:[],releaseStatusOptions:[],billFromLocationOptions:[]},this.isMarkAsCompleted=!0,this.JCEntryDetailsList=[],this.prodInfoList=[{seq:null,subProcessName:"",prodStartDate:this.utilityService.getTodayDate("YYYY-MM-DD"),prodEndDate:this.utilityService.getTodayDate("YYYY-MM-DD"),operatingStaff:"",prodStatus:!1}],this.IPQAInfoList=[{seq:null,subProcessName:"",inspectedBy:"",releasedDate:this.utilityService.getTodayDate("YYYY-MM-DD"),releaseStatus:null,IPQAStatus:!1}],this.form=new a.nJ({_id:new a.p4(null),jcEntryCode:new a.p4(null),jobCard:new a.p4(null,[a.kI.required]),jobCardNo:new a.p4(null),SKU:new a.p4(null),referenceModel:new a.p4(null),SKUNo:new a.p4(null),SKUName:new a.p4(null),SKUDescription:new a.p4(null),UOM:new a.p4(null),totalBatchQuantity:new a.p4(null),JCEntryDetails:new a.p4([]),location:new a.p4(""),batchOutputQty:new a.p4(null),batchNumber:new a.p4("-"),status:new a.p4("In-Process")})}get f(){return this.form.controls}ngOnInit(){this.getInitialData()}submit(){if(this.submitted=!0,this.validationService.checkErrors(this.form,w.m5))return;this.form.enable();let e=this.form.value;"approve"==this.action&&(e.status="Approved"),e.JCEntryDetails=this.JCEntryDetailsList,e._id?this.update(e):(delete e._id,this.create(e))}trackByFn(e,o){return o?._id}create(e){this.spinner.show(),this.jcEntryService.create(e).subscribe(o=>{this.submitted=!1,this.spinner.hide(),this.toastService.success(o.message),this.location.back()})}update(e){this.spinner.show(),this.jcEntryService.update(e._id,e).subscribe(o=>{this.spinner.hide(),this.submitted=!1,this.toastService.success(o.message),this.location.back()})}reset(){this.form.reset(),this.JCEntryDetailsList=[],this.collection=this.JCEntryDetailsList.length,this.getInitialData(),this.isESCPreview=!1}getInitialData(){this.spinner.show(),this.jcEntryService.getAllMasterData({}).subscribe(e=>{this.masterData=e,this.form.controls.jcEntryCode.setValue(this.masterData?.autoIncrementNo),this.form.controls.location.patchValue("Factory"),this.form.controls.batchNumber.setValue("-"),this.JCEntryDetailsList=this.masterData?.processNameList.map((o,n)=>(o.seq=n+1,o)),this.collection=this.JCEntryDetailsList.length,this.form.controls.status.setValue("In-Process"),this.activatedRoute.queryParams.pipe((0,E.z)(o=>(this.action=o.action,this.utilityService.accessDenied(this.action),o.id?this.jcEntryService.getById(o.id):(0,N.of)({})))).subscribe(o=>{this.spinner.hide(),0!=Object.keys(o).length&&(o.JCEntryDetails&&(this.JCEntryDetailsList=o?.JCEntryDetails),this.collection=this.JCEntryDetailsList.length,this.form.patchValue(o),this.f.jobCardNo.disable(),["view","approve"].includes(this.action)&&this.form.disable())})})}setJobCardId(e){this.f.jobCard.setValue(e?._id),this.f.SKU.setValue(e?.SKU),this.f.SKUNo.setValue(e?.SKUNo),this.f.SKUName.setValue(e?.SKUName),this.f.SKUDescription.setValue(e?.SKUDescription),this.f.UOM.setValue(e?.UOM),this.f.totalBatchQuantity.setValue(e?.batchQty),this.f.batchOutputQty.setValue(e?.batchQty),this.f.jobCardNo.setValue(e?.jobCardNo),this.f.referenceModel.setValue(e?.referenceModel)}preview(){this.search="",this.isESCPreview=!0,this.ESCPreviewArr=this.JCEntryDetailsList,this.JCEntryDetailsList=this.JCEntryDetailsList.filter(e=>e.seq>0),0==this.JCEntryDetailsList.length?this.toastService.warning("At least One Row is Required!"):this.isPreview=!0,this.collection=this.JCEntryDetailsList.length}ESCPreview(){this.search="",this.isPreview=!1,this.JCEntryDetailsList=this.ESCPreviewArr,this.collection=this.JCEntryDetailsList.length}openJobCardDetailsModal(){if("create"==this.action){const e=this.modalService.open(Q.Q,{centered:!0,size:"xl",backdrop:"static",keyboard:!1});e.componentInstance.action=this.action,e.componentInstance.selectedJobCardDetails=this.selectedJobCardDetails,e.componentInstance.JCOptions=this.masterData.JCOptions,e.componentInstance.jobCard=this.form.controls.jobCard.value,e.result.then(o=>{o&&(this.selectedJobCardDetails=o?.selectedJobCardDetails,this.setJobCardId(o?.selectedJobCardDetails))},o=>{})}}checkDisableProd(e){if(0==(e-=1))return!1;let o=this.JCEntryDetailsList.find(i=>i.seq==e);if(null==o)return!0;console.log("data",o);let n=o.production?.prodInfo?.some(i=>i.prodStatus);return console.log("condition",n),n}openProdInfoModal(e){const o=this.modalService.open(B,{centered:!0,windowClass:"custom-modal",backdrop:"static",keyboard:!1});o.componentInstance.action=this.action,o.componentInstance.prodInfoList=this.prodInfoList,o.componentInstance.productionDetails=e,o.result.then(n=>{if(n){let i=this.JCEntryDetailsList.findIndex(s=>s.process==e?.process);this.prodInfoList=n?.prodInfoList,this.JCEntryDetailsList[i].production=n?.production,this.updateProcessStatus(i)}},n=>{})}openIPQAModal(e){const o=this.modalService.open(j,{centered:!0,windowClass:"custom-modal",backdrop:"static",keyboard:!1});o.componentInstance.action=this.action,o.componentInstance.IPQAInfoList=this.IPQAInfoList,o.componentInstance.releaseStatusOptions=this.masterData?.releaseStatusOptions,o.componentInstance.IPQADetails=e,o.result.then(n=>{if(n){let i=this.JCEntryDetailsList.findIndex(s=>s.process==e?.process);this.IPQAInfoList=n?.IPQAInfoList,this.JCEntryDetailsList[i].IPQA=n?.IPQA,this.updateProcessStatus(i)}},n=>{})}updateProcessStatus(e){console.log("JCEntryDetailsList",this.JCEntryDetailsList),this.JCEntryDetailsList[e].processStatus=this.JCEntryDetailsList[e]?.production?.prodInfo?.every(o=>o?.prodStatus)&&this.JCEntryDetailsList[e]?.IPQA?.IPQAInfo?.every(o=>o.IPQAStatus),this.isMarkAsCompleted=!this.JCEntryDetailsList?.every(o=>o?.processStatus||"Packing"==o?.processName),this.JCEntryDetailsList=[...this.JCEntryDetailsList]}openBatchInfoModal(){const e=this.modalService.open(H.o,{centered:!0,size:"md",backdrop:"static",keyboard:!1});e.componentInstance.action=this.action,e.componentInstance.billFromLocationOptions=this.masterData.billFromLocationOptions,e.componentInstance.batchInfoDetails={location:this.f.location.value,batchOutputQty:this.f.batchOutputQty.value,batchNumber:this.f.batchNumber.value},e.result.then(o=>{o&&(console.log("success",o),this.form.patchValue(o))},o=>{})}eventHeader(e){switch(e.key){case"SEARCH":this.search=e.value,this.page=1;break;case"EXCEL":default:break;case"PAGE":this.page=e.value}}onSort({column:e,direction:o}){this.headers.forEach(n=>{n.sortable!==e&&(n.direction="")}),this.JCEntryDetailsList=""===o||""===e?this.JCEntryDetailsList:[...this.JCEntryDetailsList].sort((n,i)=>{let s="string"==typeof n[e]?n[e].toLowerCase():n[e],h="string"==typeof i[e]?i[e].toLowerCase():i[e];const f=s<h?-1:s>h?1:0;return"asc"===o?f:-f})}static#t=this.\u0275fac=function(o){return new(o||r)(t.Y36(Z.US),t.Y36(C.gz),t.Y36(p.V),t.Y36(p.kl),t.Y36(V.RJ),t.Y36(_.FF),t.Y36(p.tI),t.Y36(d.Ye))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-jc-entry-form"]],viewQuery:function(o,n){if(1&o&&t.Gf(L.j_,5),2&o){let i;t.iGM(i=t.CRH())&&(n.headers=i)}},decls:90,vars:30,consts:[[1,"formCard","card",3,"formGroup"],[1,"container"],[1,"row","form-header"],[1,"col","heading"],[1,""],[1,"form-body"],[1,"row","mb-0"],[1,"col-6","pe-2"],[1,"row","mb-1"],[1,"col-7"],[1,"row"],[1,"col-6"],["for","",1,"form-label"],[1,"text-danger"],[1,"d-flex","align-items-center"],[1,"col-11"],["bindLabel","jobCardNo","bindValue","jobCardNo","formControlName","jobCardNo",3,"items","clearable","change"],["id","basic-addon1",1,"set-input-group-text","input-group-text","bg-primary","pointer","col-auto",2,"height","2.9rem",3,"click"],["aria-hidden","true",1,"fa","fa-search","text-white","fs-4"],["type","text","formControlName","SKUNo","readonly","",1,"form-control"],[1,"col-5","px-0"],["type","text","formControlName","SKUName","readonly","",1,"form-control"],[1,"col-3","px-5"],["type","text","formControlName","SKUDescription","readonly","",1,"form-control"],[1,"col-3","ps-0"],[1,"col-5","ps-2","pe-3"],["type","text","readonly","",1,"form-control",3,"value"],[1,"col-7","ps-2"],["type","text","formControlName","totalBatchQuantity","readonly","",1,"form-control"],[1,"row","line-border"],[3,"data","dataChange"],[1,"table-responsive",2,"min-height","25rem"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],["sortable","seq",3,"sort"],["sortable","processName",1,"text-start",3,"sort"],["sortable","processStatus",3,"sort"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-3","pe-0","d-flex"],[1,"d-flex","align-items-end"],[1,"set-flex-status","px-4"],["formControlName","status",1,"form-select","statusSelectBorder"],["selected","","disabled","",3,"value"],["value","In-Process"],["value","Mark As Completed",3,"disabled"],[1,"input-group-text","statusSpanHeight"],["class","statusYellow",4,"ngIf"],["class","statusActive",4,"ngIf"],[1,"col-3"],[1,"col-md-auto","ms-auto","d-flex","align-items-end"],["type","button","class","btn btn-primary px-5",3,"click",4,"ngIf"],[1,"text-start"],["processName",""],[1,"pointer",3,"ngbTooltip","positionTarget"],[1,"d-flex","justify-content-center","align-items-center"],["type","button",1,"btn","btn-primary","form-btn-sm","py-0",3,"disabled","click"],["type","checkbox","disabled","",1,"form-check-input","pointer",3,"ngModel","ngModelOptions","ngModelChange"],[1,"statusYellow"],[1,"statusActive"],["type","button",1,"btn","btn-primary","px-5",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),t._uU(5),t.ALo(6,"titlecase"),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"label",12),t._uU(15,"Job Card No. "),t.TgZ(16,"span",13),t._uU(17,"*"),t.qZA()(),t.TgZ(18,"div",14)(19,"div",15)(20,"ng-select",16),t.NdJ("change",function(s){return n.setJobCardId(s)}),t.qZA()(),t.TgZ(21,"div",17),t.NdJ("click",function(){return n.openJobCardDetailsModal()}),t._UZ(22,"i",18),t.qZA()()(),t.TgZ(23,"div",11)(24,"label",12),t._uU(25,"SKU No. "),t._UZ(26,"span",13),t.qZA(),t._UZ(27,"input",19),t.qZA()()(),t.TgZ(28,"div",20)(29,"label",12),t._uU(30,"SKU Name "),t._UZ(31,"span",13),t.qZA(),t._UZ(32,"input",21),t.qZA()()(),t.TgZ(33,"div",22)(34,"label",12),t._uU(35,"SKU Description "),t._UZ(36,"span",13),t.qZA(),t._UZ(37,"input",23),t.qZA(),t.TgZ(38,"div",24)(39,"div",10)(40,"div",25)(41,"label",12),t._uU(42," UoM "),t._UZ(43,"span",13),t.qZA(),t._UZ(44,"input",26),t.ALo(45,"SalesUOMUnitMaster"),t.qZA(),t.TgZ(46,"div",27)(47,"label",12),t._uU(48," Batch Qty. "),t._UZ(49,"span",13),t.qZA(),t._UZ(50,"input",28),t.qZA()()()()(),t._UZ(51,"hr",29),t.TgZ(52,"app-setting-header",30),t.NdJ("dataChange",function(s){return n.eventHeader(s)}),t.qZA(),t.TgZ(53,"div",31)(54,"table",32)(55,"thead",33)(56,"tr",34)(57,"th",35),t.NdJ("sort",function(s){return n.onSort(s)}),t._uU(58,"Seq."),t.qZA(),t.TgZ(59,"th",36),t.NdJ("sort",function(s){return n.onSort(s)}),t._uU(60,"Process Name"),t.qZA(),t.TgZ(61,"th"),t._uU(62,"Production"),t.qZA(),t.TgZ(63,"th"),t._uU(64,"IPQA"),t.qZA(),t.TgZ(65,"th",37),t.NdJ("sort",function(s){return n.onSort(s)}),t._uU(66,"Status"),t.qZA()()(),t.TgZ(67,"tbody"),t.YNc(68,tt,19,17,"tr",38),t.ALo(69,"slice"),t.ALo(70,"searchFi1ter"),t.qZA()()(),t._UZ(71,"hr",29),t.TgZ(72,"div",10)(73,"div",39)(74,"div",40)(75,"span",41),t._uU(76," Status "),t.qZA(),t.TgZ(77,"select",42)(78,"option",43),t._uU(79,"Select Status"),t.qZA(),t.TgZ(80,"option",44),t._uU(81,"In-Process"),t.qZA(),t.TgZ(82,"option",45),t._uU(83,"Mark As Completed"),t.qZA()(),t.TgZ(84,"span",46),t.YNc(85,et,1,0,"div",47),t.YNc(86,ot,1,0,"div",48),t.qZA()()(),t._UZ(87,"div",49),t.TgZ(88,"div",50),t.YNc(89,nt,2,0,"button",51),t.qZA()()()()),2&o&&(t.Q6J("formGroup",n.form),t.xp6(5),t.hij("Job Card Entry (",t.lcZ(6,13,n.action),") "),t.xp6(15),t.Q6J("items",n.masterData.JCOptions)("clearable",!1),t.xp6(24),t.s9C("value",t.lcZ(45,15,n.form.controls.UOM.value)),t.xp6(8),t.Q6J("data",t.l5B(24,it,n.page,n.pageSize,n.collection,n.search)),t.xp6(16),t.Q6J("ngForOf",t.Dn7(69,17,t.xi3(70,21,n.JCEntryDetailsList,n.search),(n.page-1)*n.pageSize,(n.page-1)*n.pageSize+n.pageSize))("ngForTrackBy",n.trackByFn),t.xp6(10),t.Q6J("value",null),t.xp6(4),t.Q6J("disabled",n.isMarkAsCompleted),t.xp6(3),t.Q6J("ngIf","In-Process"==n.form.value.status),t.xp6(1),t.Q6J("ngIf","Mark As Completed"==n.form.value.status),t.xp6(3),t.Q6J("ngIf",!t.DdM(29,st).includes(n.action)))},dependencies:[d.sg,d.O5,J.P,_._L,a._Y,a.YN,a.Kr,a.Fj,a.Wl,a.EJ,a.JJ,a.JL,a.sg,a.u,a.On,T.w9,g.j,d.OU,d.rS,$.G,A.Q,z.n,X.A],encapsulation:2})}return r})();var at=l(19964),lt=l(56208);const ct=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:U},{path:"form",component:rt,resolve:{accessScreen:at.xr}}];let dt=(()=>{class r{static#t=this.\u0275fac=function(o){return new(o||r)};static#e=this.\u0275mod=t.oAB({type:r});static#o=this.\u0275inj=t.cJS({imports:[d.ez,C.Bz.forChild(ct),lt.m]})}return r})()}}]);