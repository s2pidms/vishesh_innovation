"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[3363],{61441:(v,Z,s)=>{s.d(Z,{Q:()=>g});var c=s(43818),t=s(65879),e=s(37285),M=s(96814),m=s(88059),C=s(95346);const u=function(){return["view","edit","rejection","reject","approval","approve","cancel"]};function d(h,f){if(1&h){const r=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",26,27)(7,"span",28),t._uU(8),t.qZA()(),t.TgZ(9,"td",26,29)(11,"span",28),t._uU(12),t.qZA()(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td")(18,"input",30),t.NdJ("change",function(){const n=t.CHM(r).$implicit,a=t.oxw();return t.KtG(a.setSelectData(n))}),t.qZA()()()}if(2&h){const r=f.$implicit,o=f.index,i=t.MAs(6),n=t.MAs(10),a=t.oxw();t.xp6(2),t.Oqu(null==r?null:r.jobCardNo),t.xp6(2),t.Oqu(null==r?null:r.SKUNo),t.xp6(1),t.Udp("width",i.clientWidth),t.xp6(2),t.Q6J("ngbTooltip",r.SKUName)("positionTarget",i),t.xp6(1),t.hij(" ",r.SKUName," "),t.xp6(1),t.Udp("width",n.clientWidth),t.xp6(2),t.Q6J("ngbTooltip",r.SKUDescription)("positionTarget",n),t.xp6(1),t.hij(" ",r.SKUDescription," "),t.xp6(2),t.Oqu(null==r?null:r.UOM),t.xp6(2),t.Oqu(null==r?null:r.batchQty),t.xp6(2),t.MGl("name","formValue",a.JCOptions[o],""),t.Q6J("disabled",t.DdM(17,u).includes(a.action))("checked",r.select)}}function b(h,f){1&h&&t._UZ(0,"hr",31)}function p(h,f){if(1&h){const r=t.EpF();t.TgZ(0,"div",32)(1,"button",33),t.NdJ("click",function(){t.CHM(r);const i=t.oxw();return t.KtG(i.dismissModel())}),t._uU(2,"Save & Close"),t.qZA()()}}const _=function(h,f,r,o){return{page:h,pageSize:f,collection:r,search:o,excelDisplay:"none"}};let g=(()=>{class h{constructor(r){this.activeModal=r,this.action="edit",this.jobCard="",this.JCOptions=[],this.selectedJobCardDetails={},this.btnDisable=!1,this.page=1,this.pageSize=9,this.collection=0,this.search="",this.column="jobCardNo",this.direction=-1}ngOnInit(){this.jobCard&&(this.selectedJobCardDetails._id=this.jobCard,this.JCOptions=this.JCOptions?.map(r=>(r.select=!1,r._id==this.jobCard&&(r.select=!0),r))),this.collection=this.JCOptions?.length}setSelectData(r){this.selectedJobCardDetails=r}dismissModel(){let r={};r.selectedJobCardDetails=this.selectedJobCardDetails,this.activeModal.close(r)}eventHeader(r){switch(r.key){case"SEARCH":this.search=r.value;break;case"EXCEL":default:break;case"PAGE":this.page=r.value}}onSort({column:r,direction:o}){this.headers.forEach(i=>{i.sortable!==r&&(i.direction="")}),this.JCOptions=""===o||""===r?this.JCOptions:[...this.JCOptions].sort((i,n)=>{let a="string"==typeof i[r]?i[r].toLowerCase():i[r],l="string"==typeof n[r]?n[r].toLowerCase():n[r];const T=a<l?-1:a>l?1:0;return"asc"===o?T:-T})}static#t=this.\u0275fac=function(o){return new(o||h)(t.Y36(e.Kz))};static#e=this.\u0275cmp=t.Xpm({type:h,selectors:[["app-job-card-details-modal"]],viewQuery:function(o,i){if(1&o&&t.Gf(c.j,5),2&o){let n;t.iGM(n=t.CRH())&&(i.headers=n)}},inputs:{action:"action",jobCard:"jobCard",JCOptions:"JCOptions",selectedJobCardDetails:"selectedJobCardDetails"},decls:39,vars:18,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,""],[1,"container-fluid"],[1,"row","justify-content-center"],[1,"col-12","px-0","mt-4"],[1,"px-5","mt-0"],[3,"data","dataChange"],[1,"table-responsive","px-5",2,"min-height","33rem"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],["sortable","jobCardNo",3,"sort"],["sortable","SKUNo",3,"sort"],["sortable","SKUName",1,"text-start",3,"sort"],["sortable","SKUDescription",1,"text-start",3,"sort"],["sortable","UOM",3,"sort"],["sortable","batchQty",3,"sort"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col","px-0","mb-3"],["class","line-border",4,"ngIf"],["class","text-center mb-2",4,"ngIf"],[1,"text-start"],["SKUName",""],[1,"pointer",3,"ngbTooltip","positionTarget"],["SKUDescription",""],["type","radio",1,"form-check-input","pointer",3,"disabled","name","checked","change"],[1,"line-border"],[1,"text-center","mb-2"],["type","button",1,"btn","bg-primary","px-5","mb-4",3,"click"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Select Job Card"),t.qZA(),t.TgZ(4,"div")(5,"button",3),t.NdJ("click",function(){return i.activeModal.close()}),t._UZ(6,"i",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"app-setting-header",10),t.NdJ("dataChange",function(a){return i.eventHeader(a)}),t.qZA()(),t.TgZ(13,"div",11)(14,"table",12)(15,"thead",13)(16,"tr",14)(17,"th",15),t.NdJ("sort",function(a){return i.onSort(a)}),t._uU(18,"Job Card No."),t.qZA(),t.TgZ(19,"th",16),t.NdJ("sort",function(a){return i.onSort(a)}),t._uU(20,"SKU No."),t.qZA(),t.TgZ(21,"th",17),t.NdJ("sort",function(a){return i.onSort(a)}),t._uU(22,"SKU Name"),t.qZA(),t.TgZ(23,"th",18),t.NdJ("sort",function(a){return i.onSort(a)}),t._uU(24," SKU Description "),t.qZA(),t.TgZ(25,"th",19),t.NdJ("sort",function(a){return i.onSort(a)}),t._uU(26,"UoM"),t.qZA(),t.TgZ(27,"th",20),t.NdJ("sort",function(a){return i.onSort(a)}),t._uU(28,"Batch Qty."),t.qZA(),t.TgZ(29,"th"),t._uU(30,"Select"),t.qZA()()(),t.TgZ(31,"tbody"),t.YNc(32,d,19,18,"tr",21),t.ALo(33,"slice"),t.ALo(34,"searchFi1ter"),t.qZA()()()()(),t.TgZ(35,"div",22)(36,"div",23),t.YNc(37,b,1,0,"hr",24),t.qZA()(),t.YNc(38,p,3,0,"div",25),t.qZA()()()),2&o&&(t.xp6(12),t.Q6J("data",t.l5B(11,_,i.page,i.pageSize,i.collection,i.search)),t.xp6(20),t.Q6J("ngForOf",t.Dn7(33,4,t.xi3(34,8,i.JCOptions,i.search),(i.page-1)*i.pageSize,(i.page-1)*i.pageSize+i.pageSize)),t.xp6(5),t.Q6J("ngIf",!t.DdM(16,u).includes(i.action)),t.xp6(1),t.Q6J("ngIf",!t.DdM(17,u).includes(i.action)))},dependencies:[M.sg,M.O5,m.P,e._L,c.j,M.OU,C.G],encapsulation:2})}return h})()},84531:(v,Z,s)=>{s.d(Z,{p:()=>h});var c=s(43818),t=s(32183),e=s(65879),M=s(37285),m=s(99328),C=s(96814),u=s(88059),d=s(60095),b=s(95346);const p=function(){return{standalone:!0}};function _(f,r){if(1&f){const o=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",46),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"div",47)(15,"input",18),e.NdJ("ngModelChange",function(n){const l=e.CHM(o).$implicit;return e.KtG(l.MF=n)})("ngModelChange",function(){const a=e.CHM(o).$implicit,l=e.oxw();return e.KtG(l.changeBatchQty(a))}),e.qZA()()(),e.TgZ(16,"td",48),e._uU(17),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.qZA()()}if(2&f){const o=r.$implicit;e.xp6(2),e.Oqu(null==o?null:o.SN),e.xp6(2),e.hij(" ",null==o?null:o.itemCode," "),e.xp6(2),e.Oqu(null==o?null:o.itemName),e.xp6(2),e.Oqu(null==o?null:o.itemDescription),e.xp6(2),e.Oqu(null==o?null:o.quantity1),e.xp6(2),e.Oqu(null==o?null:o.UOM1),e.xp6(3),e.Q6J("ngModel",o.MF)("ngModelOptions",e.DdM(10,p)),e.xp6(2),e.Oqu(null==o?null:o.quantity2),e.xp6(2),e.Oqu(null==o?null:o.UOM2)}}const g=function(f,r,o,i){return{page:f,pageSize:r,collection:o,search:i,excelDisplay:"none"}};let h=(()=>{class f{constructor(o,i,n,a){this.activeModal=o,this.spinner=i,this.toastService=n,this.modalService=a,this.sourceOfManufacturing="",this.inkLogNewBatch={},this.shiftOptions=[],this.resetData=[],this.collection=0,this.page=1,this.pageSize=4,this.column="createdAt",this.direction=-1,this.search="",this.active=1,this.batchDateNo="",this.totalQty=0}trackByFn(o,i){return i?._id}ngOnInit(){this.resetData=JSON.parse(JSON.stringify(this.inkLogNewBatch)),this.collection=this.inkLogNewBatch.length,(0==this.inkLogNewBatch?.newBatch?.length||!this.inkLogNewBatch?.newBatch)&&this.toastService.warning("Please define the Bill of Material of the SKU"),this.totalQty=this.inkLogNewBatch?.newBatch?.reduce((o,i)=>+o+ +i.quantity1,0),this.inkLogNewBatch.inkBatchQty=+this.totalQty*+this.inkLogNewBatch?.MF}changeTotalBatchQty(){this.inkLogNewBatch.inkBatchQty=+(+this.totalQty*+this.inkLogNewBatch?.MF).toFixed(3),this.inkLogNewBatch.newBatch=this.inkLogNewBatch?.newBatch?.map(o=>(o.MF=+this.inkLogNewBatch?.MF,o.quantity2=+(o.quantity1*o.MF).toFixed(3),o))}changeBatchQty(o){let i=this.inkLogNewBatch.newBatch.map(n=>n.item).indexOf(o?.item);this.inkLogNewBatch.newBatch[i].quantity2=+(o.quantity1*o.MF).toFixed(3)}reset(){this.inkLogNewBatch=JSON.parse(JSON.stringify(this.resetData)),this.collection=this.inkLogNewBatch.length}dismissModel(){this.activeModal.close({inkLogNewBatch:this.inkLogNewBatch})}eventHeader(o){switch(o.key){case"SEARCH":this.search=o.value;break;case"EXCEL":default:break;case"PAGE":this.page=o.value}}openLogEntryModal(){const o=this.modalService.open(t.M,{centered:!0,size:"md",backdrop:"static",keyboard:!1});o.componentInstance.logDetails=this.inkLogNewBatch.logDetails,o.componentInstance.shiftOptions=this.shiftOptions,o.componentInstance.sourceOfManufacturing=this.sourceOfManufacturing,o.result.then(i=>{i&&(console.log("success",i),this.inkLogNewBatch.logDetails=i)},i=>{})}onSort({column:o,direction:i}){this.headers.forEach(n=>{n.sortable!==o&&(n.direction="")}),this.inkLogNewBatch=""===i||""===o?this.inkLogNewBatch:[...this.inkLogNewBatch].sort((n,a)=>{let l="string"==typeof n[o]?n[o].toLowerCase():n[o],T="string"==typeof a[o]?a[o].toLowerCase():a[o];const y=l<T?-1:l>T?1:0;return"asc"===i?y:-y})}static#t=this.\u0275fac=function(i){return new(i||f)(e.Y36(M.Kz),e.Y36(m.V),e.Y36(m.kl),e.Y36(M.FF))};static#e=this.\u0275cmp=e.Xpm({type:f,selectors:[["app-ink-mixing-log-batch"]],viewQuery:function(i,n){if(1&i&&e.Gf(c.j,5),2&i){let a;e.iGM(a=e.CRH())&&(n.headers=a)}},inputs:{sourceOfManufacturing:"sourceOfManufacturing",inkLogNewBatch:"inkLogNewBatch",shiftOptions:"shiftOptions"},decls:90,vars:24,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container-fluid","mt-4"],[1,"row","mb-2","px-4"],[1,"col-7"],[1,"row"],[1,"col-3"],[1,"form-label","mb-0"],["type","text","readonly","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-5","ps-2"],[1,"col-4","px-2"],[1,"col-5"],[1,"col-6"],[1,"col-7","ps-2"],["type","number","readonly","",1,"form-control","bg-white-smoke",3,"ngModel","ngModelChange"],["type","number",1,"form-control","form-control-sm",3,"ngModel","ngModelOptions","ngModelChange"],["type","number","readonly","",1,"form-control","bg-pink-color",3,"ngModel","ngModelChange"],[1,"row","mt-4"],[1,"col","px-0"],[1,"line-border","mb-0"],[1,"col-12","px-5"],[3,"data","dataChange"],[1,"table-responsive",2,"min-height","19.2rem"],[1,"table","table-bordered","table-sticky","mt-1"],[1,"bg-primary"],[1,"text-white"],["sortable","seq",3,"sort"],["sortable","specificationCode",3,"sort"],["sortable","characteristic",1,"text-start",3,"sort"],["sortable","testStandard",3,"sort"],["sortable","UOM",3,"sort"],["sortable","measuringInstrument",3,"sort"],["sortable","LTL",3,"sort"],["sortable","specValue",3,"sort"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"line-border","mt-0"],[1,"row","px-4","mb-3"],[1,"col-4"],[1,"plusIconSvg","btn","btn-primary","me-1"],["type","button",1,"btn","btn-primary","px-3","me-4",3,"click"],[1,"col-8","d-flex","justify-content-end"],["type","button",1,"btn","btn-primary","px-5","me-4",3,"click"],["type","button",1,"btn","btn-primary","px-4",3,"click"],[1,"bg-white-smoke"],[1,"d-flex","justify-content-center"],[1,"bg-pink-color"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Ink Mixing Log (Entry)"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return n.activeModal.close()}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),e._uU(13," F20 Ink Code "),e.qZA(),e.TgZ(14,"input",11),e.NdJ("ngModelChange",function(l){return n.inkLogNewBatch.colourCode=l}),e.qZA()(),e.TgZ(15,"div",12)(16,"label",10),e._uU(17," F20 Ink Name"),e.qZA(),e.TgZ(18,"input",11),e.NdJ("ngModelChange",function(l){return n.inkLogNewBatch.colourName=l}),e.qZA()(),e.TgZ(19,"div",13)(20,"label",10),e._uU(21," F20 Ink Description "),e.qZA(),e.TgZ(22,"input",11),e.NdJ("ngModelChange",function(l){return n.inkLogNewBatch.colourDescription=l}),e.qZA()()()(),e.TgZ(23,"div",14)(24,"div",8)(25,"div",15)(26,"div",8)(27,"div",14)(28,"label",10),e._uU(29," UoM "),e.qZA(),e.TgZ(30,"input",11),e.NdJ("ngModelChange",function(l){return n.inkLogNewBatch.UOM=l}),e.qZA()(),e.TgZ(31,"div",16)(32,"label",10),e._uU(33," M/Batch Total "),e.qZA(),e.TgZ(34,"input",17),e.NdJ("ngModelChange",function(l){return n.inkLogNewBatch.BOMQty=l}),e.qZA()()()(),e.TgZ(35,"div",15)(36,"div",8)(37,"div",12)(38,"label",10),e._uU(39," *MF "),e.qZA(),e.TgZ(40,"input",18),e.NdJ("ngModelChange",function(l){return n.inkLogNewBatch.MF=l})("ngModelChange",function(){return n.changeTotalBatchQty()}),e.qZA()(),e.TgZ(41,"div",16)(42,"label",10),e._uU(43," Batch Qty "),e.qZA(),e.TgZ(44,"input",19),e.NdJ("ngModelChange",function(l){return n.inkLogNewBatch.inkBatchQty=l}),e.qZA()()()()()()(),e.TgZ(45,"div",20)(46,"div",21),e._UZ(47,"hr",22),e.qZA()(),e.TgZ(48,"div",8)(49,"div",23)(50,"app-setting-header",24),e.NdJ("dataChange",function(l){return n.eventHeader(l)}),e.qZA(),e.TgZ(51,"div",25)(52,"table",26)(53,"thead",27)(54,"tr",28)(55,"th",29),e.NdJ("sort",function(l){return n.onSort(l)}),e._uU(56,"SN"),e.qZA(),e.TgZ(57,"th",30),e.NdJ("sort",function(l){return n.onSort(l)}),e._uU(58,"Item Code"),e.qZA(),e.TgZ(59,"th",31),e.NdJ("sort",function(l){return n.onSort(l)}),e._uU(60,"Item Name"),e.qZA(),e.TgZ(61,"th",31),e.NdJ("sort",function(l){return n.onSort(l)}),e._uU(62," Item Description "),e.qZA(),e.TgZ(63,"th",32),e.NdJ("sort",function(l){return n.onSort(l)}),e._uU(64,"Quantity"),e.qZA(),e.TgZ(65,"th",33),e.NdJ("sort",function(l){return n.onSort(l)}),e._uU(66,"UoM"),e.qZA(),e.TgZ(67,"th",34),e.NdJ("sort",function(l){return n.onSort(l)}),e._uU(68,"*MF"),e.qZA(),e.TgZ(69,"th",35),e.NdJ("sort",function(l){return n.onSort(l)}),e._uU(70,"Quantity"),e.qZA(),e.TgZ(71,"th",36),e.NdJ("sort",function(l){return n.onSort(l)}),e._uU(72,"UoM"),e.qZA()()(),e.TgZ(73,"tbody"),e.YNc(74,_,20,11,"tr",37),e.ALo(75,"slice"),e.ALo(76,"searchFi1ter"),e.qZA()()()()(),e.TgZ(77,"div",20)(78,"div",21),e._UZ(79,"hr",38),e.qZA()(),e.TgZ(80,"div",39)(81,"div",40),e._UZ(82,"button",41),e.TgZ(83,"button",42),e.NdJ("click",function(){return n.openLogEntryModal()}),e._uU(84,"Log Entry"),e.qZA()(),e.TgZ(85,"div",43)(86,"button",44),e.NdJ("click",function(){return n.reset()}),e._uU(87,"Reset"),e.qZA(),e.TgZ(88,"button",45),e.NdJ("click",function(){return n.dismissModel()}),e._uU(89,"Save & close"),e.qZA()()()()()),2&i&&(e.xp6(14),e.Q6J("ngModel",n.inkLogNewBatch.colourCode),e.xp6(4),e.Q6J("ngModel",n.inkLogNewBatch.colourName),e.xp6(4),e.Q6J("ngModel",n.inkLogNewBatch.colourDescription),e.xp6(8),e.Q6J("ngModel",n.inkLogNewBatch.UOM),e.xp6(4),e.Q6J("ngModel",n.inkLogNewBatch.BOMQty),e.xp6(6),e.Q6J("ngModel",n.inkLogNewBatch.MF)("ngModelOptions",e.DdM(18,p)),e.xp6(4),e.Q6J("ngModel",n.inkLogNewBatch.inkBatchQty),e.xp6(6),e.Q6J("data",e.l5B(19,g,n.page,n.pageSize,n.collection,n.search)),e.xp6(24),e.Q6J("ngForOf",e.Dn7(75,11,e.xi3(76,15,n.inkLogNewBatch.newBatch,n.search),(n.page-1)*n.pageSize,(n.page-1)*n.pageSize+n.pageSize))("ngForTrackBy",n.trackByFn))},dependencies:[C.sg,u.P,d.Fj,d.wV,d.JJ,d.On,c.j,C.OU,b.G],encapsulation:2})}return f})()},32183:(v,Z,s)=>{s.d(Z,{M:()=>u});var c=s(60095),t=s(65879),e=s(37285),M=s(99328),m=s(50363);const C=function(){return["view","approve","reject"]};let u=(()=>{class d{get f(){return this.form.controls}constructor(p,_){this.activeModal=p,this.utilityService=_,this.logDetails={},this.action="",this.sourceOfManufacturing="",this.shiftOptions=[],this.form=new c.nJ({prodSource:new c.p4(null),prodShift:new c.p4(null),prodDate:new c.p4(null),operatingStaff:new c.p4(null),remarks:new c.p4(null),authorizedBy:new c.p4(null)})}ngOnInit(){this.logDetails?.prodDate&&(this.logDetails.prodDate=this.utilityService.getFormatDate(this.logDetails?.prodDate,"YYYY-MM-DD")),this.form.patchValue(this.logDetails),["view","approve","reject"].includes(this.action)&&this.form.disable(),this.f.prodSource.value||this.f.prodSource.setValue(this.sourceOfManufacturing??"Inhouse")}dismissModel(){this.activeModal.close(this.form.value)}static#t=this.\u0275fac=function(_){return new(_||d)(t.Y36(e.Kz),t.Y36(M.tI))};static#e=this.\u0275cmp=t.Xpm({type:d,selectors:[["app-screen-making-log-entry"]],inputs:{logDetails:"logDetails",action:"action",sourceOfManufacturing:"sourceOfManufacturing",shiftOptions:"shiftOptions"},decls:51,vars:5,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,""],[3,"formGroup"],[1,"row","my-4","px-5"],[1,"col-6"],[1,"form-label","mb-1"],[1,"text-danger"],["type","text","formControlName","prodSource","readonly","",1,"form-control","bg-white-smoke"],["type","date","formControlName","prodDate",1,"form-control"],[1,"row","px-5","mb-4"],["bindValue","parameterName","bindLabel","parameterLabel","formControlName","prodShift",3,"items","clearable"],["type","text","formControlName","operatingStaff",1,"form-control"],[1,"row","px-5"],[1,"col-12"],["type","text","formControlName","remarks",1,"form-control"],[1,"line-border","my-4"],[1,"col-8"],[1,"d-flex","align-items-center"],[1,"col-form-label","text-nowrap"],[1,"fa","fa-caret-right","fs-3","mx-2"],["type","text","formControlName","authorizedBy",1,"form-control"],[1,"col-4","ps-0","d-flex","justify-content-end"],[1,"mb-4"],["type","button",1,"btn","bg-primary","px-2",3,"disabled","click"]],template:function(_,g){1&_&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Log Entry"),t.qZA(),t.TgZ(4,"div")(5,"button",3),t.NdJ("click",function(){return g.activeModal.close()}),t._UZ(6,"i",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"form",6),t.ynx(9),t.TgZ(10,"div",7)(11,"div",8)(12,"label",9),t._uU(13," Prod. Source "),t._UZ(14,"span",10),t.qZA(),t._UZ(15,"input",11),t.qZA(),t.TgZ(16,"div",8)(17,"label",9),t._uU(18," Prod. Date "),t._UZ(19,"span",10),t.qZA(),t._UZ(20,"input",12),t.qZA()(),t.TgZ(21,"div",13)(22,"div",8)(23,"label",9),t._uU(24,"Production Shift "),t._UZ(25,"span",10),t.qZA(),t._UZ(26,"ng-select",14),t.qZA(),t.TgZ(27,"div",8)(28,"label",9),t._uU(29," Operating Staff"),t._UZ(30,"span",10),t.qZA(),t._UZ(31,"input",15),t.qZA()(),t.TgZ(32,"div",16)(33,"div",17)(34,"label",9),t._uU(35,"Remarks "),t._UZ(36,"span",10),t.qZA(),t._UZ(37,"input",18),t.qZA()(),t.BQk(),t._UZ(38,"hr",19),t.TgZ(39,"div",16)(40,"div",20)(41,"div",21)(42,"div",22),t._uU(43," Authorised by "),t._UZ(44,"i",23),t.qZA(),t.TgZ(45,"div",5),t._UZ(46,"input",24),t.qZA()()(),t.TgZ(47,"div",25)(48,"div",26)(49,"button",27),t.NdJ("click",function(){return g.dismissModel()}),t._uU(50," Save & Close "),t.qZA()()()()()()()),2&_&&(t.xp6(8),t.Q6J("formGroup",g.form),t.xp6(18),t.Q6J("items",g.shiftOptions)("clearable",!1),t.xp6(23),t.Q6J("disabled",t.DdM(4,C).includes(g.action)))},dependencies:[c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,m.w9],encapsulation:2})}return d})()},62305:(v,Z,s)=>{s.d(Z,{c:()=>u});var c=s(60095),t=s(65879),e=s(37285),M=s(99328),m=s(50363);const C=function(){return["view","approve","reject"]};let u=(()=>{class d{get f(){return this.form.controls}constructor(p,_){this.activeModal=p,this.utilityService=_,this.logDetails={},this.action="",this.sourceOfManufacturing="",this.shiftOptions=[],this.form=new c.nJ({prodSource:new c.p4(null),prodShift:new c.p4(null),prodDate:new c.p4(null),operatingStaff:new c.p4(null),remarks:new c.p4(null),authorizedBy:new c.p4(null)})}ngOnInit(){this.logDetails.prodDate&&(this.logDetails.prodDate=this.utilityService.getFormatDate(this.logDetails?.prodDate,"YYYY-MM-DD")),this.form.patchValue(this.logDetails),["view","approve","reject"].includes(this.action)&&this.form.disable(),this.f.prodSource.value||this.f.prodSource.setValue(this.sourceOfManufacturing??"Inhouse")}dismissModel(){this.activeModal.close(this.form.value)}static#t=this.\u0275fac=function(_){return new(_||d)(t.Y36(e.Kz),t.Y36(M.tI))};static#e=this.\u0275cmp=t.Xpm({type:d,selectors:[["app-screen-printing-log-entry"]],inputs:{logDetails:"logDetails",action:"action",sourceOfManufacturing:"sourceOfManufacturing",shiftOptions:"shiftOptions"},decls:51,vars:5,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,""],[3,"formGroup"],[1,"row","my-4","px-5"],[1,"col-6"],[1,"form-label","mb-1"],[1,"text-danger"],["type","text","formControlName","prodSource","readonly","",1,"form-control","bg-white-smoke"],["type","date","formControlName","prodDate",1,"form-control"],[1,"row","px-5","mb-4"],["bindValue","parameterName","bindLabel","parameterLabel","formControlName","prodShift",3,"items","clearable"],["type","text","formControlName","operatingStaff",1,"form-control"],[1,"row","px-5"],[1,"col-12"],["type","text","formControlName","remarks",1,"form-control"],[1,"line-border","my-4"],[1,"col-8"],[1,"d-flex","align-items-center"],[1,"col-form-label","text-nowrap"],[1,"fa","fa-caret-right","fs-3","mx-2"],["type","text","formControlName","authorizedBy",1,"form-control"],[1,"col-4","ps-0","d-flex","justify-content-end"],[1,"mb-4"],["type","button",1,"btn","bg-primary","px-2",3,"disabled","click"]],template:function(_,g){1&_&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Log Entry"),t.qZA(),t.TgZ(4,"div")(5,"button",3),t.NdJ("click",function(){return g.activeModal.close()}),t._UZ(6,"i",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"form",6),t.ynx(9),t.TgZ(10,"div",7)(11,"div",8)(12,"label",9),t._uU(13," Prod. Source "),t._UZ(14,"span",10),t.qZA(),t._UZ(15,"input",11),t.qZA(),t.TgZ(16,"div",8)(17,"label",9),t._uU(18," Prod. Date "),t._UZ(19,"span",10),t.qZA(),t._UZ(20,"input",12),t.qZA()(),t.TgZ(21,"div",13)(22,"div",8)(23,"label",9),t._uU(24,"Production Shift "),t._UZ(25,"span",10),t.qZA(),t._UZ(26,"ng-select",14),t.qZA(),t.TgZ(27,"div",8)(28,"label",9),t._uU(29," Operating Staff"),t._UZ(30,"span",10),t.qZA(),t._UZ(31,"input",15),t.qZA()(),t.TgZ(32,"div",16)(33,"div",17)(34,"label",9),t._uU(35,"Remarks "),t._UZ(36,"span",10),t.qZA(),t._UZ(37,"input",18),t.qZA()(),t.BQk(),t._UZ(38,"hr",19),t.TgZ(39,"div",16)(40,"div",20)(41,"div",21)(42,"div",22),t._uU(43," Authorised by "),t._UZ(44,"i",23),t.qZA(),t.TgZ(45,"div",5),t._UZ(46,"input",24),t.qZA()()(),t.TgZ(47,"div",25)(48,"div",26)(49,"button",27),t.NdJ("click",function(){return g.dismissModel()}),t._uU(50," Save & Close "),t.qZA()()()()()()()),2&_&&(t.xp6(8),t.Q6J("formGroup",g.form),t.xp6(18),t.Q6J("items",g.shiftOptions)("clearable",!1),t.xp6(23),t.Q6J("disabled",t.DdM(4,C).includes(g.action)))},dependencies:[c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,m.w9],encapsulation:2})}return d})()},65468:(v,Z,s)=>{s.d(Z,{o:()=>C});var c=s(43818),t=s(65879),e=s(37285),M=s(99328),m=s(60095);let C=(()=>{class u{constructor(b,p,_){this.activeModal=b,this.utilityService=p,this.toastService=_,this.inventoryItemsAmounts=0,this.GTInputQuantity=0,this.itemDetails={}}ngOnInit(){}setGTQty(){if("RL"==this.itemDetails.UOM||"SHT"==this.itemDetails.UOM){let b=0;if(this.itemDetails?.primaryToSecondaryConversion&&(b=+(+this.GTInputQuantity*+this.itemDetails.primaryToSecondaryConversion).toFixed(2)),+b>this.inventoryItemsAmounts)return this.toastService.warning("GT Input Quantity Should not be greater than Total Inventory Qty. !"),void(this.GTInputQuantity=0)}else if(this.GTInputQuantity>this.inventoryItemsAmounts)return this.toastService.warning("GT Input Quantity Should not be greater than Total Inventory Qty. !"),void(this.GTInputQuantity=0)}dismissModel(){this.GTInputQuantity?this.activeModal.close(this.GTInputQuantity):this.toastService.warning("Please Fill GT Input Quantity Qty. !")}static#t=this.\u0275fac=function(p){return new(p||u)(t.Y36(e.Kz),t.Y36(M.tI),t.Y36(M.kl))};static#e=this.\u0275cmp=t.Xpm({type:u,selectors:[["app-add-on-gtqty-modal"]],viewQuery:function(p,_){if(1&p&&t.Gf(c.j,5),2&p){let g;t.iGM(g=t.CRH())&&(_.headers=g)}},inputs:{inventoryItemsAmounts:"inventoryItemsAmounts",GTInputQuantity:"GTInputQuantity",itemDetails:"itemDetails"},decls:26,vars:1,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container-fluid","px-0","mt-4"],[1,"row","justify-content-center","px-5","mt-4"],[1,"col-12"],[1,"row","mt-4"],[1,"col-5","pe-0"],[1,"form-label"],[1,"text-danger"],[1,"col-1","px-2","d-flex","align-items-center","justify-content-start"],[1,"ms-1","me-2","text-secondary"],[1,"col-6","ps-0","setInputMargin"],["type","number",1,"form-control",3,"ngModel","ngModelChange","input"],[1,"line-border","my-4"],[1,"row"],[1,"col","text-center","mb-4"],["type","button",1,"btn","bg-primary","px-5",3,"click"]],template:function(p,_){1&p&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Add Additional Quantity"),t.qZA(),t.TgZ(4,"div")(5,"button",3),t.NdJ("click",function(){return _.activeModal.close()}),t._UZ(6,"i",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),t._uU(13,"GT Qty"),t.TgZ(14,"span",11),t._uU(15," * "),t.qZA()()(),t.TgZ(16,"div",12)(17,"span",13),t._uU(18,"\u25b6"),t.qZA()(),t.TgZ(19,"div",14)(20,"input",15),t.NdJ("ngModelChange",function(h){return _.GTInputQuantity=h})("input",function(){return _.setGTQty()}),t.qZA()()()()(),t._UZ(21,"hr",16),t.TgZ(22,"div",17)(23,"div",18)(24,"button",19),t.NdJ("click",function(){return _.dismissModel()}),t._uU(25,"Save & Close"),t.qZA()()()()()),2&p&&(t.xp6(20),t.Q6J("ngModel",_.GTInputQuantity))},dependencies:[m.Fj,m.wV,m.JJ,m.On],encapsulation:2})}return u})()},67916:(v,Z,s)=>{s.d(Z,{I:()=>M});var c=s(37398),t=s(65879),e=s(99328);let M=(()=>{class m{constructor(u){this.http=u,this.routes={createOrUpdatePath:"/production/inkMixingLog/createOrUpdate",getAllPath:"/production/inkMixingLog/getAll",getAllMasterDataPath:"/production/inkMixingLog/getAllMasterData",getByIdPath:d=>`/production/inkMixingLog/getById/${d}`}}createOrUpdate(u){return this.http.post(this.routes.createOrUpdatePath,u).pipe((0,c.U)(d=>d))}getAll(u){return this.http.get(this.routes.getAllPath,u).pipe((0,c.U)(d=>d))}getAllMasterData(u){return this.http.get(this.routes.getAllMasterDataPath,u).pipe((0,c.U)(d=>d))}getById(u){return this.http.get(this.routes.getByIdPath(u)).pipe((0,c.U)(d=>d))}static#t=this.\u0275fac=function(d){return new(d||m)(t.LFG(e.sM))};static#e=this.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()}}]);