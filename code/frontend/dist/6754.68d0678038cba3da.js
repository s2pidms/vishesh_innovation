"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6754],{61441:(q,D,p)=>{p.d(D,{Q:()=>A});var a=p(43818),n=p(65879),f=p(37285),T=p(96814),y=p(88059),t=p(95346);const b=function(){return["view","edit","rejection","reject","approval","approve","cancel"]};function x(k,M){if(1&k){const d=n.EpF();n.TgZ(0,"tr")(1,"td"),n._uU(2),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.TgZ(5,"td",26,27)(7,"span",28),n._uU(8),n.qZA()(),n.TgZ(9,"td",26,29)(11,"span",28),n._uU(12),n.qZA()(),n.TgZ(13,"td"),n._uU(14),n.qZA(),n.TgZ(15,"td"),n._uU(16),n.qZA(),n.TgZ(17,"td")(18,"input",30),n.NdJ("change",function(){const u=n.CHM(d).$implicit,c=n.oxw();return n.KtG(c.setSelectData(u))}),n.qZA()()()}if(2&k){const d=M.$implicit,m=M.index,_=n.MAs(6),u=n.MAs(10),c=n.oxw();n.xp6(2),n.Oqu(null==d?null:d.jobCardNo),n.xp6(2),n.Oqu(null==d?null:d.SKUNo),n.xp6(1),n.Udp("width",_.clientWidth),n.xp6(2),n.Q6J("ngbTooltip",d.SKUName)("positionTarget",_),n.xp6(1),n.hij(" ",d.SKUName," "),n.xp6(1),n.Udp("width",u.clientWidth),n.xp6(2),n.Q6J("ngbTooltip",d.SKUDescription)("positionTarget",u),n.xp6(1),n.hij(" ",d.SKUDescription," "),n.xp6(2),n.Oqu(null==d?null:d.UOM),n.xp6(2),n.Oqu(null==d?null:d.batchQty),n.xp6(2),n.MGl("name","formValue",c.JCOptions[m],""),n.Q6J("disabled",n.DdM(17,b).includes(c.action))("checked",d.select)}}function Z(k,M){1&k&&n._UZ(0,"hr",31)}function C(k,M){if(1&k){const d=n.EpF();n.TgZ(0,"div",32)(1,"button",33),n.NdJ("click",function(){n.CHM(d);const _=n.oxw();return n.KtG(_.dismissModel())}),n._uU(2,"Save & Close"),n.qZA()()}}const S=function(k,M,d,m){return{page:k,pageSize:M,collection:d,search:m,excelDisplay:"none"}};let A=(()=>{class k{constructor(d){this.activeModal=d,this.action="edit",this.jobCard="",this.JCOptions=[],this.selectedJobCardDetails={},this.btnDisable=!1,this.page=1,this.pageSize=9,this.collection=0,this.search="",this.column="jobCardNo",this.direction=-1}ngOnInit(){this.jobCard&&(this.selectedJobCardDetails._id=this.jobCard,this.JCOptions=this.JCOptions?.map(d=>(d.select=!1,d._id==this.jobCard&&(d.select=!0),d))),this.collection=this.JCOptions?.length}setSelectData(d){this.selectedJobCardDetails=d}dismissModel(){let d={};d.selectedJobCardDetails=this.selectedJobCardDetails,this.activeModal.close(d)}eventHeader(d){switch(d.key){case"SEARCH":this.search=d.value;break;case"EXCEL":default:break;case"PAGE":this.page=d.value}}onSort({column:d,direction:m}){this.headers.forEach(_=>{_.sortable!==d&&(_.direction="")}),this.JCOptions=""===m||""===d?this.JCOptions:[...this.JCOptions].sort((_,u)=>{let c="string"==typeof _[d]?_[d].toLowerCase():_[d],U="string"==typeof u[d]?u[d].toLowerCase():u[d];const I=c<U?-1:c>U?1:0;return"asc"===m?I:-I})}static#t=this.\u0275fac=function(m){return new(m||k)(n.Y36(f.Kz))};static#e=this.\u0275cmp=n.Xpm({type:k,selectors:[["app-job-card-details-modal"]],viewQuery:function(m,_){if(1&m&&n.Gf(a.j,5),2&m){let u;n.iGM(u=n.CRH())&&(_.headers=u)}},inputs:{action:"action",jobCard:"jobCard",JCOptions:"JCOptions",selectedJobCardDetails:"selectedJobCardDetails"},decls:39,vars:18,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,""],[1,"container-fluid"],[1,"row","justify-content-center"],[1,"col-12","px-0","mt-4"],[1,"px-5","mt-0"],[3,"data","dataChange"],[1,"table-responsive","px-5",2,"min-height","33rem"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],["sortable","jobCardNo",3,"sort"],["sortable","SKUNo",3,"sort"],["sortable","SKUName",1,"text-start",3,"sort"],["sortable","SKUDescription",1,"text-start",3,"sort"],["sortable","UOM",3,"sort"],["sortable","batchQty",3,"sort"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col","px-0","mb-3"],["class","line-border",4,"ngIf"],["class","text-center mb-2",4,"ngIf"],[1,"text-start"],["SKUName",""],[1,"pointer",3,"ngbTooltip","positionTarget"],["SKUDescription",""],["type","radio",1,"form-check-input","pointer",3,"disabled","name","checked","change"],[1,"line-border"],[1,"text-center","mb-2"],["type","button",1,"btn","bg-primary","px-5","mb-4",3,"click"]],template:function(m,_){1&m&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2),n._uU(3,"Select Job Card"),n.qZA(),n.TgZ(4,"div")(5,"button",3),n.NdJ("click",function(){return _.activeModal.close()}),n._UZ(6,"i",4),n.qZA()()(),n.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"app-setting-header",10),n.NdJ("dataChange",function(c){return _.eventHeader(c)}),n.qZA()(),n.TgZ(13,"div",11)(14,"table",12)(15,"thead",13)(16,"tr",14)(17,"th",15),n.NdJ("sort",function(c){return _.onSort(c)}),n._uU(18,"Job Card No."),n.qZA(),n.TgZ(19,"th",16),n.NdJ("sort",function(c){return _.onSort(c)}),n._uU(20,"SKU No."),n.qZA(),n.TgZ(21,"th",17),n.NdJ("sort",function(c){return _.onSort(c)}),n._uU(22,"SKU Name"),n.qZA(),n.TgZ(23,"th",18),n.NdJ("sort",function(c){return _.onSort(c)}),n._uU(24," SKU Description "),n.qZA(),n.TgZ(25,"th",19),n.NdJ("sort",function(c){return _.onSort(c)}),n._uU(26,"UoM"),n.qZA(),n.TgZ(27,"th",20),n.NdJ("sort",function(c){return _.onSort(c)}),n._uU(28,"Batch Qty."),n.qZA(),n.TgZ(29,"th"),n._uU(30,"Select"),n.qZA()()(),n.TgZ(31,"tbody"),n.YNc(32,x,19,18,"tr",21),n.ALo(33,"slice"),n.ALo(34,"searchFi1ter"),n.qZA()()()()(),n.TgZ(35,"div",22)(36,"div",23),n.YNc(37,Z,1,0,"hr",24),n.qZA()(),n.YNc(38,C,3,0,"div",25),n.qZA()()()),2&m&&(n.xp6(12),n.Q6J("data",n.l5B(11,S,_.page,_.pageSize,_.collection,_.search)),n.xp6(20),n.Q6J("ngForOf",n.Dn7(33,4,n.xi3(34,8,_.JCOptions,_.search),(_.page-1)*_.pageSize,(_.page-1)*_.pageSize+_.pageSize)),n.xp6(5),n.Q6J("ngIf",!n.DdM(16,b).includes(_.action)),n.xp6(1),n.Q6J("ngIf",!n.DdM(17,b).includes(_.action)))},dependencies:[T.sg,T.O5,y.P,f._L,a.j,T.OU,t.G],encapsulation:2})}return k})()},6754:(q,D,p)=>{p.r(D),p.d(D,{InkMixingModule:()=>nt});var a=p(96814),n=p(1076),f=p(43818),T=p(25116),y=p(83110),t=p(65879),b=p(99328),x=p(79475),Z=p(88059),C=p(37285),S=p(53421),A=p(59103);function k(l,g){if(1&l){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",19,20)(7,"span",21),t._uU(8),t.qZA()(),t.TgZ(9,"td",19,22)(11,"span",21),t._uU(12),t.qZA()(),t.TgZ(13,"td"),t._uU(14),t.ALo(15,"UOMUnitsMaster"),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td"),t._uU(21),t.qZA(),t.TgZ(22,"td")(23,"div",23),t._UZ(24,"button",24),t.TgZ(25,"div",25)(26,"a",26),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.navigateTo("../form",r,"view"))}),t._UZ(27,"i",27),t._uU(28," View "),t.qZA(),t.TgZ(29,"a",26),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.navigateTo("../form",r,"edit"))}),t._UZ(30,"i",28),t._uU(31," Edit "),t.qZA()()()()()}if(2&l){const e=g.$implicit,i=t.MAs(6),o=t.MAs(10),r=t.oxw();t.xp6(2),t.Oqu(null==e?null:e.jobCardNo),t.xp6(2),t.Oqu(null==e?null:e.itemCode),t.xp6(1),t.Udp("width",i.clientWidth),t.xp6(2),t.Q6J("positionTarget",i)("ngbTooltip",e.itemName),t.xp6(1),t.hij(" ",e.itemName," "),t.xp6(1),t.Udp("width",o.clientWidth),t.xp6(2),t.Q6J("positionTarget",o)("ngbTooltip",e.itemDescription),t.xp6(1),t.hij(" ",e.itemDescription," "),t.xp6(2),t.Oqu(t.lcZ(15,18,e.UOM)),t.xp6(3),t.Oqu(e.batchQty),t.xp6(2),t.Oqu(e.batchDate),t.xp6(2),t.Oqu(e.logBookRef),t.xp6(5),t.Q6J("accessType",r.rolePermissionActions.viewAction),t.xp6(3),t.Q6J("accessType",r.rolePermissionActions.editAction)}}const M=function(l,g,e,i){return{page:l,pageSize:g,collection:e,search:i,type:"list"}};let d=(()=>{class l{constructor(e,i,o,r,s,J){this.exportExcelService=e,this.inkMixingService=i,this.router=o,this.spinner=r,this.activatedRoute=s,this.exportToPDFService=J,this.page=1,this.pageSize=8,this.collection=0,this.column="itemCode",this.direction=1,this.search="",this.tableData=[],this.rolePermissionActions=T.a1}ngOnInit(){this.page=Number(this.activatedRoute.snapshot.queryParamMap.get("page")??1),this.getAll()}navigateTo(e,i,o){this.router.navigate([e],{relativeTo:this.activatedRoute,queryParams:{id:i?._id,action:o}})}eventHeader(e){switch(e.key){case"SEARCH":this.search=e.value,this.getAll();break;case"PDF":this.getAll(!0,"PDF");break;case"EXCEL":this.getAll(!0,"EXCEL");break;case"PAGE":this.page=e.value,this.getAll()}}trackByFn(e,i){return i?._id}getAll(e=!1,i=""){this.spinner.show();let o={page:this.page,pageSize:this.pageSize,search:this.search,column:this.column,direction:this.direction,excel:e};this.subscription&&this.subscription.unsubscribe(),this.subscription=this.inkMixingService.getAll(o).subscribe(r=>{"EXCEL"==i?this.excelDownload(r.rows):"PDF"==i?this.pdfDownload(r.rows):(this.tableData=r.rows,this.collection=r.count),this.spinner.hide()})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}pdfDownload(e){let i=(0,y.R6)(e);this.exportToPDFService.generatePdf(i.tableData,i.title)}excelDownload(e){this.exportExcelService.exportExcel((0,y.M5)(e))}onSort({column:e,direction:i}){this.headers.forEach(o=>{o.sortable!==e&&(o.direction="")}),this.column=e,this.direction="asc"==i?1:-1,this.getAll()}static#t=this.\u0275fac=function(i){return new(i||l)(t.Y36(b.Ol),t.Y36(x.or),t.Y36(n.F0),t.Y36(b.V),t.Y36(n.gz),t.Y36(b.$L))};static#e=this.\u0275cmp=t.Xpm({type:l,selectors:[["app-ink-mixing-list"]],viewQuery:function(i,o){if(1&i&&t.Gf(f.j,5),2&i){let r;t.iGM(r=t.CRH())&&(o.headers=r)}},decls:34,vars:9,consts:[[1,"listCard","card"],[1,"table-header"],[1,"heading"],["appAccessControl","",1,"text-center",3,"accessType"],[1,"plusIconSvg","btn","btn-primary","me-1"],["type","button",1,"btn","btn-primary","btn-add","px-4",3,"click"],[1,"line-border"],[1,"table-responsive"],[3,"data","dataChange"],[1,"table","table-bordered"],[1,"bg-primary"],[1,"text-white"],["sortable","itemCode",3,"sort"],["sortable","itemName",1,"text-start",3,"sort"],["sortable","itemDescription",1,"text-start",3,"sort"],["sortable","UoM",3,"sort"],["sortable","inkCostPerKg",3,"sort"],["sortable","status",3,"sort"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-start"],["itemName",""],[1,"pointer",3,"positionTarget","ngbTooltip"],["itemDescription",""],[1,"dropdown"],[1,"dropbtn"],[1,"dropdown-content"],["appAccessControl","","href","javascript:void(0)",3,"accessType","click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg","me-2","text-primary"],["aria-hidden","true",1,"fa","fa-pencil-square-o","fa-lg","me-2","text-primary"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"label",2),t._uU(3,"Ink Mixing Summary"),t.qZA()(),t.TgZ(4,"div",3),t._UZ(5,"button",4),t.TgZ(6,"button",5),t.NdJ("click",function(){return o.navigateTo("../form",null,"create")}),t._uU(7," Ink Mixing "),t.qZA()(),t._UZ(8,"hr",6),t.TgZ(9,"div",7)(10,"app-setting-header",8),t.NdJ("dataChange",function(s){return o.eventHeader(s)}),t.qZA(),t.TgZ(11,"table",9)(12,"thead",10)(13,"tr",11)(14,"th",12),t.NdJ("sort",function(s){return o.onSort(s)}),t._uU(15,"JC No."),t.qZA(),t.TgZ(16,"th",12),t.NdJ("sort",function(s){return o.onSort(s)}),t._uU(17,"F20 Ink Code"),t.qZA(),t.TgZ(18,"th",13),t.NdJ("sort",function(s){return o.onSort(s)}),t._uU(19,"F20 Ink Name"),t.qZA(),t.TgZ(20,"th",14),t.NdJ("sort",function(s){return o.onSort(s)}),t._uU(21,"F20 Ink Description"),t.qZA(),t.TgZ(22,"th",15),t.NdJ("sort",function(s){return o.onSort(s)}),t._uU(23,"UoM"),t.qZA(),t.TgZ(24,"th",16),t.NdJ("sort",function(s){return o.onSort(s)}),t._uU(25,"Batch Qty."),t.qZA(),t.TgZ(26,"th",16),t.NdJ("sort",function(s){return o.onSort(s)}),t._uU(27,"Batch Date"),t.qZA(),t.TgZ(28,"th",17),t.NdJ("sort",function(s){return o.onSort(s)}),t._uU(29,"Log Book Ref"),t.qZA(),t.TgZ(30,"th"),t._uU(31,"Action"),t.qZA()()(),t.TgZ(32,"tbody"),t.YNc(33,k,32,20,"tr",18),t.qZA()()()()),2&i&&(t.xp6(4),t.Q6J("accessType",o.rolePermissionActions.createAction),t.xp6(6),t.Q6J("data",t.l5B(4,M,o.page,o.pageSize,o.collection,o.search)),t.xp6(23),t.Q6J("ngForOf",o.tableData)("ngForTrackBy",o.trackByFn))},dependencies:[a.sg,Z.P,C._L,f.j,S.J,A.S],encapsulation:2})}return l})();var m=p(21631),_=p(22096),u=p(61441),c=p(60095),U=p(15094),I=p(16897),R=p(50363);const j=function(){return["view","approve","reject"]};let F=(()=>{class l{get f(){return this.form.controls}constructor(e,i,o,r){this.activeModal=e,this.validationService=i,this.utilityService=o,this.modalService=r,this.remarksDetails={},this.action="",this.shiftOptions=[],this.form=new c.nJ({remarks:new c.nJ({manufacturingDate:new c.p4(null),shift:new c.p4(null),logBookRef:new c.p4(null),preparedBy:new c.p4(null),checkedBy:new c.p4(null)}),labValues:new c.p4({})})}ngOnInit(){this.remarksDetails&&(console.log("this.remarksDetails",this.remarksDetails),this.form.patchValue(this.remarksDetails)),["view","approve","reject"].includes(this.action)&&this.form.disable()}dismissModel(){this.activeModal.close(this.form.value)}openLabValuesModal(){const e=this.modalService.open(U.W,{centered:!0,size:"sm",backdrop:"static",keyboard:!1});e.componentInstance.action=this.action,e.componentInstance.labValues=this.form.controls.labValues.value,e.result.then(i=>{console.log("success",i),this.form.controls.labValues.patchValue(i)},i=>{})}static#t=this.\u0275fac=function(i){return new(i||l)(t.Y36(C.Kz),t.Y36(I.RJ),t.Y36(b.tI),t.Y36(C.FF))};static#e=this.\u0275cmp=t.Xpm({type:l,selectors:[["app-ink-mixing-remarks-details"]],inputs:{remarksDetails:"remarksDetails",action:"action",shiftOptions:"shiftOptions"},decls:47,vars:5,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,""],[3,"formGroup"],["formGroupName","remarks"],[1,"row","my-4","px-5"],[1,"col-4"],[1,"form-label","mb-1"],[1,"text-danger"],["type","date","formControlName","manufacturingDate",1,"form-control"],["bindValue","parameterName","bindLabel","parameterLabel","formControlName","shift",3,"items","clearable"],["type","text","formControlName","logBookRef",1,"form-control"],[1,"row","px-5"],["type","text","formControlName","preparedBy",1,"form-control"],["type","text","formControlName","checkedBy",1,"form-control"],[1,"col-4","mt-4"],[1,"d-grid"],["type","button",1,"btn","btn-primary","mt-2",3,"click"],[1,"line-border","my-4"],[1,"col-12","d-flex","justify-content-center"],[1,"mb-4"],["type","button",1,"btn","bg-primary","px-4",3,"disabled","click"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Remarks"),t.qZA(),t.TgZ(4,"div")(5,"button",3),t.NdJ("click",function(){return o.activeModal.close()}),t._UZ(6,"i",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"form",6),t.ynx(9,7),t.TgZ(10,"div",8)(11,"div",9)(12,"label",10),t._uU(13," Mfg/Batch Date "),t._UZ(14,"span",11),t.qZA(),t._UZ(15,"input",12),t.qZA(),t.TgZ(16,"div",9)(17,"label",10),t._uU(18,"Shift "),t._UZ(19,"span",11),t.qZA(),t._UZ(20,"ng-select",13),t.qZA(),t.TgZ(21,"div",9)(22,"label",10),t._uU(23," Log Book Reference/Pg. No. "),t._UZ(24,"span",11),t.qZA(),t._UZ(25,"input",14),t.qZA()(),t.TgZ(26,"div",15)(27,"div",9)(28,"label",10),t._uU(29," Prepared by (Prod)"),t._UZ(30,"span",11),t.qZA(),t._UZ(31,"input",16),t.qZA(),t.TgZ(32,"div",9)(33,"label",10),t._uU(34," Checked By (QC)"),t._UZ(35,"span",11),t.qZA(),t._UZ(36,"input",17),t.qZA(),t.TgZ(37,"div",18)(38,"div",19)(39,"button",20),t.NdJ("click",function(){return o.openLabValuesModal()}),t._uU(40," Add L a b Values "),t.qZA()()()(),t.BQk(),t._UZ(41,"hr",21),t.qZA(),t.TgZ(42,"div",15)(43,"div",22)(44,"div",23)(45,"button",24),t.NdJ("click",function(){return o.dismissModel()}),t._uU(46," Save & Close "),t.qZA()()()()()()),2&i&&(t.xp6(8),t.Q6J("formGroup",o.form),t.xp6(12),t.Q6J("items",o.shiftOptions)("clearable",!1),t.xp6(25),t.Q6J("disabled",t.DdM(4,j).includes(o.action)))},dependencies:[c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,c.x0,R.w9],encapsulation:2})}return l})();var N=p(95346);const O=function(){return["view","edit","rejection","reject","approval","approve","cancel"]};function tt(l,g){if(1&l){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",27,28)(5,"span",29),t._uU(6),t.qZA()(),t.TgZ(7,"td",27,30)(9,"span",29),t._uU(10),t.qZA()(),t.TgZ(11,"td"),t._uU(12),t.ALo(13,"UOMUnitsMaster"),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td")(21,"input",31),t.NdJ("change",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.setSelectData(r))}),t.qZA()()()}if(2&l){const e=g.$implicit,i=g.index,o=t.MAs(4),r=t.MAs(8),s=t.oxw();t.xp6(2),t.Oqu(null==e?null:e.itemCode),t.xp6(1),t.Udp("width",o.clientWidth),t.xp6(2),t.Q6J("ngbTooltip",e.itemName)("positionTarget",o),t.xp6(1),t.hij(" ",e.itemName," "),t.xp6(1),t.Udp("width",r.clientWidth),t.xp6(2),t.Q6J("ngbTooltip",e.itemDescription)("positionTarget",r),t.xp6(1),t.hij(" ",e.itemDescription," "),t.xp6(2),t.Oqu(t.lcZ(13,18,null==e?null:e.UOM)),t.xp6(3),t.Oqu(null==e?null:e.MRPQty),t.xp6(2),t.Oqu(null==e?null:e.openQty),t.xp6(2),t.Oqu(null==e?null:e.batchQty),t.xp6(2),t.MGl("name","formValue",s.inkMixingDetails[i],""),t.Q6J("disabled",t.DdM(20,O).includes(s.action))("checked",e.select)}}function K(l,g){1&l&&t._UZ(0,"hr",32)}function P(l,g){if(1&l){const e=t.EpF();t.TgZ(0,"div",33)(1,"button",34),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.dismissModel())}),t._uU(2,"Save & Close"),t.qZA()()}}const Q=function(l,g,e,i){return{page:l,pageSize:g,collection:e,search:i,excelDisplay:"none"}};let B=(()=>{class l{constructor(e){this.activeModal=e,this.action="edit",this.inkId="",this.inkMixingDetails=[],this.btnDisable=!1,this.page=1,this.pageSize=9,this.collection=0,this.search="",this.column="jobCardNo",this.direction=-1}ngOnInit(){this.inkId&&(this.inkMixingDetails=this.inkMixingDetails.map(e=>(e.select=!1,e.ink==this.inkId&&(e.select=!0),e))),this.collection=this.inkMixingDetails.length}setSelectData(e){this.inkId=e.ink}dismissModel(){this.activeModal.close(this.inkId)}eventHeader(e){switch(e.key){case"SEARCH":this.search=e.value;break;case"EXCEL":default:break;case"PAGE":this.page=e.value}}onSort({column:e,direction:i}){this.headers.forEach(o=>{o.sortable!==e&&(o.direction="")}),this.inkMixingDetails=""===i||""===e?this.inkMixingDetails:[...this.inkMixingDetails].sort((o,r)=>{let s="string"==typeof o[e]?o[e].toLowerCase():o[e],J="string"==typeof r[e]?r[e].toLowerCase():r[e];const L=s<J?-1:s>J?1:0;return"asc"===i?L:-L})}static#t=this.\u0275fac=function(i){return new(i||l)(t.Y36(C.Kz))};static#e=this.\u0275cmp=t.Xpm({type:l,selectors:[["app-ink-code-details-modal"]],viewQuery:function(i,o){if(1&i&&t.Gf(f.j,5),2&i){let r;t.iGM(r=t.CRH())&&(o.headers=r)}},inputs:{action:"action",inkId:"inkId",inkMixingDetails:"inkMixingDetails"},decls:41,vars:18,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,""],[1,"container-fluid"],[1,"row","justify-content-center"],[1,"col-12","px-0","mt-4"],[1,"px-5","mt-0"],[3,"data","dataChange"],[1,"table-responsive","px-5",2,"min-height","33rem"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],["sortable","itemCode",3,"sort"],["sortable","itemName",1,"text-start",3,"sort"],["sortable","itemDescription",1,"text-start",3,"sort"],["sortable","UOM",3,"sort"],["sortable","MRPQty",3,"sort"],["sortable","openQty",3,"sort"],["sortable","batchQty",3,"sort"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col","px-0","mb-3"],["class","line-border",4,"ngIf"],["class","text-center mb-2",4,"ngIf"],[1,"text-start"],["itemName",""],[1,"pointer",3,"ngbTooltip","positionTarget"],["itemDescription",""],["type","radio",1,"form-check-input","pointer",3,"disabled","name","checked","change"],[1,"line-border"],[1,"text-center","mb-2"],["type","button",1,"btn","bg-primary","px-5","mb-4",3,"click"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Select Ink to be prepared"),t.qZA(),t.TgZ(4,"div")(5,"button",3),t.NdJ("click",function(){return o.activeModal.close()}),t._UZ(6,"i",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"app-setting-header",10),t.NdJ("dataChange",function(s){return o.eventHeader(s)}),t.qZA()(),t.TgZ(13,"div",11)(14,"table",12)(15,"thead",13)(16,"tr",14)(17,"th",15),t.NdJ("sort",function(s){return o.onSort(s)}),t._uU(18,"F20 Ink Code"),t.qZA(),t.TgZ(19,"th",16),t.NdJ("sort",function(s){return o.onSort(s)}),t._uU(20,"F20 Ink Name"),t.qZA(),t.TgZ(21,"th",17),t.NdJ("sort",function(s){return o.onSort(s)}),t._uU(22," F20 Ink Description "),t.qZA(),t.TgZ(23,"th",18),t.NdJ("sort",function(s){return o.onSort(s)}),t._uU(24,"UoM"),t.qZA(),t.TgZ(25,"th",19),t.NdJ("sort",function(s){return o.onSort(s)}),t._uU(26,"MRP Qty"),t.qZA(),t.TgZ(27,"th",20),t.NdJ("sort",function(s){return o.onSort(s)}),t._uU(28,"Opn Qty"),t.qZA(),t.TgZ(29,"th",21),t.NdJ("sort",function(s){return o.onSort(s)}),t._uU(30,"Batch Qty."),t.qZA(),t.TgZ(31,"th"),t._uU(32,"Select"),t.qZA()()(),t.TgZ(33,"tbody"),t.YNc(34,tt,22,21,"tr",22),t.ALo(35,"slice"),t.ALo(36,"searchFi1ter"),t.qZA()()()()(),t.TgZ(37,"div",23)(38,"div",24),t.YNc(39,K,1,0,"hr",25),t.qZA()(),t.YNc(40,P,3,0,"div",26),t.qZA()()()),2&i&&(t.xp6(12),t.Q6J("data",t.l5B(11,Q,o.page,o.pageSize,o.collection,o.search)),t.xp6(22),t.Q6J("ngForOf",t.Dn7(35,4,t.xi3(36,8,o.inkMixingDetails,o.search),(o.page-1)*o.pageSize,(o.page-1)*o.pageSize+o.pageSize)),t.xp6(5),t.Q6J("ngIf",!t.DdM(16,O).includes(o.action)),t.xp6(1),t.Q6J("ngIf",!t.DdM(17,O).includes(o.action)))},dependencies:[a.sg,a.O5,Z.P,C._L,f.j,a.OU,N.G,A.S],encapsulation:2})}return l})();function Y(l,g){if(1&l&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&l){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.gramQty,"1.2-2")," ")}}const H=function(){return{standalone:!0}};function w(l,g){if(1&l){const e=t.EpF();t.TgZ(0,"input",45),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw().$implicit;return t.KtG(r.gramQty=o)})("input",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.setQuantity(o))}),t.qZA()}if(2&l){const e=t.oxw().$implicit;t.Q6J("ngModel",e.gramQty)("ngModelOptions",t.DdM(2,H))}}const v=function(){return["view"]};function z(l,g){if(1&l&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",31,39)(7,"span",40),t._uU(8),t.qZA()(),t.TgZ(9,"td",31,41)(11,"span",40),t._uU(12),t.qZA()(),t.TgZ(13,"td"),t._uU(14),t.ALo(15,"UOMUnitsMaster"),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td")(21,"div",42),t.YNc(22,Y,3,4,"span",43),t.YNc(23,w,1,3,"input",44),t.qZA()()()),2&l){const e=g.$implicit,i=t.MAs(6),o=t.MAs(10),r=t.oxw(2);t.xp6(2),t.Oqu(e.seq),t.xp6(2),t.Oqu(e.itemCode),t.xp6(1),t.Udp("width",i.clientWidth),t.xp6(2),t.Q6J("ngbTooltip",e.itemName)("positionTarget",i),t.xp6(1),t.hij(" ",e.itemName," "),t.xp6(1),t.Udp("width",o.clientWidth),t.xp6(2),t.Q6J("ngbTooltip",e.itemDescription)("positionTarget",o),t.xp6(1),t.hij(" ",e.itemDescription," "),t.xp6(2),t.hij(" ",t.lcZ(15,17,e.UOM)," "),t.xp6(3),t.hij(" ",e.qty," "),t.xp6(2),t.hij(" ",e.gramUOM," "),t.xp6(3),t.Q6J("ngIf",t.DdM(19,v).includes(r.action)),t.xp6(1),t.Q6J("ngIf",!t.DdM(20,v).includes(r.action))}}function V(l,g){if(1&l){const e=t.EpF();t.TgZ(0,"button",46),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.reset())}),t._uU(1," Reset "),t.qZA()}}function $(l,g){if(1&l){const e=t.EpF();t.TgZ(0,"button",47),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.submit())}),t._uU(1," Save "),t.qZA()}}const E=function(){return["view","edit"]},G=function(l,g,e,i){return{page:l,pageSize:g,collection:e,search:i,excelDisplay:"none"}};function W(l,g){if(1&l){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",3)(2,"div",4)(3,"label",5),t._uU(4),t.ALo(5,"titlecase"),t.qZA()()(),t.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"label",11),t._uU(12,"Job Card No. "),t.TgZ(13,"span",12),t._uU(14,"*"),t.qZA()(),t.TgZ(15,"div",13)(16,"div",14)(17,"ng-select",15),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.formData.jobCardNo=o)})("change",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.setJobCardId(o))}),t.qZA()(),t.TgZ(18,"div",16),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openJobCardDetailsModal())}),t._UZ(19,"i",17),t.qZA()()(),t.TgZ(20,"div",10)(21,"label",11),t._uU(22,"F20 Ink Code "),t.TgZ(23,"span",12),t._uU(24,"*"),t.qZA()(),t.TgZ(25,"div",13)(26,"div",14)(27,"ng-select",18),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.selectedInkFormulation=o)})("change",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.setInkDetails(o))}),t.qZA()(),t.TgZ(28,"div",16),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openInkDetailsModal())}),t._UZ(29,"i",17),t.qZA()()()()(),t.TgZ(30,"div",19)(31,"div",7)(32,"div",20)(33,"label",11),t._uU(34,"F20 Ink Name "),t.TgZ(35,"span",12),t._uU(36,"*"),t.qZA()(),t.TgZ(37,"input",21),t.NdJ("ngModelChange",function(o){const s=t.CHM(e).$implicit;return t.KtG(s.itemName=o)}),t.qZA()(),t.TgZ(38,"div",22)(39,"label",11),t._uU(40,"F20 Ink Description "),t.TgZ(41,"span",12),t._uU(42,"*"),t.qZA()(),t.TgZ(43,"input",21),t.NdJ("ngModelChange",function(o){const s=t.CHM(e).$implicit;return t.KtG(s.itemDescription=o)}),t.qZA()(),t.TgZ(44,"div",23)(45,"label",11),t._uU(46,"UoM "),t.TgZ(47,"span",12),t._uU(48,"*"),t.qZA()(),t.TgZ(49,"input",21),t.NdJ("ngModelChange",function(o){const s=t.CHM(e).$implicit;return t.KtG(s.UOM=o)}),t.qZA()(),t.TgZ(50,"div",23)(51,"label",11),t._uU(52," Batch Qty "),t.TgZ(53,"span",12),t._uU(54,"*"),t.qZA()(),t.TgZ(55,"input",24),t.NdJ("ngModelChange",function(o){const s=t.CHM(e).$implicit;return t.KtG(s.batchQty=o)}),t.qZA()()()()()(),t._UZ(56,"hr",25),t.TgZ(57,"app-setting-header",26),t.NdJ("dataChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.eventHeader(o))}),t.qZA(),t.TgZ(58,"div",27)(59,"table",28)(60,"thead",29)(61,"tr",30)(62,"th"),t._uU(63,"Seq."),t.qZA(),t.TgZ(64,"th"),t._uU(65,"Item Code"),t.qZA(),t.TgZ(66,"th",31),t._uU(67,"Item Name"),t.qZA(),t.TgZ(68,"th",31),t._uU(69,"Item Description"),t.qZA(),t.TgZ(70,"th"),t._uU(71,"UoM"),t.qZA(),t.TgZ(72,"th"),t._uU(73,"Quantity"),t.qZA(),t.TgZ(74,"th"),t._uU(75,"UoM"),t.qZA(),t.TgZ(76,"th"),t._uU(77,"Quantity"),t.qZA()()(),t.TgZ(78,"tbody"),t.YNc(79,z,24,21,"tr",32),t.ALo(80,"slice"),t.ALo(81,"searchFi1ter"),t.qZA()()(),t._UZ(82,"hr",25),t.TgZ(83,"div",7)(84,"div",33),t._UZ(85,"button",34),t.TgZ(86,"button",35),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openRemarksDetailsModal())}),t._uU(87," Remarks "),t.qZA()(),t.TgZ(88,"div",36),t.YNc(89,V,2,0,"button",37),t.YNc(90,$,2,0,"button",38),t.qZA()(),t.BQk()}if(2&l){const e=g.$implicit,i=t.oxw();t.xp6(4),t.hij("Ink Mixing (",t.lcZ(5,19,i.action),") "),t.xp6(13),t.Q6J("items",i.masterData.JCOptions)("clearable",!1)("ngModel",i.formData.jobCardNo)("disabled",t.DdM(28,E).includes(i.action)),t.xp6(10),t.Q6J("items",i.inkMixingDetails)("clearable",!1)("ngModel",i.selectedInkFormulation)("disabled",t.DdM(29,v).includes(i.action)),t.xp6(10),t.Q6J("ngModel",e.itemName),t.xp6(6),t.Q6J("ngModel",e.itemDescription),t.xp6(6),t.Q6J("ngModel",e.UOM),t.xp6(6),t.Q6J("ngModel",e.batchQty)("disabled",t.DdM(30,v).includes(i.action)),t.xp6(2),t.Q6J("data",t.l5B(31,G,i.page,i.pageSize,i.inkMixingDetails[i.inkPage-1].inkDetails.length,i.search)),t.xp6(22),t.Q6J("ngForOf",t.Dn7(80,21,t.xi3(81,25,e.inkDetails,i.search),(i.page-1)*i.pageSize,(i.page-1)*i.pageSize+i.pageSize))("ngForTrackBy",i.trackByFn),t.xp6(10),t.Q6J("ngIf",!t.DdM(36,v).includes(i.action)),t.xp6(1),t.Q6J("ngIf",!t.DdM(37,v).includes(i.action))}}let X=(()=>{class l{constructor(e,i,o,r,s,J,L,ot,at){this.inkMixingService=e,this.router=i,this.activatedRoute=o,this.spinner=r,this.toastService=s,this.validationService=J,this.modalService=L,this.utilityService=ot,this.location=at,this.submitted=!1,this.action="create",this.page=1,this.inkPage=1,this.pageSize=5,this.collection=0,this.column="createdAt",this.direction=-1,this.search="",this.selectedJobCardDetails={},this.inkMixingDetails=[{_id:"",ink:"",itemCode:"",itemName:"",itemDescription:"",UOM:"",MRPQty:0,openQty:0,batchQty:0,inkDetails:[]}],this.masterData={autoIncrementNo:"",shiftOptions:[],JCOptions:[]},this.selectedInkFormulation=null,this.formData={_id:null,jobCard:null,jobCardNo:null,inkMixingCode:"000000"}}ngOnInit(){this.getInitialData()}navigateTo(e,i,o){this.router.navigate([e])}reset(){this.selectedInkFormulation=null,this.formData={_id:null,jobCard:null,jobCardNo:null,inkMixingCode:"000000"},this.inkMixingDetails=[{_id:"",ink:"",itemCode:"",itemName:"",itemDescription:"",UOM:"",MRPQty:0,openQty:0,batchQty:0,inkDetails:[]}],this.collection=this.inkMixingDetails.length,this.getInitialData()}submit(){if(this.submitted=!0,!this.formData.jobCardNo)return void this.toastService.warning("Job Card No. is required");if(!this.selectedInkFormulation)return void this.toastService.warning("F20 Ink Code is required");if(this.inkMixingDetails.some(i=>0==i.inkDetails.length))return void this.toastService.warning("F20 Ink Code Table Data is required");let e={...this.formData,inkMixingDetails:this.inkMixingDetails};e._id?this.update(e):(delete e._id,this.create(e))}trackByFn(e,i){return i?._id}create(e){this.spinner.show(),this.inkMixingService.create(e).subscribe(i=>{this.submitted=!1,this.spinner.hide(),this.toastService.success(i.message),this.location.back()})}update(e){this.spinner.show(),this.inkMixingService.update(e._id,e).subscribe(i=>{this.spinner.hide(),this.submitted=!1,this.toastService.success(i.message),this.location.back()})}getInitialData(){this.spinner.show(),this.inkMixingService.getAllMasterData({}).subscribe(e=>{this.masterData=e,this.collection=this.inkMixingDetails.length,this.activatedRoute.queryParams.pipe((0,m.z)(i=>(this.action=i.action,this.utilityService.accessDenied(this.action),i.id?this.inkMixingService.getById(i.id):(0,_.of)({})))).subscribe(i=>{this.spinner.hide(),0!=Object.keys(i).length&&(this.formData=i,this.inkMixingDetails=i.inkMixingDetails.map(o=>(o.remarks&&o.remarks.manufacturingDate&&(o.remarks.manufacturingDate=this.utilityService.getFormatDate(o.remarks.manufacturingDate,"YYYY-MM-DD")),o)),this.selectedInkFormulation=i.inkMixingDetails[0].ink,this.collection=this.inkMixingDetails.length)})})}setJobCardId(e){this.formData.jobCard=e?._id,this.spinner.show(),this.inkMixingService.getInkDataBySKUId({SKUId:e?.SKU,batchQty:e?.batchQty}).subscribe(i=>{i.length>0?(this.inkMixingDetails=i,this.selectedInkFormulation=i[0].ink):this.inkMixingDetails=[{_id:"",ink:"",itemCode:"",itemName:"",itemDescription:"",UOM:"",MRPQty:0,openQty:0,batchQty:0,inkDetails:[]}],this.spinner.hide()})}setInkDetails(e){let i=this.inkMixingDetails.findIndex(o=>o.ink==e.ink);-1!=i&&(this.inkPage=i+1)}setQuantity(e){let i=this.inkMixingDetails[this.inkPage-1].inkDetails.findIndex(o=>o.item==e.item);["KG","LTR"].includes(e.UOM.toUpperCase())&&(this.inkMixingDetails[this.inkPage-1].inkDetails[i].qty=e.gramQty/1e3)}openJobCardDetailsModal(){const e=this.modalService.open(u.Q,{centered:!0,size:"xl",backdrop:"static",keyboard:!1});e.componentInstance.action=this.action,e.componentInstance.selectedJobCardDetails=this.selectedJobCardDetails,e.componentInstance.JCOptions=this.masterData.JCOptions,e.componentInstance.jobCard=this.formData.jobCard,e.result.then(i=>{i&&(this.selectedJobCardDetails=i?.selectedJobCardDetails,this.formData.jobCard=i?.selectedJobCardDetails?._id,this.formData.jobCardNo=i?.selectedJobCardDetails?.jobCardNo,this.setJobCardId(i?.selectedJobCardDetails))},i=>{})}openInkDetailsModal(){const e=this.modalService.open(B,{centered:!0,size:"xl",backdrop:"static",keyboard:!1});e.componentInstance.action="edit"==this.action?"create":this.action,e.componentInstance.inkMixingDetails=this.inkMixingDetails,e.componentInstance.inkId=this.inkMixingDetails[this.inkPage-1].ink,e.result.then(i=>{if(i){this.selectedInkFormulation=i;let o=this.inkMixingDetails.findIndex(r=>r.ink==i);-1!=o&&(this.inkPage=o+1)}},i=>{})}openRemarksDetailsModal(){const e=this.modalService.open(F,{centered:!0,size:"lg",backdrop:"static",keyboard:!1});e.componentInstance.action=this.action,e.componentInstance.shiftOptions=this.masterData.shiftOptions,e.componentInstance.remarksDetails={remarks:this.inkMixingDetails[this.inkPage-1].remarks,labValues:this.inkMixingDetails[this.inkPage-1].labValues},e.result.then(i=>{i&&(this.inkMixingDetails[this.inkPage-1].remarks=i?.remarks,this.inkMixingDetails[this.inkPage-1].labValues=i?.labValues)},i=>{})}eventHeader(e){switch(e.key){case"SEARCH":this.search=e.value;break;case"EXCEL":default:break;case"PAGE":this.page=e.value}}static#t=this.\u0275fac=function(i){return new(i||l)(t.Y36(x.or),t.Y36(n.F0),t.Y36(n.gz),t.Y36(b.V),t.Y36(b.kl),t.Y36(I.RJ),t.Y36(C.FF),t.Y36(b.tI),t.Y36(a.Ye))};static#e=this.\u0275cmp=t.Xpm({type:l,selectors:[["app-ink-mixing-form"]],decls:4,vars:5,consts:[[1,"formCard","card"],[1,"set-remaining-margin"],[4,"ngFor","ngForOf"],[1,"row","form-header"],[1,"col","heading"],[1,""],[1,"form-body"],[1,"row"],[1,"col-4","pe-5"],[1,"row","pe-4"],[1,"col-6"],[1,"form-label"],[1,"text-danger"],[1,"d-flex","align-items-center"],[1,"col-11"],["bindLabel","jobCardNo","bindValue","jobCardNo",3,"items","clearable","ngModel","disabled","ngModelChange","change"],["id","basic-addon1",1,"set-input-group-text","input-group-text","bg-primary","pointer","col-auto",2,"height","2.9rem",3,"click"],["aria-hidden","true",1,"fa","fa-search","text-white","fs-4"],["bindLabel","itemCode","bindValue","ink",3,"items","clearable","ngModel","disabled","ngModelChange","change"],[1,"col-8","ps-0"],[1,"col-4","pe-0"],["type","text","readonly","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-4"],[1,"col-2","ps-0"],["type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"row","line-border"],[3,"data","dataChange"],[1,"table-responsive",2,"min-height","20rem"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],[1,"text-start"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-6","d-flex"],[1,"plusIconSvg","btn","btn-primary","me-1"],["type","button",1,"btn","btn-primary","px-5",3,"click"],[1,"col-md-auto","ms-auto"],["type","button","class","btn bg-primary px-5 me-3",3,"click",4,"ngIf"],["type","button","class","btn bg-primary px-5",3,"click",4,"ngIf"],["itemName",""],[1,"pointer",3,"ngbTooltip","positionTarget"],["itemDescription",""],[1,"d-flex","justify-content-center"],[4,"ngIf"],["class","form-control form-control-sm w-25","type","number",3,"ngModel","ngModelOptions","ngModelChange","input",4,"ngIf"],["type","number",1,"form-control","form-control-sm","w-25",3,"ngModel","ngModelOptions","ngModelChange","input"],["type","button",1,"btn","bg-primary","px-5","me-3",3,"click"],["type","button",1,"btn","bg-primary","px-5",3,"click"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,W,91,38,"ng-container",2),t.ALo(3,"slice"),t.qZA()()),2&i&&(t.xp6(2),t.Q6J("ngForOf",t.Dn7(3,1,o.inkMixingDetails,o.inkPage-1,o.inkPage)))},dependencies:[a.sg,a.O5,Z.P,C._L,c.Fj,c.wV,c.JJ,c.On,R.w9,a.OU,a.JJ,a.rS,N.G,A.S],encapsulation:2})}return l})();var h=p(19964),et=p(56208);const it=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:d},{path:"form",component:X,resolve:{accessScreen:h.xr}}];let nt=(()=>{class l{static#t=this.\u0275fac=function(i){return new(i||l)};static#e=this.\u0275mod=t.oAB({type:l});static#i=this.\u0275inj=t.cJS({imports:[a.ez,n.Bz.forChild(it),et.m]})}return l})()},13107:(q,D,p)=>{p.d(D,{t:()=>a});const a={width:24,style:{alignment:{vertical:"middle",horizontal:"center",wrapText:!0}}}},28402:(q,D,p)=>{p.d(D,{J:()=>a});const a=({data:n,headers:f,widths:T,title:y})=>({tableData:{widths:T,headerRows:1,body:[f.map(x=>({text:x.header,style:"header"})),...n.map(x=>f.map(Z=>({style:"subheader",text:x[Z.key]})))]},title:y})},83110:(q,D,p)=>{p.d(D,{yz:()=>O,oO:()=>b,rv:()=>t,cY:()=>X,ho:()=>W,R6:()=>Y,M5:()=>B,MO:()=>V,GF:()=>z,YJ:()=>A,kQ:()=>S,Y3:()=>_,Wb:()=>m,i4:()=>R,mU:()=>I});var a=p(13107),n=p(28402);let f=["*","*","*","*","*","*","*","*"],T="Goods Requisition",y=[{header:"GR No.",key:"GRNumber",...a.t},{header:"GR Date",key:"GRDateS",...a.t},{header:"Location (Store)",key:"deliveryLocation",...a.t},{header:"Department",key:"department",...a.t},{header:"Remarks/Order Reference",key:"salesOrderSKUReference",...a.t},{header:"Status",key:"GRStatus",...a.t}];const t=h=>({title:T,csvData:h,headers:y}),b=h=>(0,n.J)({data:h,headers:y,widths:f,title:T});let x=["*","*","*","*","*","*","*","*"],Z="Child Part Production",C=[{header:"Process Name",key:"processName",...a.t},{header:"Machine Name",key:"machineName",...a.t},{header:"Prod. Date",key:"productionDate",...a.t},{header:"Shift",key:"productionShift",...a.t},{header:"Operating Staff",key:"operatingStaff",...a.t},{header:"Remarks",key:"remarks",...a.t},{header:"Status",key:"status",...a.t}];const S=h=>({title:Z,csvData:h,headers:C}),A=h=>(0,n.J)({data:h,headers:C,widths:x,title:Z});let k=["*","*","*","*","*","*","*","*"],M="Gr. Child Part Production",d=[{header:"Process Name",key:"processName",...a.t},{header:"Machine Name",key:"machineName",...a.t},{header:"Prod. Date",key:"productionDate",...a.t},{header:"Shift",key:"productionShift",...a.t},{header:"Operating Staff",key:"operatingStaff",...a.t},{header:"Remarks",key:"remarks",...a.t},{header:"Status",key:"status",...a.t}];const m=h=>({title:M,csvData:h,headers:d}),_=h=>(0,n.J)({data:h,headers:d,widths:k,title:M});let u=["*","*","*","*","*","*","*","*"],c="SKU Production",U=[{header:"Process Name",key:"processName",...a.t},{header:"Machine Name",key:"machineName",...a.t},{header:"Prod. Date",key:"productionDate",...a.t},{header:"Shift",key:"productionShift",...a.t},{header:"Operating Staff",key:"operatingStaff",...a.t},{header:"Remarks",key:"remarks",...a.t},{header:"Status",key:"status",...a.t}];const I=h=>({title:c,csvData:h,headers:U}),R=h=>(0,n.J)({data:h,headers:U,widths:u,title:c});let N=[{header:"#",key:"GRLineNumber",...a.t},{header:"Item Code",key:"itemCode",...a.t},{header:"Item Name",key:"itemName",...a.t},{header:"Item Description",key:"itemDescription",...a.t},{header:"Conversion Of Units",key:"conversionOfUnits",...a.t},{header:"UoM",key:"primaryUnit",...a.t},{header:"IR Qty.",key:"closedIRQty",...a.t},{header:"GR Qty.",key:"GRQty",...a.t}];const O=h=>({title:"Goods Requisition",csvData:h,headers:N});let K=["*","*","*","*","*","*","*","*"],P="Ink Mixing",Q=[{header:"JC No.",key:"jobCardNo",...a.t},{header:"F20 Ink Code",key:"itemCode",...a.t},{header:"F20 Ink Name",key:"itemName",...a.t},{header:"F20 Ink Description",key:"itemDescription",...a.t},{header:"UoM",key:"UOM",...a.t},{header:"Batch Qty.",key:"batchQty",...a.t},{header:"Batch Date",key:"batchDate",...a.t},{header:"Log Book Ref",key:"logBookRef",...a.t}];const B=h=>({title:P,csvData:h,headers:Q}),Y=h=>(0,n.J)({data:h,headers:Q,widths:K,title:P});let H=["*","*","*","*","*","*","*"],w="Job Card Entry",v=[{header:"Job Card No",key:"jobCardNo",...a.t},{header:"SKU No",key:"SKUNo",...a.t},{header:"SKU Name",key:"SKUName",...a.t},{header:"SKU Description",key:"SKUDescription",...a.t},{header:"UoM",key:"UOM",...a.t},{header:"Batch I/P Qty.",key:"totalBatchQuantity",...a.t},{header:"Batch O/P Qty.",key:"batchOutputQty",...a.t},{header:"Batch Number",key:"batchNumber",...a.t},{header:"Status",key:"status",...a.t}];const z=h=>({title:w,csvData:h,headers:v}),V=h=>(0,n.J)({data:h,headers:v,widths:H,title:w});let $=["*","*","*","*","*","*"],E="Goods Transfer Request (Intra) Report",G=[{header:"GT Req #",key:"GTRequestNo",...a.t},{header:"GT Request Dt.",key:"GTRequestDate",...a.t},{header:"Location",key:"location",...a.t},{header:"From Department",key:"fromDepartment",...a.t},{header:"To Department",key:"toDepartment",...a.t},{header:"Status",key:"status",...a.t}];const W=h=>({title:E,csvData:h,headers:G}),X=h=>(0,n.J)({data:h,headers:G,widths:$,title:E})}}]);