"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[5672],{15672:(B,g,r)=>{r.r(g),r.d(g,{SalesUomUnitMasterModule:()=>L});var h=r(96814),p=r(1076),l=r(60095),_=r(61504),S=r(21631),Z=r(22096),t=r(65879),A=r(78645),d=r(37398),u=r(98977);let f=(()=>{class a{constructor(e){this.http=e,this.$titleChange=new A.x,this.routes={createPath:"/settings/SalesUOMUnitMaster/create",getAllPath:"/settings/SalesUOMUnitMaster/getAll",getAllMasterDataPath:"/settings/SalesUOMUnitMaster/getAllMasterData",updatePath:s=>`/settings/SalesUOMUnitMaster/update/${s}`,getByIdPath:s=>`/settings/SalesUOMUnitMaster/getById/${s}`,deletePath:s=>`/settings/SalesUOMUnitMaster/delete/${s}`}}create(e){return this.http.post(this.routes.createPath,e).pipe((0,d.U)(s=>s))}getAll(e){return this.http.get(this.routes.getAllPath,e).pipe((0,d.U)(s=>s))}getAllMasterData(e){return this.http.get(this.routes.getAllMasterDataPath,e).pipe((0,d.U)(s=>s))}update(e,s){return this.http.put(this.routes.updatePath(e),s).pipe((0,d.U)(i=>i))}getById(e){return this.http.get(this.routes.getByIdPath(e)).pipe((0,d.U)(s=>s))}delete(e){return this.http.delete(this.routes.deletePath(e)).pipe((0,d.U)(s=>s))}static#t=this.\u0275fac=function(s){return new(s||a)(t.LFG(u.sM))};static#e=this.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var M=r(16897);function y(a,c){1&a&&t._UZ(0,"div",22)}function T(a,c){1&a&&t._UZ(0,"div",23)}function b(a,c){1&a&&t._UZ(0,"hr",24)}function x(a,c){if(1&a){const e=t.EpF();t.TgZ(0,"div",25)(1,"div",26)(2,"button",27),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.reset())}),t._uU(3,"Reset"),t.qZA()(),t.TgZ(4,"div",28)(5,"button",27),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.submit())}),t._uU(6,"Save"),t.qZA()()()}}let C=(()=>{class a{constructor(e,s,i,n,o,m,v,Q){this.salesUOMUnitsMasterService=e,this.router=s,this.activatedRoute=i,this.spinner=n,this.toastService=o,this.validationService=m,this.utilityService=v,this.location=Q,this.submitted=!1,this.action="create",this.form=new l.nJ({_id:new l.p4(null),label:new l.p4(null),value:new l.p4(null),order:new l.p4(null),status:new l.p4("Active")})}get f(){return this.form.controls}ngOnInit(){this.getInitialData()}navigateTo(e,s,i){this.router.navigate([e],{queryParams:{id:s,action:i}})}reset(){this.form.reset(),this.getInitialData()}submit(){if(this.submitted=!0,this.validationService.checkErrors(this.form,_.w))return;let e=this.form.value;e._id?this.update(e):(delete e._id,this.create(e))}create(e){this.spinner.show(),this.salesUOMUnitsMasterService.create(e).subscribe(s=>{this.submitted=!1,this.spinner.hide(),this.toastService.success(s.message),this.location.back()})}update(e){this.spinner.show(),this.salesUOMUnitsMasterService.update(e._id,e).subscribe(s=>{this.spinner.hide(),this.submitted=!1,this.toastService.success(s.message),this.location.back()})}getInitialData(){this.spinner.show(),this.form.controls.status.setValue("Active"),this.activatedRoute.queryParams.pipe((0,S.z)(e=>(this.action=e.action,this.utilityService.accessDenied(this.action),e.id?this.salesUOMUnitsMasterService.getById(e.id):(0,Z.of)({})))).subscribe(e=>{this.spinner.hide(),0!=Object.keys(e).length&&(this.form.patchValue(e),"edit"!=this.action&&this.form.disable())})}static#t=this.\u0275fac=function(s){return new(s||a)(t.Y36(f),t.Y36(p.F0),t.Y36(p.gz),t.Y36(u.V),t.Y36(u.kl),t.Y36(M.RJ),t.Y36(u.tI),t.Y36(h.Ye))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-sales-uom-unit-master-form"]],decls:42,vars:8,consts:[[1,"formCard","card",3,"formGroup"],[1,"set-remaining-margin","pb-2"],[1,"row","form-header"],[1,"col","heading"],[1,"form-body"],[1,"row"],[1,"col-3"],[1,"form-label"],[1,"text-danger"],["type","text","formControlName","value","readonly","",1,"form-control"],["type","text","formControlName","label",1,"form-control"],["type","number","formControlName","order",1,"form-control"],[1,"d-flex","inputGroup","skuForm"],["formControlName","status",1,"form-select","statusSelectBorder"],["selected","","disabled","",3,"value"],[3,"value"],[1,"input-group-text","bg-white"],[1,"col-md-auto","my-4","align-self-center"],["class","statusActive",4,"ngIf"],["class","statusInActive",4,"ngIf"],["class","row line-border my-4",4,"ngIf"],["class","d-flex justify-content-center mb-3",4,"ngIf"],[1,"statusActive"],[1,"statusInActive"],[1,"row","line-border","my-4"],[1,"d-flex","justify-content-center","mb-3"],[1,"d-grid","col-md-1","me-5"],["type","button",1,"btn","btn-primary","btn-lg",3,"click"],[1,"d-grid","col-md-1"]],template:function(s,i){1&s&&(t.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label"),t._uU(5,"Sales UOM Unit Master"),t.qZA()()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),t._uU(10," Value"),t._UZ(11,"span",8),t.qZA(),t._UZ(12,"input",9),t.qZA(),t.TgZ(13,"div",6)(14,"label",7),t._uU(15," Display Name "),t._UZ(16,"span",8),t.qZA(),t._UZ(17,"input",10),t.qZA(),t.TgZ(18,"div",6)(19,"label",7),t._uU(20," Order "),t._UZ(21,"span",8),t.qZA(),t._UZ(22,"input",11),t.qZA(),t.TgZ(23,"div",6)(24,"label",7),t._uU(25," Status "),t.TgZ(26,"span",8),t._uU(27,"*"),t.qZA()(),t.TgZ(28,"div",12)(29,"select",13)(30,"option",14),t._uU(31,"Select Status"),t.qZA(),t.TgZ(32,"option",15),t._uU(33,"Active"),t.qZA(),t.TgZ(34,"option",15),t._uU(35,"Inactive"),t.qZA()(),t.TgZ(36,"div",16)(37,"div",17),t.YNc(38,y,1,0,"div",18),t.YNc(39,T,1,0,"div",19),t.qZA()()()()()(),t.YNc(40,b,1,0,"hr",20),t.YNc(41,x,7,0,"div",21),t.qZA()()),2&s&&(t.Q6J("formGroup",i.form),t.xp6(30),t.Q6J("value",null),t.xp6(2),t.Q6J("value","Active"),t.xp6(2),t.Q6J("value","Inactive"),t.xp6(4),t.Q6J("ngIf","Active"==i.form.value.status),t.xp6(1),t.Q6J("ngIf","Inactive"==i.form.value.status),t.xp6(1),t.Q6J("ngIf","view"!=i.action),t.xp6(1),t.Q6J("ngIf","view"!=i.action))},dependencies:[h.O5,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.sg,l.u]})}return a})();var U=r(43818),I=r(25116),J=r(88059),O=r(53421);function w(a,c){1&a&&t._UZ(0,"div",24)}function N(a,c){1&a&&t._UZ(0,"div",25)}function F(a,c){if(1&a){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"span",13),t.YNc(9,w,1,0,"div",14),t.YNc(10,N,1,0,"div",15),t.qZA()(),t.TgZ(11,"td")(12,"div",16),t._UZ(13,"button",17),t.TgZ(14,"div",18)(15,"a",19),t.NdJ("click",function(){const n=t.CHM(e).$implicit,o=t.oxw();return t.KtG(o.navigateTo("../form",null==n?null:n._id,"view"))}),t._UZ(16,"i",20),t._uU(17," View "),t.qZA(),t.TgZ(18,"a",19),t.NdJ("click",function(){const n=t.CHM(e).$implicit,o=t.oxw();return t.KtG(o.navigateTo("../form",null==n?null:n._id,"edit"))}),t._UZ(19,"i",21),t._uU(20," Edit "),t.qZA(),t.TgZ(21,"a",22),t.NdJ("click",function(){const n=t.CHM(e).$implicit,o=t.oxw();return t.KtG(o.update(n))}),t._UZ(22,"i",23),t._uU(23," Status "),t.qZA()()()()()}if(2&a){const e=c.$implicit,s=t.oxw();t.xp6(2),t.Oqu(null==e?null:e.value),t.xp6(2),t.Oqu(null==e?null:e.label),t.xp6(2),t.Oqu(null==e?null:e.order),t.xp6(3),t.Q6J("ngIf","Active"==e.status),t.xp6(1),t.Q6J("ngIf","Inactive"==e.status),t.xp6(5),t.Q6J("accessType",s.rolePermissionActions.viewAction),t.xp6(3),t.Q6J("accessType",s.rolePermissionActions.editAction)}}const Y=function(a,c,e,s){return{page:a,pageSize:c,collection:e,search:s,type:"list",excelDisplay:"none"}};let P=(()=>{class a{constructor(e,s,i,n,o,m,v){this.exportExcelService=e,this.salesUOMUnitsMasterService=s,this.activatedRoute=i,this.toastService=n,this.storageService=o,this.router=m,this.spinner=v,this.page=1,this.pageSize=8,this.collection=0,this.column="order",this.direction=1,this.search="",this.tableData=[],this.rolePermissionActions=I.a1}ngOnInit(){this.page=Number(this.activatedRoute.snapshot.queryParamMap.get("page")??1),this.getAll()}navigateTo(e,s,i){this.router.navigate([e],{relativeTo:this.activatedRoute,queryParams:{id:s,action:i}})}trackByFn(e,s){return s?._id}eventHeader(e){switch(e.key){case"SEARCH":this.search=e.value,this.getAll();break;case"EXCEL":this.getAll(!0);break;case"PAGE":this.page=e.value,this.getAll()}}getAll(e=!1){this.spinner.show(),this.salesUOMUnitsMasterService.getAll({page:this.page,pageSize:this.pageSize,search:this.search,column:this.column,direction:this.direction,excel:e}).subscribe(i=>{e?this.excelDownload(i.rows):(this.tableData=i.rows,this.collection=i.count,this.spinner.hide())})}excelDownload(e){let s={width:24,style:{alignment:{vertical:"middle",horizontal:"center",wrapText:!0}}},i={title:"Operation Name Master",csvData:e,headers:[{header:"Operation Name",key:"value",...s},{header:"Order",key:"order",...s},{header:"status",key:"status",...s}]};this.exportExcelService.exportExcel(i)}onSort({column:e,direction:s}){this.headers.forEach(i=>{i.sortable!==e&&(i.direction="")}),this.column=e,this.direction="asc"==s?1:-1,this.getAll()}update(e){this.spinner.show(),e.status="Active"==e.status?"Inactive":"Active",this.salesUOMUnitsMasterService.update(e._id,e).subscribe(s=>{this.spinner.hide(),this.toastService.success(s.message)})}static#t=this.\u0275fac=function(s){return new(s||a)(t.Y36(u.Ol),t.Y36(f),t.Y36(p.gz),t.Y36(u.kl),t.Y36(u.V1),t.Y36(p.F0),t.Y36(u.V))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-sales-uom-unit-master-list"]],viewQuery:function(s,i){if(1&s&&t.Gf(U.j,5),2&s){let n;t.iGM(n=t.CRH())&&(i.headers=n)}},decls:21,vars:8,consts:[[1,"listCard","card"],[1,"table-header"],[1,"heading"],[1,"table-responsive"],[3,"data","dataChange"],[1,"table","table-bordered"],[1,"bg-primary"],[1,"text-white"],["sortable","value",3,"sort"],["sortable","label",3,"sort"],["sortable","order",3,"sort"],["sortable","status",3,"sort"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"d-flex","justify-content-center"],["class","statusActive",4,"ngIf"],["class","statusInActive",4,"ngIf"],[1,"dropdown"],[1,"dropbtn"],[1,"dropdown-content"],["appAccessControl","","href","javascript:void(0)",3,"accessType","click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg","me-2","text-primary"],["aria-hidden","true",1,"fa","fa-pencil-square-o","fa-lg","me-2","text-primary"],["href","javascript:void(0)",3,"click"],["aria-hidden","true",1,"fa","fa-check","fa-lg","text-success"],[1,"statusActive"],[1,"statusInActive"]],template:function(s,i){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"label",2),t._uU(3,"Sales UOM Unit Master Summary"),t.qZA()(),t.TgZ(4,"div",3)(5,"app-setting-header",4),t.NdJ("dataChange",function(o){return i.eventHeader(o)}),t.qZA(),t.TgZ(6,"table",5)(7,"thead",6)(8,"tr",7)(9,"th",8),t.NdJ("sort",function(o){return i.onSort(o)}),t._uU(10,"Value"),t.qZA(),t.TgZ(11,"th",9),t.NdJ("sort",function(o){return i.onSort(o)}),t._uU(12,"Display Name"),t.qZA(),t.TgZ(13,"th",10),t.NdJ("sort",function(o){return i.onSort(o)}),t._uU(14,"Order"),t.qZA(),t.TgZ(15,"th",11),t.NdJ("sort",function(o){return i.onSort(o)}),t._uU(16,"Status"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"Action"),t.qZA()()(),t.TgZ(19,"tbody"),t.YNc(20,F,24,7,"tr",12),t.qZA()()()()),2&s&&(t.xp6(5),t.Q6J("data",t.l5B(3,Y,i.page,i.pageSize,i.collection,i.search)),t.xp6(15),t.Q6J("ngForOf",i.tableData)("ngForTrackBy",i.trackByFn))},dependencies:[h.sg,h.O5,J.P,U.j,O.J]})}return a})();var k=r(19964),q=r(56208);const D=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:P},{path:"form",component:C,resolve:{accessScreen:k.xr}}];let L=(()=>{class a{static#t=this.\u0275fac=function(s){return new(s||a)};static#e=this.\u0275mod=t.oAB({type:a});static#s=this.\u0275inj=t.cJS({imports:[h.ez,p.Bz.forChild(D),q.m]})}return a})()}}]);