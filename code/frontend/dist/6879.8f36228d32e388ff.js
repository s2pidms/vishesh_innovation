"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6879],{16879:(A,l,o)=>{o.r(l),o.d(l,{EmployeeGradeStructureModule:()=>E});var d=o(96814),a=o(1076),u=o(25116),e=o(65879),p=o(99328),m=o(68187),g=o(53421);function h(t,i){if(1&t&&(e.TgZ(0,"div",13)(1,"div",14)(2,"div",15)(3,"p",9),e._uU(4),e.qZA()()()()),2&t){const s=i.$implicit;e.xp6(4),e.Oqu(null==s?null:s.empFullName)}}function v(t,i){if(1&t&&(e.TgZ(0,"li",6)(1,"div",7)(2,"div",8)(3,"p",9),e._uU(4),e.qZA()(),e.TgZ(5,"div",10)(6,"div",11),e.YNc(7,h,5,1,"div",12),e.qZA()()()()),2&t){const s=i.$implicit,r=e.oxw();e.xp6(4),e.hij(" ",s.split("-").splice(1,2).join("-")," "),e.xp6(3),e.Q6J("ngForOf",r.getEmp(s))}}let y=(()=>{var t;class i{constructor(r,n,c){this.spinner=r,this.employeeService=n,this.storageService=c,this.grades=[],this.employeesRecords=[],this.user={},this.rolePermissionActions=u.a1}ngOnInit(){this.user=this.storageService.get("IDMS_EMP"),this.getAllData()}windowprint(){window.open("/#/print/grade_structure","_blank")}getAllData(){this.spinner.show(),this.subscription&&this.subscription.unsubscribe(),this.subscription=this.employeeService.gradeStructure({}).subscribe(r=>{this.grades=r.grades.sort((n,c)=>c-n?1:-1),this.employeesRecords=r.rows,this.spinner.hide()})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}getEmp(r){return this.employeesRecords.find(c=>c._id==r)?.employees??[]}}return(t=i).\u0275fac=function(r){return new(r||t)(e.Y36(p.V),e.Y36(m.GP),e.Y36(p.V1))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-employee-grade-structure"]],decls:6,vars:2,consts:[[1,"container-fluid"],[1,"row","mb-3"],["appAccessControl","",1,"col","text-end",3,"accessType"],["src","./assets/images/file_pdf.png","width","35rem",1,"pointer",3,"click"],[1,"list-group","mb-4"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"row","align-items-center","emp-grade"],[1,"col-md-3","py-2"],[1,"card-title","mb-0"],[1,"col-md-9","py-0"],[1,"row","row-cols-md-auto","g-2"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","empName-card","text-center"],[1,"card-body"]],template:function(r,n){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"img",3),e.NdJ("click",function(){return n.windowprint()}),e.qZA()()(),e.TgZ(4,"ul",4),e.YNc(5,v,8,2,"li",5),e.qZA()()),2&r&&(e.xp6(2),e.Q6J("accessType",n.rolePermissionActions.downloadAction),e.xp6(3),e.Q6J("ngForOf",n.grades))},dependencies:[d.sg,g.J],encapsulation:2}),i})();var f=o(56208);const S=[{path:"",component:y}];let E=(()=>{var t;class i{}return(t=i).\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.ez,a.Bz.forChild(S),f.m]}),i})()}}]);