"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[2267],{72267:(D,f,o)=>{o.r(f),o.d(f,{UOMUnitsMasterModule:()=>Q});var p=o(96814),d=o(1076),g=o(43818),_=o(25116),t=o(65879),u=o(2742),U=o(39029),M=o(88059),Z=o(53421);function y(i,l){1&i&&t._UZ(0,"div",24)}function A(i,l){1&i&&t._UZ(0,"div",25)}function T(i,l){if(1&i){const r=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"span",13),t.YNc(9,y,1,0,"div",14),t.YNc(10,A,1,0,"div",15),t.qZA()(),t.TgZ(11,"td")(12,"div",16),t._UZ(13,"button",17),t.TgZ(14,"div",18)(15,"a",19),t.NdJ("click",function(){const n=t.CHM(r).$implicit,a=t.oxw();return t.KtG(a.navigateTo("/default/settings/master/uom_units_master/form",null==n?null:n._id,"view"))}),t._UZ(16,"i",20),t._uU(17," View "),t.qZA(),t.TgZ(18,"a",19),t.NdJ("click",function(){const n=t.CHM(r).$implicit,a=t.oxw();return t.KtG(a.navigateTo("/default/settings/master/uom_units_master/form",null==n?null:n._id,"edit"))}),t._UZ(19,"i",21),t._uU(20," Edit "),t.qZA(),t.TgZ(21,"a",22),t.NdJ("click",function(){const n=t.CHM(r).$implicit,a=t.oxw();return t.KtG(a.update(n))}),t._UZ(22,"i",23),t._uU(23," Status "),t.qZA()()()()()}if(2&i){const r=l.$implicit,e=t.oxw();t.xp6(2),t.Oqu(null==r?null:r.value),t.xp6(2),t.Oqu(null==r?null:r.label),t.xp6(2),t.Oqu(null==r?null:r.order),t.xp6(3),t.Q6J("ngIf","Active"==r.status),t.xp6(1),t.Q6J("ngIf","Inactive"==r.status),t.xp6(5),t.Q6J("accessType",e.rolePermissionActions.viewAction),t.xp6(3),t.Q6J("accessType",e.rolePermissionActions.editAction)}}const b=function(i,l,r,e){return{page:i,pageSize:l,collection:r,search:e,type:"list",excelDisplay:"none"}};let C=(()=>{var i;class l{constructor(e,s,n,a,m,h,v){this.exportExcelService=e,this.uomUnitsMasterService=s,this.activatedRoute=n,this.toastService=a,this.storageService=m,this.router=h,this.spinner=v,this.page=1,this.pageSize=8,this.collection=0,this.column="order",this.direction=1,this.search="",this.tableData=[],this.type="",this.title="",this.rolePermissionActions=_.a1}ngOnInit(){this.title=this.storageService.get("menuTitle").title,this.page=Number(this.activatedRoute.snapshot.queryParamMap.get("page")??1),this.type=this.activatedRoute.snapshot.paramMap.get("appParameter"),this.getAll()}navigateTo(e,s,n){this.router.navigate([e],{queryParams:{id:s,action:n,type:this.type}})}trackByFn(e,s){return s?._id}eventHeader(e){switch(e.key){case"SEARCH":this.search=e.value,this.getAll();break;case"EXCEL":this.getAll(!0);break;case"PAGE":this.page=e.value,this.getAll()}}getAll(e=!1){this.spinner.show(),this.uomUnitsMasterService.getAll({page:this.page,pageSize:this.pageSize,search:this.search,column:this.column,direction:this.direction,excel:e,type:this.type}).subscribe(n=>{e?this.excelDownload(n.rows):(this.tableData=n.rows,this.collection=n.count,this.spinner.hide())})}excelDownload(e){let s={width:24,style:{alignment:{vertical:"middle",horizontal:"center",wrapText:!0}}},n={title:"Operation Name Master",csvData:e,headers:[{header:"Operation Name",key:"value",...s},{header:"Order",key:"order",...s},{header:"status",key:"status",...s}]};this.exportExcelService.exportExcel(n)}onSort({column:e,direction:s}){this.headers.forEach(n=>{n.sortable!==e&&(n.direction="")}),this.column=e,this.direction="asc"==s?1:-1,this.getAll()}update(e){this.spinner.show(),e.status="Active"==e.status?"Inactive":"Active",this.uomUnitsMasterService.update(e._id,e).subscribe(s=>{this.spinner.hide(),this.toastService.success(s.message)})}}return(i=l).\u0275fac=function(e){return new(e||i)(t.Y36(u.Ol),t.Y36(U.En),t.Y36(d.gz),t.Y36(u.kl),t.Y36(u.V1),t.Y36(d.F0),t.Y36(u.V))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-uom-units-master-list"]],viewQuery:function(e,s){if(1&e&&t.Gf(g.j,5),2&e){let n;t.iGM(n=t.CRH())&&(s.headers=n)}},decls:21,vars:9,consts:[[1,"listCard","card"],[1,"table-header"],[1,"heading"],[1,"table-responsive"],[3,"data","dataChange"],[1,"table","table-bordered"],[1,"bg-primary"],[1,"text-white"],["sortable","value",3,"sort"],["sortable","label",3,"sort"],["sortable","order",3,"sort"],["sortable","status",3,"sort"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"d-flex","justify-content-center"],["class","statusActive",4,"ngIf"],["class","statusInActive",4,"ngIf"],[1,"dropdown"],[1,"dropbtn"],[1,"dropdown-content"],["appAccessControl","","href","javascript:void(0)",3,"accessType","click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg","me-2","text-primary"],["aria-hidden","true",1,"fa","fa-pencil-square-o","fa-lg","me-2","text-primary"],["href","javascript:void(0)",3,"click"],["aria-hidden","true",1,"fa","fa-check","fa-lg","text-success"],[1,"statusActive"],[1,"statusInActive"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"label",2),t._uU(3),t.qZA()(),t.TgZ(4,"div",3)(5,"app-setting-header",4),t.NdJ("dataChange",function(a){return s.eventHeader(a)}),t.qZA(),t.TgZ(6,"table",5)(7,"thead",6)(8,"tr",7)(9,"th",8),t.NdJ("sort",function(a){return s.onSort(a)}),t._uU(10,"Value"),t.qZA(),t.TgZ(11,"th",9),t.NdJ("sort",function(a){return s.onSort(a)}),t._uU(12,"Display Name"),t.qZA(),t.TgZ(13,"th",10),t.NdJ("sort",function(a){return s.onSort(a)}),t._uU(14,"Order"),t.qZA(),t.TgZ(15,"th",11),t.NdJ("sort",function(a){return s.onSort(a)}),t._uU(16,"Status"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"Action"),t.qZA()()(),t.TgZ(19,"tbody"),t.YNc(20,T,24,7,"tr",12),t.qZA()()()()),2&e&&(t.xp6(3),t.hij("",s.title," Summary"),t.xp6(2),t.Q6J("data",t.l5B(4,b,s.page,s.pageSize,s.collection,s.search)),t.xp6(15),t.Q6J("ngForOf",s.tableData)("ngForTrackBy",s.trackByFn))},dependencies:[p.sg,p.O5,M.P,g.j,Z.J],encapsulation:2}),l})();var c=o(60095),x=o(61504),O=o(21631),S=o(22096),J=o(16897);function w(i,l){1&i&&t._UZ(0,"div",22)}function I(i,l){1&i&&t._UZ(0,"div",23)}function N(i,l){1&i&&t._UZ(0,"hr",24)}function F(i,l){if(1&i){const r=t.EpF();t.TgZ(0,"div",25)(1,"div",26)(2,"button",27),t.NdJ("click",function(){t.CHM(r);const s=t.oxw();return t.KtG(s.reset())}),t._uU(3,"Reset"),t.qZA()(),t.TgZ(4,"div",28)(5,"button",27),t.NdJ("click",function(){t.CHM(r);const s=t.oxw();return t.KtG(s.submit())}),t._uU(6,"Save"),t.qZA()()()}}let Y=(()=>{var i;class l{constructor(e,s,n,a,m,h,v,E){this.uomUnitsMasterService=e,this.router=s,this.activatedRoute=n,this.spinner=a,this.toastService=m,this.storageService=h,this.validationService=v,this.utilityService=E,this.submitted=!1,this.action="create",this.type="",this.title="",this.form=new c.nJ({_id:new c.p4(null),type:new c.p4(null),label:new c.p4(null),value:new c.p4(null),order:new c.p4(null),status:new c.p4("Active")})}get f(){return this.form.controls}ngOnInit(){this.title=this.storageService.get("menuTitle").title,this.activatedRoute.queryParams.subscribe(e=>{this.type=e.type}),this.getInitialData()}navigateTo(e,s,n){this.router.navigate([e],{queryParams:{id:s,action:n}})}reset(){this.form.reset(),this.getInitialData()}submit(){if(this.submitted=!0,this.validationService.checkErrors(this.form,x.w))return;let e=this.form.value;e._id?this.update(e):(delete e._id,this.create(e))}create(e){this.spinner.show(),this.uomUnitsMasterService.create(e).subscribe(s=>{this.submitted=!1,this.spinner.hide(),this.toastService.success(s.message),this.router.navigate([`/default/settings/master/uom_units_master/list/${this.type}`])})}update(e){this.spinner.show(),this.uomUnitsMasterService.update(e._id,e).subscribe(s=>{this.spinner.hide(),this.submitted=!1,this.toastService.success(s.message),this.router.navigate([`/default/settings/master/uom_units_master/list/${this.type}`])})}getInitialData(){this.spinner.show(),this.form.controls.type.setValue(this.type),this.form.controls.status.setValue("Active"),this.activatedRoute.queryParams.pipe((0,O.z)(e=>(this.action=e.action,this.utilityService.accessDenied(this.action),e.id?this.uomUnitsMasterService.getById(e.id):(0,S.of)({})))).subscribe(e=>{this.spinner.hide(),0!=Object.keys(e).length&&(this.form.patchValue(e),"edit"!=this.action&&this.form.disable())})}}return(i=l).\u0275fac=function(e){return new(e||i)(t.Y36(U.En),t.Y36(d.F0),t.Y36(d.gz),t.Y36(u.V),t.Y36(u.kl),t.Y36(u.V1),t.Y36(J.RJ),t.Y36(u.tI))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-uom-units-master-form"]],decls:42,vars:9,consts:[[1,"formCard","card",3,"formGroup"],[1,"set-remaining-margin","pb-2"],[1,"row","form-header"],[1,"col","heading"],[1,"form-body"],[1,"row"],[1,"col-3"],[1,"form-label"],[1,"text-danger"],["type","text","formControlName","value","readonly","",1,"form-control"],["type","text","formControlName","label",1,"form-control"],["type","number","formControlName","order",1,"form-control"],[1,"d-flex","inputGroup","skuForm"],["formControlName","status",1,"form-select","statusSelectBorder"],["selected","","disabled","",3,"value"],[3,"value"],[1,"input-group-text","bg-white"],[1,"col-md-auto","my-4","align-self-center"],["class","statusActive",4,"ngIf"],["class","statusInActive",4,"ngIf"],["class","row line-border my-4",4,"ngIf"],["class","d-flex justify-content-center mb-3",4,"ngIf"],[1,"statusActive"],[1,"statusInActive"],[1,"row","line-border","my-4"],[1,"d-flex","justify-content-center","mb-3"],[1,"d-grid","col-md-1","me-5"],["type","button",1,"btn","btn-primary","btn-lg",3,"click"],[1,"d-grid","col-md-1"]],template:function(e,s){1&e&&(t.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label"),t._uU(5),t.qZA()()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),t._uU(10," Value"),t._UZ(11,"span",8),t.qZA(),t._UZ(12,"input",9),t.qZA(),t.TgZ(13,"div",6)(14,"label",7),t._uU(15," Display Name "),t._UZ(16,"span",8),t.qZA(),t._UZ(17,"input",10),t.qZA(),t.TgZ(18,"div",6)(19,"label",7),t._uU(20," Order "),t._UZ(21,"span",8),t.qZA(),t._UZ(22,"input",11),t.qZA(),t.TgZ(23,"div",6)(24,"label",7),t._uU(25," Status "),t.TgZ(26,"span",8),t._uU(27,"*"),t.qZA()(),t.TgZ(28,"div",12)(29,"select",13)(30,"option",14),t._uU(31,"Select Status"),t.qZA(),t.TgZ(32,"option",15),t._uU(33,"Active"),t.qZA(),t.TgZ(34,"option",15),t._uU(35,"Inactive"),t.qZA()(),t.TgZ(36,"div",16)(37,"div",17),t.YNc(38,w,1,0,"div",18),t.YNc(39,I,1,0,"div",19),t.qZA()()()()()(),t.YNc(40,N,1,0,"hr",20),t.YNc(41,F,7,0,"div",21),t.qZA()()),2&e&&(t.Q6J("formGroup",s.form),t.xp6(5),t.hij("",s.title," Master"),t.xp6(25),t.Q6J("value",null),t.xp6(2),t.Q6J("value","Active"),t.xp6(2),t.Q6J("value","Inactive"),t.xp6(4),t.Q6J("ngIf","Active"==s.form.value.status),t.xp6(1),t.Q6J("ngIf","Inactive"==s.form.value.status),t.xp6(1),t.Q6J("ngIf","view"!=s.action),t.xp6(1),t.Q6J("ngIf","view"!=s.action))},dependencies:[p.O5,c._Y,c.YN,c.Kr,c.Fj,c.wV,c.EJ,c.JJ,c.JL,c.sg,c.u],encapsulation:2}),l})();var q=o(19964),k=o(56208);const L=[{path:"list/:appParameter",component:C},{path:"form",component:Y,resolve:{accessScreen:q.xr}}];let Q=(()=>{var i;class l{}return(i=l).\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[p.ez,d.Bz.forChild(L),k.m]}),l})()}}]);