"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6879],{16879:(A,c,o)=>{o.r(c),o.d(c,{EmployeeGradeStructureModule:()=>S});var l=o(96814),d=o(1076),p=o(25116),t=o(65879),a=o(98977),u=o(68187),m=o(53421);function g(e,n){if(1&e&&(t.TgZ(0,"div",13)(1,"div",14)(2,"div",15)(3,"p",9),t._uU(4),t.qZA()()()()),2&e){const i=n.$implicit;t.xp6(4),t.Oqu(null==i?null:i.empFullName)}}function h(e,n){if(1&e&&(t.TgZ(0,"li",6)(1,"div",7)(2,"div",8)(3,"p",9),t._uU(4),t.qZA()(),t.TgZ(5,"div",10)(6,"div",11),t.YNc(7,g,5,1,"div",12),t.qZA()()()()),2&e){const i=n.$implicit,s=t.oxw();t.xp6(4),t.hij(" ",i.split("-").splice(1,2).join("-")," "),t.xp6(3),t.Q6J("ngForOf",s.getEmp(i))}}let v=(()=>{class e{constructor(i,s,r){this.spinner=i,this.employeeService=s,this.storageService=r,this.grades=[],this.employeesRecords=[],this.user={},this.rolePermissionActions=p.a1}ngOnInit(){this.user=this.storageService.get("IDMS_EMP"),this.getAllData()}windowprint(){window.open("/#/print/grade_structure","_blank")}getAllData(){this.spinner.show(),this.subscription&&this.subscription.unsubscribe(),this.subscription=this.employeeService.gradeStructure({}).subscribe(i=>{this.grades=i.grades.sort((s,r)=>r-s?1:-1),this.employeesRecords=i.rows,this.spinner.hide()})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}getEmp(i){return this.employeesRecords.find(r=>r._id==i)?.employees??[]}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(a.V),t.Y36(u.GP),t.Y36(a.V1))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-employee-grade-structure"]],decls:6,vars:2,consts:[[1,"container-fluid"],[1,"row","mb-3"],["appAccessControl","",1,"col","text-end",3,"accessType"],["src","./assets/images/file_pdf.png","width","35rem",1,"pointer",3,"click"],[1,"list-group","mb-4"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"row","align-items-center","emp-grade"],[1,"col-md-3","py-2"],[1,"card-title","mb-0"],[1,"col-md-9","py-0"],[1,"row","row-cols-md-auto","g-2"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","empName-card","text-center"],[1,"card-body"]],template:function(s,r){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"img",3),t.NdJ("click",function(){return r.windowprint()}),t.qZA()()(),t.TgZ(4,"ul",4),t.YNc(5,h,8,2,"li",5),t.qZA()()),2&s&&(t.xp6(2),t.Q6J("accessType",r.rolePermissionActions.downloadAction),t.xp6(3),t.Q6J("ngForOf",r.grades))},dependencies:[l.sg,m.J],encapsulation:2})}return e})();var f=o(56208);const y=[{path:"",component:v}];let S=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=t.oAB({type:e});static#i=this.\u0275inj=t.cJS({imports:[l.ez,d.Bz.forChild(y),f.m]})}return e})()}}]);