"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[3671],{63671:(F,g,d)=>{d.r(g),d.d(g,{ProductCodeModule:()=>w});var u=d(96814),l=d(1076),C=d(43818),v=d(25116),t=d(65879),p=d(88354),h=d(99328),f=d(88059),y=d(53421);function b(r,a){if(1&r){const n=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"div",13),t._UZ(9,"button",14),t.TgZ(10,"div",15)(11,"a",16),t.NdJ("click",function(){const i=t.CHM(n).$implicit,s=t.oxw();return t.KtG(s.navigateTo("/default/settings/transactions/auto_increment/AI-form",null==i?null:i._id,"view"))}),t._UZ(12,"i",17),t._uU(13," View "),t.qZA(),t.TgZ(14,"a",16),t.NdJ("click",function(){const i=t.CHM(n).$implicit,s=t.oxw();return t.KtG(s.navigateTo("/default/settings/transactions/auto_increment/AI-form",null==i?null:i._id,"edit"))}),t._UZ(15,"i",18),t._uU(16," Edit "),t.qZA()()()()()}if(2&r){const n=a.$implicit,e=t.oxw();t.xp6(2),t.Oqu(null==n?null:n.productCatagoryData),t.xp6(2),t.Oqu(null==n?null:n.module),t.xp6(2),t.Oqu(null==n?null:n.autoIncrementValue),t.xp6(5),t.Q6J("accessType",e.rolePermissionActions.viewAction),t.xp6(3),t.Q6J("accessType",e.rolePermissionActions.editAction)}}const A=function(r,a,n,e){return{page:r,pageSize:a,collection:n,search:e}};let P=(()=>{var r;class a{constructor(e,o,i,s,m){this.productCategoryService=e,this.activatedRoute=o,this.router=i,this.exportExcelService=s,this.spinner=m,this.selectedRow={},this.productCatagoryData=[],this.search="",this.page=1,this.pageSize=25,this.collection=0,this.column="createdAt",this.direction=-1,this.tableData=[],this.rolePermissionActions=v.a1,this.headerArr=["Module Name","Module Prefix","Auto Increment Value","Param Value"],this.actionArr=[{value:"View",img:"./assets/new_icons/icon_view.svg"},{value:"Edit",img:"./assets/new_icons/icon_edit.svg"}],this.actualData=[]}ngOnInit(){this.page=Number(this.activatedRoute.snapshot.queryParamMap.get("page")??1)}trackByFn(e,o){return o?._id}getAll(e=!1){this.spinner.show(),this.productCategoryService.getAll({page:this.page,pageSize:this.pageSize,search:this.search,column:this.column,direction:this.direction,excel:e}).subscribe(i=>{e?this.excelDownload(i.rows):(this.tableData=i.rows,this.collection=i.count,this.spinner.hide())})}eventHeader(e){switch(e.key){case"SEARCH":this.search=e.value,this.getAll();break;case"EXCEL":this.getAll(!0);break;case"PAGE":this.page=e.value,this.getAll()}}navigateTo(e,o,i){this.router.navigate([e],{queryParams:{id:o,action:i}})}excelDownload(e){let o={width:24,style:{alignment:{vertical:"middle",horizontal:"center",wrapText:!0}}},i={title:"Role Master",csvData:e,headers:[{header:"Module Name",key:"moduleName",...o},{header:"Module Prefix",key:"module",...o},{header:"Auto Increment Value",key:"autoIncrementValue",...o}]};this.exportExcelService.exportExcel(i)}onSort({column:e,direction:o}){this.headers.forEach(i=>{i.sortable!==e&&(i.direction="")}),this.column=e,this.direction="asc"==o?1:-1,this.getAll()}}return(r=a).\u0275fac=function(e){return new(e||r)(t.Y36(p.No),t.Y36(l.gz),t.Y36(l.F0),t.Y36(h.Ol),t.Y36(h.V))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-product-code-list"]],viewQuery:function(e,o){if(1&e&&t.Gf(C.j,5),2&e){let i;t.iGM(i=t.CRH())&&(o.headers=i)}},decls:19,vars:9,consts:[[1,"row","justify-content-center"],[1,"col-md-11"],["appAccessControl","",1,"text-center",3,"accessType"],["type","button",1,"btn","btn-primary","rounded","px-2",3,"click"],["aria-hidden","true",1,"fa","fa-plus-square","fa-lg","mx-1"],[3,"data","dataChange"],[1,"table-responsive"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],["sortable","moduleName",3,"sort"],["sortable","module",3,"sort"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"dropdown"],[1,"dropbtn"],[1,"dropdown-content"],["appAccessControl","","href","javascript:void(0)",3,"accessType","click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg","me-2","text-primary"],["aria-hidden","true",1,"fa","fa-pencil-square-o","fa-lg","me-2","text-primary"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),t.NdJ("click",function(){return o.navigateTo("/default/settings/transactions/product_code/PC-form",null,"create")}),t._UZ(4,"i",4),t._uU(5," Product Code "),t.qZA()(),t.TgZ(6,"app-setting-header",5),t.NdJ("dataChange",function(s){return o.eventHeader(s)}),t.qZA(),t.TgZ(7,"div",6)(8,"table",7)(9,"thead",8)(10,"tr",9)(11,"th",10),t.NdJ("sort",function(s){return o.onSort(s)}),t._uU(12," Product Category "),t.qZA(),t.TgZ(13,"th",11),t.NdJ("sort",function(s){return o.onSort(s)}),t._uU(14,"Active"),t.qZA(),t.TgZ(15,"th",11),t.NdJ("sort",function(s){return o.onSort(s)}),t._uU(16,"Edit"),t.qZA()()(),t.TgZ(17,"tbody"),t.YNc(18,b,17,5,"tr",12),t.qZA()()()()()),2&e&&(t.xp6(2),t.Q6J("accessType",o.rolePermissionActions.createAction),t.xp6(4),t.Q6J("data",t.l5B(4,A,o.page,o.pageSize,o.collection,o.search)),t.xp6(12),t.Q6J("ngForOf",o.tableData)("ngForTrackBy",o.trackByFn))},dependencies:[u.sg,f.P,C.j,y.J],encapsulation:2}),a})();var c=d(60095);const T=[{path:"",redirectTo:"PC-list",pathMatch:"full"},{path:"PC-list",component:P},{path:"PC-form",component:(()=>{var r;class a{constructor(e,o,i,s,m,x){this.productCategoryService=e,this.userService=o,this.actRoute=i,this.spinner=s,this.formBuilder=m,this.location=x,this.submitted=!1,this.paramsId="",this.paramsData=null,this.view="",this.Users=[],this.roles=[],this.productCatagoryForm=this.formBuilder.group({userCode:new c.p4("",[c.kI.required]),name:new c.p4("",[c.kI.required]),role:new c.p4("",[c.kI.required]),email:new c.p4("",[c.kI.required]),password:new c.p4("",[c.kI.required])})}ngOnInit(){this.userService.$titleChange.next("ADD PRODUCT CODE[Create]"),this.actRoute.queryParams.subscribe(e=>{e.id&&(this.paramsId=e.id,this.getUserById(e.id)),e.view&&(this.view=e.view)}),this.getAllMaster()}changeFn(e){}submit(){if(this.submitted=!0,this.productCatagoryForm.invalid)return;let e=this.productCatagoryForm.value;this.paramsId?this.update(this.paramsId):this.create(e)}create(e){this.spinner.show(),this.productCategoryService.create(e).subscribe(o=>{this.spinner.hide()})}update(e){this.spinner.show(),this.productCategoryService.update(e,this.productCatagoryForm.value).subscribe(o=>{this.submitted=!1,this.spinner.hide()})}getUserById(e){this.productCategoryService.getById(e).subscribe(o=>{this.productCatagoryForm.patchValue(o),this.productCatagoryForm.controls.role.setValue(o.role?._id)})}goBack(){this.location.back()}getAllMaster(){this.productCategoryService.getAllMasterData({}).subscribe(o=>{this.roles=o.roles,this.productCatagoryForm.controls.userCode.patchValue(o.autoIncrementNo)},o=>{})}}return(r=a).\u0275fac=function(e){return new(e||r)(t.Y36(p.No),t.Y36(p.KD),t.Y36(l.gz),t.Y36(h.V),t.Y36(c.QS),t.Y36(u.Ye))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-product-code-form"]],decls:19,vars:0,consts:[[1,"container-fluid"],[1,""],[1,"row","justify-content-center","align-items-center"],[1,"col-md-11","py-5"],[1,"row","mb-4","justify-content-center"],[1,"col-md-6"],[1,"form-label"],[1,"mandatory"],["type","text","name","name","value","",1,"form-control"],[1,"validation-error"],[1,"d-flex","justify-content-center","mt-4"],[1,"d-grid","col-md-1","me-5"],["type","button",1,"btn","btn-primary","btn-lg"],[1,"d-grid","col-md-1"],["type","submit",1,"btn","btn-primary","btn-lg"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),t._uU(7,"Product Category"),t.TgZ(8,"span",7),t._uU(9,"*"),t.qZA()(),t._UZ(10,"input",8)(11,"p",9),t.qZA()(),t.TgZ(12,"div",10)(13,"div",11)(14,"button",12),t._uU(15,"Reset"),t.qZA()(),t.TgZ(16,"div",13)(17,"button",14),t._uU(18,"Save"),t.qZA()()()()()()())},dependencies:[c._Y,c.JL,c.F],encapsulation:2}),a})()}];let _=(()=>{var r;class a{}return(r=a).\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[l.Bz.forChild(T),l.Bz]}),a})();var Z=d(56208);let w=(()=>{var r;class a{}return(r=a).\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[u.ez,_,Z.m]}),a})()}}]);