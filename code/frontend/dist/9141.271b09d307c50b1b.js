"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[9141],{72414:(I,y,u)=>{u.d(y,{V:()=>m});var t=u(60095),o=u(25116),M=u(77609),e=u(65879),S=u(37285),O=u(16897),A=u(98977),U=u(96814),T=u(88059),D=u(50363),P=u(95346),N=u(83344),Z=u(59103);function k(l,C){if(1&l&&(e._UZ(0,"input",55),e.ALo(1,"UOMUnitsMaster")),2&l){const s=e.oxw(),i=e.MAs(118);e.s9C("value",e.lcZ(1,2,s.form.controls.uom1.value)),e.Q6J("ngbTooltip",i)}}function v(l,C){if(1&l&&(e._UZ(0,"input",56),e.ALo(1,"UOMUnitsMaster")),2&l){const s=e.oxw();e.s9C("value",e.lcZ(1,1,s.form.controls.uom1.value))}}function b(l,C){if(1&l&&(e._UZ(0,"input",55),e.ALo(1,"UOMUnitsMaster")),2&l){const s=e.oxw(),i=e.MAs(120);e.s9C("value",e.lcZ(1,2,s.form.controls.uom2.value)),e.Q6J("ngbTooltip",i)}}function E(l,C){if(1&l&&(e._UZ(0,"input",56),e.ALo(1,"UOMUnitsMaster")),2&l){const s=e.oxw();e.s9C("value",e.lcZ(1,1,s.form.controls.uom2.value))}}function p(l,C){if(1&l){const s=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",48,57)(5,"span",58),e._uU(6),e.qZA()(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"UOMUnitsMaster"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.ALo(18,"UOMUnitsMaster"),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA(),e.TgZ(21,"td")(22,"div",59),e._UZ(23,"button",60),e.TgZ(24,"div",61)(25,"a",62),e.NdJ("click",function(){const n=e.CHM(s),_=n.$implicit,g=n.index,R=e.oxw();return e.KtG(R.patchItem(_,g,"view"))}),e._UZ(26,"i",63),e._uU(27," View "),e.qZA(),e.TgZ(28,"a",62),e.NdJ("click",function(){const n=e.CHM(s),_=n.$implicit,g=n.index,R=e.oxw();return e.KtG(R.patchItem(_,g,"edit"))}),e._UZ(29,"i",64),e._uU(30," Edit "),e.qZA(),e.TgZ(31,"a",62),e.NdJ("click",function(){const _=e.CHM(s).index,g=e.oxw();return e.KtG(g.deleteItem(_))}),e._UZ(32,"i",65),e._uU(33," Delete "),e.qZA()()()()()}if(2&l){const s=C.$implicit,i=C.index,n=e.MAs(4),_=e.oxw();e.xp6(2),e.Oqu(i+1+(_.page-1)*_.pageSize),e.xp6(1),e.Udp("width",n.clientWidth),e.xp6(2),e.Q6J("ngbTooltip",s.supplierName)("positionTarget",n),e.xp6(1),e.hij(" ",s.supplierName," "),e.xp6(2),e.Oqu(null==s?null:s.supplierPartNo),e.xp6(2),e.Oqu(null==s?null:s.currency),e.xp6(2),e.Oqu(null!=s&&s.uom1?e.lcZ(13,14,null==s?null:s.uom1):null),e.xp6(3),e.Oqu(null==s?null:s.stdCostUom1),e.xp6(2),e.Oqu(null!=s&&s.uom2?e.lcZ(18,16,null==s?null:s.uom2):null),e.xp6(3),e.Oqu(null==s?null:s.stdCostUom2),e.xp6(11),e.ekj("disable","view"==_.action)}}function f(l,C){if(1&l&&(e.TgZ(0,"div",67)(1,"span",48),e._uU(2),e.qZA()()),2&l){const s=e.oxw(2);e.xp6(2),e.hij(" ",s.conversionOfUnitsForPrimary," ")}}function c(l,C){if(1&l&&e.YNc(0,f,3,1,"div",66),2&l){const s=e.oxw();e.Q6J("ngIf",s.primaryUnit||s.secondaryUnit)}}function a(l,C){if(1&l&&(e.TgZ(0,"div",67)(1,"span",48),e._uU(2),e.qZA()()),2&l){const s=e.oxw(2);e.xp6(2),e.hij(" ",s.conversionOfUnitsForSecondary," ")}}function d(l,C){if(1&l&&e.YNc(0,a,3,1,"div",66),2&l){const s=e.oxw();e.Q6J("ngIf",s.primaryUnit||s.secondaryUnit)}}const h=function(l,C,s,i){return{page:l,pageSize:C,collection:s,search:i,excelDisplay:"none"}};let m=(()=>{var l;class C{constructor(i,n,_,g){this.activeModal=i,this.validationService=n,this.toastService=_,this.modalService=g,this.action="",this.primaryUnit="",this.secondaryUnit="",this.unitConversionFlag=0,this.primaryToSecondaryConversion=0,this.secondaryToPrimaryConversion=0,this.sourceOfManufacturing="",this.suppliers=[],this.supplierDetails=[],this.conversionOfUnitsForPrimary="",this.conversionOfUnitsForSecondary="",this.sourceOfMfg=o.mt,this.btnDisable=!1,this.page=1,this.pageSize=4,this.collection=0,this.search="",this.column="createdAt",this.direction=-1,this.selectedSupplierDetails={},this.form=new t.nJ({index:new t.p4(-1),sourceOfManufacturing:new t.p4(null),supplier:new t.p4(null),supplierName:new t.p4(null,[t.kI.required]),supplierPartNo:new t.p4(null),currency:new t.p4(null),uom1:new t.p4(null),stdCostUom1:new t.p4(null),uom2:new t.p4(null),stdCostUom2:new t.p4(null)})}ngOnInit(){this.form.controls.sourceOfManufacturing.setValue(this.sourceOfManufacturing),this.collection=this.supplierDetails.length,this.setSourceOfManufacturing(),this.secondaryUnit||(this.form.controls.uom2.disable(),this.form.controls.stdCostUom2.disable()),this.primaryUnit&&this.form.controls.uom1.setValue(this.primaryUnit),this.secondaryUnit&&this.form.controls.uom2.setValue(this.secondaryUnit),(this.primaryUnit||this.secondaryUnit)&&(this.conversionOfUnitsForPrimary=`${1==this.unitConversionFlag?1:2==this.unitConversionFlag?this.secondaryToPrimaryConversion:1} ${this.primaryUnit} = ${1==this.unitConversionFlag?this.primaryToSecondaryConversion:1} ${this.secondaryUnit??this.primaryUnit}`,this.conversionOfUnitsForSecondary=`${1==this.unitConversionFlag?this.primaryToSecondaryConversion:1} ${this.secondaryUnit} = ${1==this.unitConversionFlag?1:2==this.unitConversionFlag?this.secondaryToPrimaryConversion:1} ${this.primaryUnit}`)}setUnit2PurchaseCost(){let i=this.form.controls.stdCostUom1.value;this.secondaryUnit&&this.primaryUnit&&1==this.unitConversionFlag&&this.form.controls.stdCostUom2.setValue(+(i/this.primaryToSecondaryConversion).toFixed(2)),this.secondaryUnit&&this.primaryUnit&&2==this.unitConversionFlag&&this.form.controls.stdCostUom2.setValue(+(i/this.secondaryToPrimaryConversion).toFixed(2))}eventHeader(i){switch(i.key){case"SEARCH":this.search=i.value;break;case"EXCEL":default:break;case"PAGE":this.page=i.value}}addSuppliers(){let i=this.form.value;i.sourceOfManufacturing?i.supplier?i.stdCostUom1?((i.index||0==i.index)&&i.index>=0?this.supplierDetails.splice(i.index,1,i):this.supplierDetails.push(i),this.collection=this.supplierDetails.length,this.form.controls.index.setValue(null),this.form.controls.supplier.setValue(null),this.form.controls.supplierName.setValue(null),this.form.controls.supplierPartNo.setValue(null),this.form.controls.currency.setValue(null),this.form.controls.stdCostUom1.setValue(null),this.form.controls.stdCostUom2.setValue(null),this.primaryUnit&&this.form.controls.uom1.setValue(this.primaryUnit),this.secondaryUnit&&this.form.controls.uom2.setValue(this.secondaryUnit)):this.toastService.warning("Purchase Cost is required !"):this.toastService.warning("Supplier Name is required !"):this.toastService.warning("Source of Manufacturing is required !")}patchItem(i,n,_){i.index=n,this.form.patchValue(i),"view"==_?(this.btnDisable=!0,this.form.disable()):(this.form.enable(),this.btnDisable=!1)}deleteItem(i){"view"!=this.action&&(this.supplierDetails.splice(i+(this.page-1)*this.pageSize,1),this.collection=this.supplierDetails.length)}setSupplierCurrency(i){i.supplierCurrency&&this.form.controls.currency.setValue(i?.supplierCurrency),i.supplierName&&this.form.controls.supplierName.setValue(i?.supplierName)}submit(){this.form.enable();let i={};i.supplierDetails=this.supplierDetails,i.sourceOfManufacturing=this.form.controls.sourceOfManufacturing.value,this.activeModal.close(i)}setSourceOfManufacturing(){"Inhouse"==this.form.controls.sourceOfManufacturing.value?(this.form.controls.supplier.setValue(null),this.form.controls.supplierPartNo.setValue(null),this.form.controls.currency.setValue(null),this.form.controls.stdCostUom1.setValue(null),this.form.controls.stdCostUom2.setValue(null),this.form.controls.supplier.disable(),this.form.controls.supplierPartNo.disable(),this.form.controls.currency.disable(),this.form.controls.stdCostUom1.disable(),this.form.controls.stdCostUom2.disable(),this.supplierDetails=[],this.btnDisable=!0):(this.form.enable(),this.btnDisable=!1,this.secondaryUnit||(this.form.controls.uom2.disable(),this.form.controls.stdCostUom2.disable()))}openSupplierDetailsModal(){if("Inhouse"!=this.form.controls.sourceOfManufacturing.value){const n=this.modalService.open(M.Nx,{centered:!0,size:"xl",backdrop:"static",keyboard:!1});n.componentInstance.action="edit"==this.action?"create":this.action,n.componentInstance.selectedSupplierDetails=this.selectedSupplierDetails,n.componentInstance.supplierOptions=this.suppliers,n.componentInstance.supplier=this.form.controls.supplier.value,n.result.then(_=>{_&&(console.log("success",_),this.selectedSupplierDetails=_?.selectedSupplierDetails,this.form.controls.supplier.setValue(_?.selectedSupplierDetails?._id),this.setSupplierCurrency(this.selectedSupplierDetails))},_=>{})}}}return(l=C).\u0275fac=function(i){return new(i||l)(e.Y36(S.Kz),e.Y36(O.RJ),e.Y36(A.kl),e.Y36(S.FF))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-child-item-supplier-modal"]],inputs:{action:"action",primaryUnit:"primaryUnit",secondaryUnit:"secondaryUnit",unitConversionFlag:"unitConversionFlag",primaryToSecondaryConversion:"primaryToSecondaryConversion",secondaryToPrimaryConversion:"secondaryToPrimaryConversion",sourceOfManufacturing:"sourceOfManufacturing",suppliers:"suppliers",supplierDetails:"supplierDetails"},decls:121,vars:31,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,""],[1,"container-fluid","px-0"],[3,"formGroup"],[1,"row","px-5","mt-4"],[1,"col-4"],[1,"form-label"],[1,"text-danger"],["bindLabel","sourceOfMfg","bindValue","sourceOfMfg","formControlName","sourceOfManufacturing",3,"items","clearable","change"],[1,"d-flex","align-items-center"],[1,"col-11"],["bindLabel","supplierName","bindValue","_id","formControlName","supplier",3,"items","clearable","change"],["id","basic-addon1",1,"input-group-text","bg-primary","pointer","col-auto","fs-4",2,"height","2.9rem",3,"click"],["aria-hidden","true",1,"fa","fa-search","text-white"],["type","text","formControlName","supplierPartNo",1,"form-control"],[1,"col-4","separate-row"],["type","text","formControlName","currency","readonly","",1,"form-control"],[1,"set-position","mt-1"],["src","./assets/new_icons/redstroke.svg","alt","","height","27","width","8"],[1,"col-8"],[1,"row"],[1,"col-5","pe-0"],[1,"d-flex"],[1,"col-4","me-1"],["type","text","class","form-control ps-2 pe-0 pointer","readonly","","placement","bottom",3,"value","ngbTooltip",4,"ngIf"],["type","text","class","form-control ps-2 pe-0 pointer","readonly","",3,"value",4,"ngIf"],[1,"input-group-text","combine-INR","text-secondary"],[1,"vr","ms-3"],["formControlName","stdCostUom1","type","number",1,"form-control","border-start-0",3,"input"],[1,"col-1","d-flex","align-items-center","justify-content-center","px-0"],[1,"d-flex","justify-content-center","mt-1"],[1,"fs-3","mt-4","text-secondary"],[1,"col-5","ps-0"],["formControlName","stdCostUom2","type","number",1,"form-control","border-start-0"],[1,"col-1","d-flex","align-items-end","ps-2"],["type","button",1,"plusIconSvg","btn","btn-primary",3,"disabled","click"],[1,"line-border","mt-4","px-5","mb-0"],[1,"row","justify-content-center","px-5"],[1,"col-12"],[3,"data","dataChange"],[1,"table-responsive",2,"min-height","17rem"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],[1,"text-start"],[4,"ngFor","ngForOf"],[1,"line-border","my-5","px-5"],[1,"text-center","mb-5"],["type","button",1,"btn","bg-primary","px-4",3,"disabled","click"],["list",""],["list2",""],["type","text","readonly","","placement","bottom",1,"form-control","ps-2","pe-0","pointer",3,"value","ngbTooltip"],["type","text","readonly","",1,"form-control","ps-2","pe-0","pointer",3,"value"],["supplierName",""],[1,"pointer",3,"ngbTooltip","positionTarget"],[1,"dropdown"],[1,"dropbtn"],[1,"dropdown-content"],["href","javascript:void(0)",3,"click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg","me-2","text-primary"],["aria-hidden","true",1,"fa","fa-pencil-square-o","fa-lg","me-2","text-primary"],["aria-hidden","true",1,"fa","fa-trash","me-2","text-primary"],["class","d-flex flex-column",4,"ngIf"],[1,"d-flex","flex-column"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Add Supplier"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return n.activeModal.close()}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"form",7)(10,"div",8)(11,"div",9)(12,"label",10),e._uU(13," Source of Manufacturing "),e.TgZ(14,"span",11),e._uU(15,"*"),e.qZA()(),e.TgZ(16,"ng-select",12),e.NdJ("change",function(){return n.setSourceOfManufacturing()}),e.qZA()(),e.TgZ(17,"div",9)(18,"label",10),e._uU(19," Supplier Name "),e.TgZ(20,"span",11),e._uU(21,"*"),e.qZA()(),e.TgZ(22,"div",13)(23,"div",14)(24,"ng-select",15),e.NdJ("change",function(g){return n.setSupplierCurrency(g)}),e.qZA()(),e.TgZ(25,"div",16),e.NdJ("click",function(){return n.openSupplierDetailsModal()}),e._UZ(26,"i",17),e.qZA()()(),e.TgZ(27,"div",9)(28,"label",10),e._uU(29," Supplier Part No. "),e.qZA(),e._UZ(30,"input",18),e.qZA()(),e.TgZ(31,"div",8)(32,"div",19)(33,"label",10),e._uU(34," Currency "),e.qZA(),e._UZ(35,"input",20),e.TgZ(36,"span",21),e._UZ(37,"img",22),e.qZA()(),e.TgZ(38,"div",23)(39,"div",24)(40,"div",25)(41,"div",26)(42,"div",27)(43,"label",10),e._uU(44,"Unit 1 "),e.TgZ(45,"span",11),e._uU(46,"*"),e.qZA()(),e.YNc(47,k,2,4,"input",28),e.YNc(48,v,2,3,"input",29),e.qZA(),e.TgZ(49,"div",23)(50,"label",10),e._uU(51," Purchase Cost "),e.TgZ(52,"span",11),e._uU(53,"*"),e.qZA()(),e.TgZ(54,"div",26)(55,"span",30),e._uU(56),e.ALo(57,"companyCurrency"),e._UZ(58,"div",31),e.qZA(),e.TgZ(59,"input",32),e.NdJ("input",function(){return n.setUnit2PurchaseCost()}),e.qZA()()()()(),e.TgZ(60,"div",33)(61,"span",34)(62,"div",35),e._uU(63,"="),e.qZA()()(),e.TgZ(64,"div",36)(65,"div",26)(66,"div",27)(67,"label",10),e._uU(68,"Unit 2"),e.qZA(),e.YNc(69,b,2,4,"input",28),e.YNc(70,E,2,3,"input",29),e.qZA(),e.TgZ(71,"div",23)(72,"label",10),e._uU(73," Purchase Cost "),e._UZ(74,"span",11),e.qZA(),e.TgZ(75,"div",26)(76,"span",30),e._uU(77),e.ALo(78,"companyCurrency"),e._UZ(79,"div",31),e.qZA(),e._UZ(80,"input",37),e.qZA()()()(),e.TgZ(81,"div",38)(82,"button",39),e.NdJ("click",function(){return n.addSuppliers()}),e.qZA()()()()()(),e._UZ(83,"hr",40),e.TgZ(84,"div",41)(85,"div",42)(86,"app-setting-header",43),e.NdJ("dataChange",function(g){return n.eventHeader(g)}),e.qZA(),e.TgZ(87,"div",44)(88,"table",45)(89,"thead",46)(90,"tr",47)(91,"th"),e._uU(92,"SN"),e.qZA(),e.TgZ(93,"th",48),e._uU(94,"Supplier Name"),e.qZA(),e.TgZ(95,"th"),e._uU(96,"Supplier Part No."),e.qZA(),e.TgZ(97,"th"),e._uU(98,"Currency"),e.qZA(),e.TgZ(99,"th"),e._uU(100,"Unit 1"),e.qZA(),e.TgZ(101,"th"),e._uU(102,"Purchase Cost"),e.qZA(),e.TgZ(103,"th"),e._uU(104,"Unit 2"),e.qZA(),e.TgZ(105,"th"),e._uU(106,"Purchase Cost"),e.qZA(),e.TgZ(107,"th"),e._uU(108,"Action"),e.qZA()()(),e.TgZ(109,"tbody"),e.YNc(110,p,34,18,"tr",49),e.ALo(111,"slice"),e.ALo(112,"searchFi1ter"),e.qZA()()()()(),e._UZ(113,"hr",50),e.TgZ(114,"div",51)(115,"button",52),e.NdJ("click",function(){return n.submit()}),e._uU(116," Save & Close "),e.qZA()()()()(),e.YNc(117,c,1,1,"ng-template",null,53,e.W1O),e.YNc(119,d,1,1,"ng-template",null,54,e.W1O)),2&i&&(e.xp6(9),e.Q6J("formGroup",n.form),e.xp6(7),e.Q6J("items",n.sourceOfMfg)("clearable",!1),e.xp6(8),e.Q6J("items",n.suppliers)("clearable",!1),e.xp6(23),e.Q6J("ngIf",n.secondaryUnit),e.xp6(1),e.Q6J("ngIf",!n.secondaryUnit),e.xp6(8),e.hij(" ",e.lcZ(57,15,"INR")," "),e.xp6(13),e.Q6J("ngIf",n.secondaryUnit),e.xp6(1),e.Q6J("ngIf",!n.secondaryUnit),e.xp6(7),e.hij(" ",e.lcZ(78,17,"INR")," "),e.xp6(5),e.Q6J("disabled",n.btnDisable||"view"==n.action),e.xp6(4),e.Q6J("data",e.l5B(26,h,n.page,n.pageSize,n.collection,n.search)),e.xp6(24),e.Q6J("ngForOf",e.Dn7(111,19,e.xi3(112,23,n.supplierDetails,n.search),(n.page-1)*n.pageSize,(n.page-1)*n.pageSize+n.pageSize)),e.xp6(5),e.Q6J("disabled","view"==n.action))},dependencies:[U.sg,U.O5,T.P,S._L,t._Y,t.Fj,t.wV,t.JJ,t.JL,t.sg,t.u,D.w9,U.OU,P.G,N.f,Z.S],encapsulation:2}),C})()},9202:(I,y,u)=>{u.d(y,{K:()=>E});var t=u(43818),o=u(65879),M=u(37285),e=u(96814),S=u(88059),O=u(95346);function A(p,f){if(1&p){const c=o.EpF();o.TgZ(0,"tr")(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td",24,25)(5,"span",26),o._uU(6),o.qZA()(),o.TgZ(7,"td"),o._uU(8),o.qZA(),o.TgZ(9,"td"),o._uU(10),o.qZA(),o.TgZ(11,"td"),o._uU(12),o.qZA(),o.TgZ(13,"td"),o._uU(14),o.qZA(),o.TgZ(15,"td")(16,"input",27),o.NdJ("change",function(){const h=o.CHM(c).$implicit,m=o.oxw();return o.KtG(m.setSelectData(h))}),o.qZA()()()}if(2&p){const c=f.$implicit,a=f.index,d=o.MAs(4),h=o.oxw();o.xp6(2),o.Oqu(null==c?null:c.value),o.xp6(1),o.Udp("width",d.clientWidth),o.xp6(2),o.Q6J("positionTarget",d)("ngbTooltip",c.goodsDescription),o.xp6(1),o.hij(" ",null==c?null:c.goodsDescription," "),o.xp6(2),o.Oqu(null==c?null:c.gstRate),o.xp6(2),o.Oqu(null==c?null:c.igstRate),o.xp6(2),o.Oqu(null==c?null:c.cgstRate),o.xp6(2),o.Oqu(null==c?null:c.sgstRate),o.xp6(2),o.MGl("name","formValue",h.HSNCodeArr[a],""),o.Q6J("disabled","view"==h.action)("checked",c.select)}}function U(p,f){1&p&&o._UZ(0,"hr",32)}function T(p,f){if(1&p){const c=o.EpF();o.TgZ(0,"div",33)(1,"button",34),o.NdJ("click",function(){o.CHM(c);const d=o.oxw(2);return o.KtG(d.dismissModel())}),o._uU(2," Save & Close "),o.qZA()()}}const D=function(){return["create"]};function P(p,f){if(1&p&&(o.ynx(0),o.TgZ(1,"div",28)(2,"div",29),o.YNc(3,U,1,0,"hr",30),o.qZA()(),o.YNc(4,T,3,0,"div",31),o.BQk()),2&p){const c=o.oxw();o.xp6(3),o.Q6J("ngIf",o.DdM(2,D).includes(c.action)),o.xp6(1),o.Q6J("ngIf",o.DdM(3,D).includes(c.action))}}function N(p,f){1&p&&o._UZ(0,"hr",32)}function Z(p,f){if(1&p){const c=o.EpF();o.TgZ(0,"div",33)(1,"button",34),o.NdJ("click",function(){o.CHM(c);const d=o.oxw(2);return o.KtG(d.dismissModel())}),o._uU(2," Save & Close "),o.qZA()()}}const k=function(){return["view"]};function v(p,f){if(1&p&&(o.ynx(0),o.TgZ(1,"div",28)(2,"div",29),o.YNc(3,N,1,0,"hr",30),o.qZA()(),o.YNc(4,Z,3,0,"div",31),o.BQk()),2&p){const c=o.oxw();o.xp6(3),o.Q6J("ngIf",!o.DdM(2,k).includes(c.action)),o.xp6(1),o.Q6J("ngIf",!o.DdM(3,k).includes(c.action))}}const b=function(p,f,c,a){return{page:p,pageSize:f,collection:c,search:a,excelDisplay:"none"}};let E=(()=>{var p;class f{constructor(a){this.activeModal=a,this.action="edit",this.HSNValue="",this.HSNCode="",this.editScreen="",this.HSNCodeArr=[],this.btnDisable=!1,this.page=1,this.pageSize=9,this.collection=0,this.search="",this.column="createdAt",this.direction=-1,this.HSNSelect=null,this.HSNSelectCode=null}ngOnInit(){(this.HSNValue||this.HSNCode)&&(this.HSNSelect=this.HSNValue,this.HSNSelectCode=this.HSNCode,this.HSNCodeArr=this.HSNCodeArr.map(a=>(a.select=!1,a.value==this.HSNCode&&(a.select=!0),a))),this.collection=this.HSNCodeArr.length}setSelectData(a){this.HSNSelect=a?._id,this.HSNSelectCode=a?.value}dismissModel(){let a={};a.HSNSelect=this.HSNSelect,a.HSNSelectCode=this.HSNSelectCode,this.activeModal.close(a)}eventHeader(a){switch(a.key){case"SEARCH":this.search=a.value;break;case"EXCEL":default:break;case"PAGE":this.page=a.value}}onSort({column:a,direction:d}){this.headers.forEach(h=>{h.sortable!==a&&(h.direction="")}),this.HSNCodeArr=""===d||""===a?this.HSNCodeArr:[...this.HSNCodeArr].sort((h,m)=>{let l="string"==typeof h[a]?h[a].toLowerCase():h[a],C="string"==typeof m[a]?m[a].toLowerCase():m[a];const s=l<C?-1:l>C?1:0;return"asc"===d?s:-s})}}return(p=f).\u0275fac=function(a){return new(a||p)(o.Y36(M.Kz))},p.\u0275cmp=o.Xpm({type:p,selectors:[["app-ink-hsn-modal"]],viewQuery:function(a,d){if(1&a&&o.Gf(t.j,5),2&a){let h;o.iGM(h=o.CRH())&&(d.headers=h)}},inputs:{action:"action",HSNValue:"HSNValue",HSNCode:"HSNCode",editScreen:"editScreen",HSNCodeArr:"HSNCodeArr"},decls:37,vars:16,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,""],[1,"container-fluid"],[1,"row","justify-content-center"],[1,"col-12","px-0","mt-4"],[1,"px-5","mt-0"],[3,"data","dataChange"],[1,"table-responsive","px-5",2,"min-height","33rem"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],["sortable","value",3,"sort"],["sortable","goodsDescription",1,"text-start",3,"sort"],["sortable","gstRate",3,"sort"],["sortable","igstRate",3,"sort"],["sortable","cgstRate",3,"sort"],["sortable","sgstRate",3,"sort"],["sortable","UOM",3,"sort"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-start"],["goodsDescription",""],[1,"pointer",3,"positionTarget","ngbTooltip"],["type","radio",1,"form-check-input","pointer",3,"disabled","name","checked","change"],[1,"row"],[1,"col","px-0","mb-3"],["class","line-border",4,"ngIf"],["class","text-center mb-2",4,"ngIf"],[1,"line-border"],[1,"text-center","mb-2"],["type","button",1,"btn","bg-primary","px-5","mb-4",3,"click"]],template:function(a,d){1&a&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2),o._uU(3,"HSN Master"),o.qZA(),o.TgZ(4,"div")(5,"button",3),o.NdJ("click",function(){return d.activeModal.close()}),o._UZ(6,"i",4),o.qZA()()(),o.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"app-setting-header",10),o.NdJ("dataChange",function(m){return d.eventHeader(m)}),o.qZA()(),o.TgZ(13,"div",11)(14,"table",12)(15,"thead",13)(16,"tr",14)(17,"th",15),o.NdJ("sort",function(m){return d.onSort(m)}),o._uU(18,"HSN Code"),o.qZA(),o.TgZ(19,"th",16),o.NdJ("sort",function(m){return d.onSort(m)}),o._uU(20," Description of Goods "),o.qZA(),o.TgZ(21,"th",17),o.NdJ("sort",function(m){return d.onSort(m)}),o._uU(22,"GST Rate %"),o.qZA(),o.TgZ(23,"th",18),o.NdJ("sort",function(m){return d.onSort(m)}),o._uU(24,"IGST Rate %"),o.qZA(),o.TgZ(25,"th",19),o.NdJ("sort",function(m){return d.onSort(m)}),o._uU(26,"CGST Rate %"),o.qZA(),o.TgZ(27,"th",20),o.NdJ("sort",function(m){return d.onSort(m)}),o._uU(28,"SGST Rate %"),o.qZA(),o.TgZ(29,"th",21),o.NdJ("sort",function(m){return d.onSort(m)}),o._uU(30,"Select"),o.qZA()()(),o.TgZ(31,"tbody"),o.YNc(32,A,17,13,"tr",22),o.ALo(33,"slice"),o.ALo(34,"searchFi1ter"),o.qZA()()()()(),o.YNc(35,P,5,4,"ng-container",23),o.YNc(36,v,5,4,"ng-container",23),o.qZA()()()),2&a&&(o.xp6(12),o.Q6J("data",o.l5B(11,b,d.page,d.pageSize,d.collection,d.search)),o.xp6(20),o.Q6J("ngForOf",o.Dn7(33,4,o.xi3(34,8,d.HSNCodeArr,d.search),(d.page-1)*d.pageSize,(d.page-1)*d.pageSize+d.pageSize)),o.xp6(3),o.Q6J("ngIf","Edit Screen"!=d.editScreen),o.xp6(1),o.Q6J("ngIf","Edit Screen"==d.editScreen))},dependencies:[e.sg,e.O5,S.P,M._L,t.j,e.OU,O.G],encapsulation:2}),f})()},13107:(I,y,u)=>{u.d(y,{t:()=>t});const t={width:24,style:{alignment:{vertical:"middle",horizontal:"center",wrapText:!0}}}},28402:(I,y,u)=>{u.d(y,{J:()=>t});const t=({data:o,headers:M,widths:e,title:S})=>({tableData:{widths:e,headerRows:1,body:[M.map(U=>({text:U.header,style:"header"})),...o.map(U=>M.map(T=>({style:"subheader",text:U[T.key]})))]},title:S})},65129:(I,y,u)=>{u.d(y,{o7:()=>A,W0:()=>O,_D:()=>fe,xD:()=>me,TN:()=>N,CE:()=>P,cz:()=>E,Xg:()=>b,B7:()=>pe,cX:()=>d,W5:()=>a,FY:()=>R,t_:()=>g,sm:()=>Te,t8:()=>Se,KY:()=>ie,lX:()=>re,e7:()=>Me,Do:()=>ye,PQ:()=>ce,OX:()=>de,rw:()=>ae,EW:()=>se,Tf:()=>De,$k:()=>Ae});var t=u(13107),o=u(28402);let M=["*","*","*","*","*","*","*","*","*"],e="Bill of Material (BoM) of Child Item",S=[{header:"BoM No.",key:"BOMNo",...t.t},{header:"Item Code",key:"childItemCode",...t.t},{header:"Item Name",key:"childItemName",...t.t},{header:"Item Description",key:"childItemDescription",...t.t},{header:"UoM",key:"UOM",...t.t},{header:"Part Count",key:"partCount",...t.t},{header:"Material Cost",key:"totalMaterialCost",...t.t},{header:"Status",key:"status",...t.t}];const O=r=>({title:e,csvData:r,headers:S}),A=r=>(0,o.J)({data:r,headers:S,widths:M,title:e});let U=["*","*","*","*","*","*","*","*"],T="Bill of Material (BoM) of Gr. Child Item",D=[{header:"BoM No.",key:"BOMNo",...t.t},{header:"Item Code",key:"grandChildItemCode",...t.t},{header:"Item Name",key:"grandChildItemName",...t.t},{header:"Item Description",key:"grandChildItemDescription",...t.t},{header:"UoM",key:"UOM",...t.t},{header:"Part Count",key:"partCount",...t.t},{header:"Material Cost",key:"totalMaterialCost",...t.t},{header:"Status",key:"status",...t.t}];const P=r=>({title:T,csvData:r,headers:D}),N=r=>(0,o.J)({data:r,headers:D,widths:U,title:T});let Z=["*","*","*","*","*","*","*","*","*","*"],k="Bill of Material (BoM) of Product",v=[{header:"BoM No.",key:"BOMNo",...t.t},{header:"Product No.",key:"productNo",...t.t},{header:"Product Category",key:"productCategory",...t.t},{header:"Product Name",key:"productName",...t.t},{header:"Product Description",key:"productDescription",...t.t},{header:"UoM",key:"UOM",...t.t},{header:"Part Count",key:"partCount",...t.t},{header:"Material Cost",key:"totalMaterialCost",...t.t},{header:"Status",key:"status",...t.t}];const b=r=>({title:k,csvData:r,headers:v}),E=r=>(0,o.J)({data:r,headers:v,widths:Z,title:k});let p=["*","*","*","*","*","*","*","*","*"],f="Bill of Material (BoM) of SKU",c=[{header:"BoM No.",key:"BOMNo",...t.t},{header:"SKU Code",key:"SKUCode",...t.t},{header:"SKU Name",key:"SKUName",...t.t},{header:"SKU Description",key:"SKUDescription",...t.t},{header:"UoM",key:"UOM",...t.t},{header:"Part Count",key:"partCount",...t.t},{header:"Total Material Cost",key:"totalMaterialCost",...t.t},{header:"Status",key:"status",...t.t}];const a=r=>({title:f,csvData:r,headers:c}),d=r=>(0,o.J)({data:r,headers:c,widths:p,title:f});let i=["*","*","*","*","*","*","*","*","*","*"],n="Child Item Master",_=[{header:"Child Item Category ",key:"childItemCategory",...t.t},{header:"Item Code",key:"itemCode",...t.t},{header:"Item Name",key:"itemName",...t.t},{header:"Item Description",key:"itemDescription",...t.t},{header:"UoM",key:"unitOfMeasurement",...t.t},{header:"HSN Code",key:"HSNCode",...t.t},{header:"Item Cost",key:"itemCost",...t.t},{header:"Source of mfg.",key:"sourceOfManufacturing",...t.t},{header:"Shelf Life (Months)",key:"shelfLife",...t.t},{header:"Status",key:"status",...t.t}];const g=r=>({title:n,csvData:r,headers:_}),R=r=>(0,o.J)({data:r,headers:_,widths:i,title:n});let oe=["*","*","*","*","*","*","*","*","*","*","*","*","*","*","*","*"],x="Gr. Child Item Master",H=[{header:"Gr. Child Item Category ",key:"childItemCategory",...t.t},{header:"Item Code",key:"itemCode",...t.t},{header:"Item Name",key:"itemName",...t.t},{header:"Item Description",key:"itemDescription",...t.t},{header:"UoM",key:"unitOfMeasurement",...t.t},{header:"HSN Code",key:"HSNCode",...t.t},{header:"Item Cost",key:"itemCost",...t.t},{header:"Shelf Life (M) ",key:"shelfLife",...t.t},{header:"Source of mfg.",key:"sourceOfManufacturing",...t.t},{header:"Status",key:"status",...t.t}];const re=r=>({title:x,csvData:r,headers:H}),ie=r=>(0,o.J)({data:r,headers:H,widths:oe,title:x});let ne=["*","*","*","*","*","*","*","*","*","*","*","*"],w="Product Master",F=[{header:"Product No.",key:"productNo",...t.t},{header:"Product Category/Code",key:"productCategory",...t.t},{header:"Product Name",key:"productName",...t.t},{header:"Product Description",key:"productDescription",...t.t},{header:"HSN Code",key:"hsn",...t.t},{header:"UoM",key:"primaryUnit",...t.t},{header:"Unit Cost",key:"unitCost",...t.t},{header:"Source Of MFG.",key:"sourceOfMFG",...t.t},{header:"Shelf Life [Months]",key:"shelfLife",...t.t},{header:"Storage Temperature",key:"storageTemp",...t.t},{header:"Storage Humidity",key:"storageHumidity",...t.t}];const se=r=>({title:w,csvData:r,headers:F}),ae=r=>(0,o.J)({data:r,headers:F,widths:ne,title:w});let le=["*","*","*","*","*","*","*","*","*"],K="Process Resource Management",q=[{header:"Process Name",key:"processName",...t.t},{header:"Work Centre/Machine Name",key:"machineName",...t.t},{header:"# of Manpower",key:"noOfManpower",...t.t},{header:"Output/hr",key:"outputPerHr",...t.t},{header:"Labour Cost/hr",key:"labourCostPerHr",...t.t},{header:"Power consumption cost/hr",key:"powerConsumptionPerHr",...t.t}];const de=r=>({title:K,csvData:r,headers:q}),ce=r=>(0,o.J)({data:r,headers:q,widths:le,title:K});let G=[{header:"Item Code",key:"itemCode",...t.t},{header:"Item Name",key:"itemName",...t.t},{header:"Item Description",key:"itemDescription",...t.t},{header:"UoM",key:"UOM",...t.t},{header:"Qty/SKU Unit",key:"qtyPerSKUUnit",...t.t},{header:"Waste %",key:"wastePercentage",...t.t},{header:"Qty/Part Count",key:"partCount",...t.t},{header:"Unit Cost",key:"unitCost",...t.t},{header:"Item Cost",key:"itemCost",...t.t}];const pe=r=>({title:"Bill of Material (BoM) of SKU",csvData:r,headers:G});let V=[{header:"Item Code<",key:"itemCode",...t.t},{header:"Item Name",key:"itemName",...t.t},{header:"Item Description",key:"itemDescription",...t.t},{header:"UoM",key:"UOM",...t.t},{header:"Qty/SKU Unit",key:"qtyPerSKUUnit",...t.t},{header:"Waste %",key:"wastePercentage",...t.t},{header:"Qty/Part Count",key:"partCount",...t.t},{header:"Unit Cost",key:"unitCost",...t.t},{header:"Item Cost",key:"itemCost",...t.t}];const me=r=>({title:"BOM Of Grand Child Part",csvData:r,headers:V});let Y=[{header:"Item Code",key:"itemCode",...t.t},{header:"Item Name",key:"itemName",...t.t},{header:"Item Description",key:"itemDescription",...t.t},{header:"UoM",key:"UOM",...t.t},{header:"Qty/SKU Unit",key:"qtyPerSKUUnit",...t.t},{header:"Waste %",key:"wastePercentage",...t.t},{header:"Qty/Part Count",key:"partCount",...t.t},{header:"Unit Cost",key:"unitCost",...t.t},{header:"Item Cost",key:"itemCost",...t.t}];const fe=r=>({title:"Bill of Material (BoM) of D-SKU",csvData:r,headers:Y});let ge=["*","*","*","*","*","*","*"],z="Process Master",j=[{header:"Process ID",key:"processId",...t.t},{header:"Process Name",key:"processName",...t.t},{header:"Source",key:"sourceOfManufacturing",...t.t},{header:"Primary Assets/Allocation",key:"primaryAssetAllocation",...t.t},{header:"Std.Output/H",key:"unitProcessOutput",...t.t},{header:"Labour Rate/Hr",key:"totalRatePerHr",...t.t},{header:"Asset Rate/Hr",key:"totalAllocatedAssetCostPerHr",...t.t}];const ye=r=>({title:z,csvData:r,headers:j}),Me=r=>(0,o.J)({data:r,headers:j,widths:ge,title:z});let Ue=["*","*","*","*","*","*","*","*","*","*","*"],X="Direct Cost",$=[{header:"Product Category",key:"productCategory",...t.t},{header:"SKU No.",key:"SKUNo",...t.t},{header:"SKU Name",key:"SKUName",...t.t},{header:"SKU Description",key:"SKUDescription",...t.t},{header:"UoM",key:"UOM",...t.t},{header:"Labour Cost/Unit",key:"totalLabourCostPerUnit",...t.t},{header:"Asset Cost/Unit",key:"totalAssetCostPerUnit",...t.t},{header:"Tooling Cost/Unit",key:"totalToolingCostPerUnit",...t.t},{header:"Total Direct Process Cost/Unit",key:"totalCostPerUnit",...t.t}];const Se=r=>({title:X,csvData:r,headers:$}),Te=r=>(0,o.J)({data:r,headers:$,widths:Ue,title:X});let Oe=["*","*","*","*","*","*","*","*","*","*","*","*"],ee="SKU Cost Sheet",te=[{header:"SKU No",key:"SKUNo",...t.t},{header:"SKU Name",key:"SKUName",...t.t},{header:"SKU Description",key:"SKUDescription",...t.t},{header:"UoM",key:"UOM",...t.t},{header:"COGS",key:"costOfGoodsSold",...t.t},{header:"OPEX",key:"operatingExpenses",...t.t},{header:"Total COO",key:"totalCostOfOperation",...t.t},{header:"Profit",key:"profit",...t.t},{header:"Selling Price",key:"sellingPrice",...t.t}];const Ae=r=>({title:ee,csvData:r,headers:te}),De=r=>(0,o.J)({data:r,headers:te,widths:Oe,title:ee})},72370:(I,y,u)=>{u.d(y,{ax:()=>t,ji:()=>M});const t=[{message:"Child Item Category is required",key:"childItemCategory"},{message:"Item Code is required",key:"itemCode"},{message:"Item Name is required",key:"itemName"},{message:"Item Description is required",key:"itemDescription"},{message:"HSN Code is required",key:"HSN"},{message:"Unit of Measuremen is required",key:"unitOfMeasurement"},{message:"Dual Units is required",key:"primaryUnit"},{message:"Item Cost (Exclusive of GS T) is required",key:"itemCost"},{message:"Source of Manufacturing is required",key:"sourceOfManufacturing"}],M=[]}}]);