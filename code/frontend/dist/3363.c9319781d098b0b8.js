"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[3363],{61441:(y,v,r)=>{r.d(v,{Q:()=>m});var l=r(43818),t=r(65879),e=r(37285),C=r(96814),M=r(88059),Z=r(95346);const h=function(){return["view","edit","rejection","reject","approval","approve","cancel"]};function _(f,T){if(1&f){const a=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",26,27)(7,"span",28),t._uU(8),t.qZA()(),t.TgZ(9,"td",26,29)(11,"span",28),t._uU(12),t.qZA()(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td")(18,"input",30),t.NdJ("change",function(){const n=t.CHM(a).$implicit,i=t.oxw();return t.KtG(i.setSelectData(n))}),t.qZA()()()}if(2&f){const a=T.$implicit,p=T.index,s=t.MAs(6),n=t.MAs(10),i=t.oxw();t.xp6(2),t.Oqu(null==a?null:a.jobCardNo),t.xp6(2),t.Oqu(null==a?null:a.SKUNo),t.xp6(1),t.Udp("width",s.clientWidth),t.xp6(2),t.Q6J("ngbTooltip",a.SKUName)("positionTarget",s),t.xp6(1),t.hij(" ",a.SKUName," "),t.xp6(1),t.Udp("width",n.clientWidth),t.xp6(2),t.Q6J("ngbTooltip",a.SKUDescription)("positionTarget",n),t.xp6(1),t.hij(" ",a.SKUDescription," "),t.xp6(2),t.Oqu(null==a?null:a.UOM),t.xp6(2),t.Oqu(null==a?null:a.batchQty),t.xp6(2),t.MGl("name","formValue",i.JCOptions[p],""),t.Q6J("disabled",t.DdM(17,h).includes(i.action))("checked",a.select)}}function b(f,T){1&f&&t._UZ(0,"hr",31)}function g(f,T){if(1&f){const a=t.EpF();t.TgZ(0,"div",32)(1,"button",33),t.NdJ("click",function(){t.CHM(a);const s=t.oxw();return t.KtG(s.dismissModel())}),t._uU(2,"Save & Close"),t.qZA()()}}const u=function(f,T,a,p){return{page:f,pageSize:T,collection:a,search:p,excelDisplay:"none"}};let m=(()=>{class f{constructor(a){this.activeModal=a,this.action="edit",this.jobCard="",this.JCOptions=[],this.selectedJobCardDetails={},this.btnDisable=!1,this.page=1,this.pageSize=9,this.collection=0,this.search="",this.column="jobCardNo",this.direction=-1}ngOnInit(){this.jobCard&&(this.selectedJobCardDetails._id=this.jobCard,this.JCOptions=this.JCOptions?.map(a=>(a.select=!1,a._id==this.jobCard&&(a.select=!0),a))),this.collection=this.JCOptions?.length}setSelectData(a){this.selectedJobCardDetails=a}dismissModel(){let a={};a.selectedJobCardDetails=this.selectedJobCardDetails,this.activeModal.close(a)}eventHeader(a){switch(a.key){case"SEARCH":this.search=a.value;break;case"EXCEL":default:break;case"PAGE":this.page=a.value}}onSort({column:a,direction:p}){this.headers.forEach(s=>{s.sortable!==a&&(s.direction="")}),this.JCOptions=""===p||""===a?this.JCOptions:[...this.JCOptions].sort((s,n)=>{let i="string"==typeof s[a]?s[a].toLowerCase():s[a],o="string"==typeof n[a]?n[a].toLowerCase():n[a];const d=i<o?-1:i>o?1:0;return"asc"===p?d:-d})}static#t=this.\u0275fac=function(p){return new(p||f)(t.Y36(e.Kz))};static#e=this.\u0275cmp=t.Xpm({type:f,selectors:[["app-job-card-details-modal"]],viewQuery:function(p,s){if(1&p&&t.Gf(l.j,5),2&p){let n;t.iGM(n=t.CRH())&&(s.headers=n)}},inputs:{action:"action",jobCard:"jobCard",JCOptions:"JCOptions",selectedJobCardDetails:"selectedJobCardDetails"},decls:39,vars:18,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,""],[1,"container-fluid"],[1,"row","justify-content-center"],[1,"col-12","px-0","mt-4"],[1,"px-5","mt-0"],[3,"data","dataChange"],[1,"table-responsive","px-5",2,"min-height","33rem"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],["sortable","jobCardNo",3,"sort"],["sortable","SKUNo",3,"sort"],["sortable","SKUName",1,"text-start",3,"sort"],["sortable","SKUDescription",1,"text-start",3,"sort"],["sortable","UOM",3,"sort"],["sortable","batchQty",3,"sort"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col","px-0","mb-3"],["class","line-border",4,"ngIf"],["class","text-center mb-2",4,"ngIf"],[1,"text-start"],["SKUName",""],[1,"pointer",3,"ngbTooltip","positionTarget"],["SKUDescription",""],["type","radio",1,"form-check-input","pointer",3,"disabled","name","checked","change"],[1,"line-border"],[1,"text-center","mb-2"],["type","button",1,"btn","bg-primary","px-5","mb-4",3,"click"]],template:function(p,s){1&p&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Select Job Card"),t.qZA(),t.TgZ(4,"div")(5,"button",3),t.NdJ("click",function(){return s.activeModal.close()}),t._UZ(6,"i",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"app-setting-header",10),t.NdJ("dataChange",function(i){return s.eventHeader(i)}),t.qZA()(),t.TgZ(13,"div",11)(14,"table",12)(15,"thead",13)(16,"tr",14)(17,"th",15),t.NdJ("sort",function(i){return s.onSort(i)}),t._uU(18,"Job Card No."),t.qZA(),t.TgZ(19,"th",16),t.NdJ("sort",function(i){return s.onSort(i)}),t._uU(20,"SKU No."),t.qZA(),t.TgZ(21,"th",17),t.NdJ("sort",function(i){return s.onSort(i)}),t._uU(22,"SKU Name"),t.qZA(),t.TgZ(23,"th",18),t.NdJ("sort",function(i){return s.onSort(i)}),t._uU(24," SKU Description "),t.qZA(),t.TgZ(25,"th",19),t.NdJ("sort",function(i){return s.onSort(i)}),t._uU(26,"UoM"),t.qZA(),t.TgZ(27,"th",20),t.NdJ("sort",function(i){return s.onSort(i)}),t._uU(28,"Batch Qty."),t.qZA(),t.TgZ(29,"th"),t._uU(30,"Select"),t.qZA()()(),t.TgZ(31,"tbody"),t.YNc(32,_,19,18,"tr",21),t.ALo(33,"slice"),t.ALo(34,"searchFi1ter"),t.qZA()()()()(),t.TgZ(35,"div",22)(36,"div",23),t.YNc(37,b,1,0,"hr",24),t.qZA()(),t.YNc(38,g,3,0,"div",25),t.qZA()()()),2&p&&(t.xp6(12),t.Q6J("data",t.l5B(11,u,s.page,s.pageSize,s.collection,s.search)),t.xp6(20),t.Q6J("ngForOf",t.Dn7(33,4,t.xi3(34,8,s.JCOptions,s.search),(s.page-1)*s.pageSize,(s.page-1)*s.pageSize+s.pageSize)),t.xp6(5),t.Q6J("ngIf",!t.DdM(16,h).includes(s.action)),t.xp6(1),t.Q6J("ngIf",!t.DdM(17,h).includes(s.action)))},dependencies:[C.sg,C.O5,M.P,e._L,l.j,C.OU,Z.G],encapsulation:2})}return f})()},84531:(y,v,r)=>{r.d(v,{p:()=>a});var l=r(43818),t=r(32183),e=r(65879),C=r(37285),M=r(99328),Z=r(96814),h=r(88059),_=r(60095),b=r(95346);const g=function(){return{standalone:!0}};function u(p,s){if(1&p){const n=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",44),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"div",45)(15,"input",46),e.NdJ("ngModelChange",function(o){const c=e.CHM(n).$implicit;return e.KtG(c.MF=o)})("ngModelChange",function(){const d=e.CHM(n).$implicit,c=e.oxw();return e.KtG(c.changeBatchQty(d))}),e.qZA()()(),e.TgZ(16,"td",47),e._uU(17),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.qZA()()}if(2&p){const n=s.$implicit,i=e.oxw();e.xp6(2),e.Oqu(null==n?null:n.SN),e.xp6(2),e.hij(" ",null==n?null:n.itemCode," "),e.xp6(2),e.Oqu(null==n?null:n.itemName),e.xp6(2),e.Oqu(null==n?null:n.itemDescription),e.xp6(2),e.Oqu(null==n?null:n.quantity1),e.xp6(2),e.Oqu(null==n?null:n.UOM1),e.xp6(3),e.Q6J("ngModel",n.MF)("ngModelOptions",e.DdM(11,g))("readonly","view"===i.action),e.xp6(2),e.Oqu(null==n?null:n.quantity2),e.xp6(2),e.Oqu(null==n?null:n.UOM2)}}function m(p,s){if(1&p){const n=e.EpF();e.TgZ(0,"div",48)(1,"button",49),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return e.KtG(o.reset())}),e._uU(2,"Reset"),e.qZA(),e.TgZ(3,"button",50),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return e.KtG(o.dismissModel())}),e._uU(4,"Save & close"),e.qZA()()}}const f=function(p,s,n,i){return{page:p,pageSize:s,collection:n,search:i,excelDisplay:"none"}},T=function(){return["view"]};let a=(()=>{class p{constructor(n,i,o,d){this.activeModal=n,this.spinner=i,this.toastService=o,this.modalService=d,this.sourceOfManufacturing="",this.inkLogNewBatch={},this.shiftOptions=[],this.action="",this.resetData=[],this.collection=0,this.page=1,this.pageSize=4,this.column="createdAt",this.direction=-1,this.search="",this.active=1,this.batchDateNo="",this.totalQty=0}trackByFn(n,i){return i?._id}ngOnInit(){this.resetData=JSON.parse(JSON.stringify(this.inkLogNewBatch)),this.collection=this.inkLogNewBatch.length,(0==this.inkLogNewBatch?.newBatch?.length||!this.inkLogNewBatch?.newBatch)&&this.toastService.warning("Please define the Bill of Material of the SKU"),this.totalQty=this.inkLogNewBatch?.newBatch?.reduce((n,i)=>+n+ +i.quantity1,0),this.inkLogNewBatch.inkBatchQty=+this.totalQty*+this.inkLogNewBatch?.MF}changeTotalBatchQty(){this.inkLogNewBatch.inkBatchQty=+(+this.totalQty*+this.inkLogNewBatch?.MF).toFixed(3),this.inkLogNewBatch.newBatch=this.inkLogNewBatch?.newBatch?.map(n=>(n.MF=+this.inkLogNewBatch?.MF,n.quantity2=+(n.quantity1*n.MF).toFixed(3),n))}changeBatchQty(n){let i=this.inkLogNewBatch.newBatch.map(o=>o.item).indexOf(n?.item);this.inkLogNewBatch.newBatch[i].quantity2=+(n.quantity1*n.MF).toFixed(3)}reset(){this.inkLogNewBatch=JSON.parse(JSON.stringify(this.resetData)),this.collection=this.inkLogNewBatch.length}dismissModel(){this.activeModal.close({inkLogNewBatch:this.inkLogNewBatch})}eventHeader(n){switch(n.key){case"SEARCH":this.search=n.value;break;case"EXCEL":default:break;case"PAGE":this.page=n.value}}openLogEntryModal(){const n=this.modalService.open(t.M,{centered:!0,size:"md",backdrop:"static",keyboard:!1});n.componentInstance.action=this.action,n.componentInstance.logDetails=this.inkLogNewBatch.logDetails,n.componentInstance.shiftOptions=this.shiftOptions,n.componentInstance.sourceOfManufacturing=this.sourceOfManufacturing,n.result.then(i=>{i&&(console.log("success",i),this.inkLogNewBatch.logDetails=i)},i=>{})}onSort({column:n,direction:i}){this.headers.forEach(o=>{o.sortable!==n&&(o.direction="")}),this.inkLogNewBatch=""===i||""===n?this.inkLogNewBatch:[...this.inkLogNewBatch].sort((o,d)=>{let c="string"==typeof o[n]?o[n].toLowerCase():o[n],U="string"==typeof d[n]?d[n].toLowerCase():d[n];const A=c<U?-1:c>U?1:0;return"asc"===i?A:-A})}static#t=this.\u0275fac=function(i){return new(i||p)(e.Y36(C.Kz),e.Y36(M.V),e.Y36(M.kl),e.Y36(C.FF))};static#e=this.\u0275cmp=e.Xpm({type:p,selectors:[["app-ink-mixing-log-batch"]],viewQuery:function(i,o){if(1&i&&e.Gf(l.j,5),2&i){let d;e.iGM(d=e.CRH())&&(o.headers=d)}},inputs:{sourceOfManufacturing:"sourceOfManufacturing",inkLogNewBatch:"inkLogNewBatch",shiftOptions:"shiftOptions",action:"action"},decls:86,vars:26,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container-fluid","mt-4"],[1,"row","mb-2","px-4"],[1,"col-7"],[1,"row"],[1,"col-3"],[1,"form-label","mb-0"],["type","text","readonly","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-5","ps-2"],[1,"col-4","px-2"],[1,"col-5"],[1,"col-6"],[1,"col-7","ps-2"],["type","number","readonly","",1,"form-control","bg-white-smoke",3,"ngModel","ngModelChange"],["type","number",1,"form-control","form-control-sm",3,"ngModel","ngModelOptions","ngModelChange"],["type","number","readonly","",1,"form-control","bg-pink-color",3,"ngModel","ngModelChange"],[1,"row","mt-4"],[1,"col","px-0"],[1,"line-border","mb-0"],[1,"col-12","px-5"],[3,"data","dataChange"],[1,"table-responsive",2,"min-height","19.2rem"],[1,"table","table-bordered","table-sticky","mt-1"],[1,"bg-primary"],[1,"text-white"],["sortable","seq",3,"sort"],["sortable","specificationCode",3,"sort"],["sortable","characteristic",1,"text-start",3,"sort"],["sortable","testStandard",3,"sort"],["sortable","UOM",3,"sort"],["sortable","measuringInstrument",3,"sort"],["sortable","LTL",3,"sort"],["sortable","specValue",3,"sort"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"line-border","mt-0"],[1,"row","px-4","mb-3"],[1,"col-4"],[1,"plusIconSvg","btn","btn-primary","me-1"],["type","button",1,"btn","btn-primary","px-3","me-4",3,"click"],["class","col-8 d-flex justify-content-end",4,"ngIf"],[1,"bg-white-smoke"],[1,"d-flex","justify-content-center"],["type","number",1,"form-control","form-control-sm",3,"ngModel","ngModelOptions","readonly","ngModelChange"],[1,"bg-pink-color"],[1,"col-8","d-flex","justify-content-end"],["type","button",1,"btn","btn-primary","px-5","me-4",3,"click"],["type","button",1,"btn","btn-primary","px-4",3,"click"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Ink Mixing Log (Entry)"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return o.activeModal.close()}),e._UZ(6,"i",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),e._uU(13," F20 Ink Code "),e.qZA(),e.TgZ(14,"input",11),e.NdJ("ngModelChange",function(c){return o.inkLogNewBatch.colourCode=c}),e.qZA()(),e.TgZ(15,"div",12)(16,"label",10),e._uU(17," F20 Ink Name"),e.qZA(),e.TgZ(18,"input",11),e.NdJ("ngModelChange",function(c){return o.inkLogNewBatch.colourName=c}),e.qZA()(),e.TgZ(19,"div",13)(20,"label",10),e._uU(21," F20 Ink Description "),e.qZA(),e.TgZ(22,"input",11),e.NdJ("ngModelChange",function(c){return o.inkLogNewBatch.colourDescription=c}),e.qZA()()()(),e.TgZ(23,"div",14)(24,"div",8)(25,"div",15)(26,"div",8)(27,"div",14)(28,"label",10),e._uU(29," UoM "),e.qZA(),e.TgZ(30,"input",11),e.NdJ("ngModelChange",function(c){return o.inkLogNewBatch.UOM=c}),e.qZA()(),e.TgZ(31,"div",16)(32,"label",10),e._uU(33," M/Batch Total "),e.qZA(),e.TgZ(34,"input",17),e.NdJ("ngModelChange",function(c){return o.inkLogNewBatch.BOMQty=c}),e.qZA()()()(),e.TgZ(35,"div",15)(36,"div",8)(37,"div",12)(38,"label",10),e._uU(39," *MF "),e.qZA(),e.TgZ(40,"input",18),e.NdJ("ngModelChange",function(c){return o.inkLogNewBatch.MF=c})("ngModelChange",function(){return o.changeTotalBatchQty()}),e.qZA()(),e.TgZ(41,"div",16)(42,"label",10),e._uU(43," Batch Qty "),e.qZA(),e.TgZ(44,"input",19),e.NdJ("ngModelChange",function(c){return o.inkLogNewBatch.inkBatchQty=c}),e.qZA()()()()()()(),e.TgZ(45,"div",20)(46,"div",21),e._UZ(47,"hr",22),e.qZA()(),e.TgZ(48,"div",8)(49,"div",23)(50,"app-setting-header",24),e.NdJ("dataChange",function(c){return o.eventHeader(c)}),e.qZA(),e.TgZ(51,"div",25)(52,"table",26)(53,"thead",27)(54,"tr",28)(55,"th",29),e.NdJ("sort",function(c){return o.onSort(c)}),e._uU(56,"SN"),e.qZA(),e.TgZ(57,"th",30),e.NdJ("sort",function(c){return o.onSort(c)}),e._uU(58,"Item Code"),e.qZA(),e.TgZ(59,"th",31),e.NdJ("sort",function(c){return o.onSort(c)}),e._uU(60,"Item Name"),e.qZA(),e.TgZ(61,"th",31),e.NdJ("sort",function(c){return o.onSort(c)}),e._uU(62," Item Description "),e.qZA(),e.TgZ(63,"th",32),e.NdJ("sort",function(c){return o.onSort(c)}),e._uU(64,"Quantity"),e.qZA(),e.TgZ(65,"th",33),e.NdJ("sort",function(c){return o.onSort(c)}),e._uU(66,"UoM"),e.qZA(),e.TgZ(67,"th",34),e.NdJ("sort",function(c){return o.onSort(c)}),e._uU(68,"*MF"),e.qZA(),e.TgZ(69,"th",35),e.NdJ("sort",function(c){return o.onSort(c)}),e._uU(70,"Quantity"),e.qZA(),e.TgZ(71,"th",36),e.NdJ("sort",function(c){return o.onSort(c)}),e._uU(72,"UoM"),e.qZA()()(),e.TgZ(73,"tbody"),e.YNc(74,u,20,12,"tr",37),e.ALo(75,"slice"),e.ALo(76,"searchFi1ter"),e.qZA()()()()(),e.TgZ(77,"div",20)(78,"div",21),e._UZ(79,"hr",38),e.qZA()(),e.TgZ(80,"div",39)(81,"div",40),e._UZ(82,"button",41),e.TgZ(83,"button",42),e.NdJ("click",function(){return o.openLogEntryModal()}),e._uU(84,"Log Entry"),e.qZA()(),e.YNc(85,m,5,0,"div",43),e.qZA()()()),2&i&&(e.xp6(14),e.Q6J("ngModel",o.inkLogNewBatch.colourCode),e.xp6(4),e.Q6J("ngModel",o.inkLogNewBatch.colourName),e.xp6(4),e.Q6J("ngModel",o.inkLogNewBatch.colourDescription),e.xp6(8),e.Q6J("ngModel",o.inkLogNewBatch.UOM),e.xp6(4),e.Q6J("ngModel",o.inkLogNewBatch.BOMQty),e.xp6(6),e.Q6J("ngModel",o.inkLogNewBatch.MF)("ngModelOptions",e.DdM(19,g)),e.xp6(4),e.Q6J("ngModel",o.inkLogNewBatch.inkBatchQty),e.xp6(6),e.Q6J("data",e.l5B(20,f,o.page,o.pageSize,o.collection,o.search)),e.xp6(24),e.Q6J("ngForOf",e.Dn7(75,12,e.xi3(76,16,o.inkLogNewBatch.newBatch,o.search),(o.page-1)*o.pageSize,(o.page-1)*o.pageSize+o.pageSize))("ngForTrackBy",o.trackByFn),e.xp6(11),e.Q6J("ngIf",!e.DdM(25,T).includes(o.action)))},dependencies:[Z.sg,Z.O5,h.P,_.Fj,_.wV,_.JJ,_.On,l.j,Z.OU,b.G],encapsulation:2})}return p})()},32183:(y,v,r)=>{r.d(v,{M:()=>h});var l=r(60095),t=r(65879),e=r(37285),C=r(99328),M=r(50363);const Z=function(){return["view","approve","reject"]};let h=(()=>{class _{get f(){return this.form.controls}constructor(g,u){this.activeModal=g,this.utilityService=u,this.logDetails={},this.action="",this.sourceOfManufacturing="",this.shiftOptions=[],this.form=new l.nJ({prodSource:new l.p4(null),prodShift:new l.p4(null),prodDate:new l.p4(null),operatingStaff:new l.p4(null),remarks:new l.p4(null),authorizedBy:new l.p4(null)})}ngOnInit(){this.logDetails?.prodDate&&(this.logDetails.prodDate=this.utilityService.getFormatDate(this.logDetails?.prodDate,"YYYY-MM-DD")),this.form.patchValue(this.logDetails),["view","approve","reject"].includes(this.action)&&this.form.disable(),this.f.prodSource.value||this.f.prodSource.setValue(this.sourceOfManufacturing??"Inhouse")}dismissModel(){this.activeModal.close(this.form.value)}static#t=this.\u0275fac=function(u){return new(u||_)(t.Y36(e.Kz),t.Y36(C.tI))};static#e=this.\u0275cmp=t.Xpm({type:_,selectors:[["app-screen-making-log-entry"]],inputs:{logDetails:"logDetails",action:"action",sourceOfManufacturing:"sourceOfManufacturing",shiftOptions:"shiftOptions"},decls:51,vars:5,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,""],[3,"formGroup"],[1,"row","my-4","px-5"],[1,"col-6"],[1,"form-label","mb-1"],[1,"text-danger"],["type","text","formControlName","prodSource","readonly","",1,"form-control","bg-white-smoke"],["type","date","formControlName","prodDate",1,"form-control"],[1,"row","px-5","mb-4"],["bindValue","parameterName","bindLabel","parameterLabel","formControlName","prodShift",3,"items","clearable"],["type","text","formControlName","operatingStaff",1,"form-control"],[1,"row","px-5"],[1,"col-12"],["type","text","formControlName","remarks",1,"form-control"],[1,"line-border","my-4"],[1,"col-8"],[1,"d-flex","align-items-center"],[1,"col-form-label","text-nowrap"],[1,"fa","fa-caret-right","fs-3","mx-2"],["type","text","formControlName","authorizedBy",1,"form-control"],[1,"col-4","ps-0","d-flex","justify-content-end"],[1,"mb-4"],["type","button",1,"btn","bg-primary","px-2",3,"disabled","click"]],template:function(u,m){1&u&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Log Entry"),t.qZA(),t.TgZ(4,"div")(5,"button",3),t.NdJ("click",function(){return m.activeModal.close()}),t._UZ(6,"i",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"form",6),t.ynx(9),t.TgZ(10,"div",7)(11,"div",8)(12,"label",9),t._uU(13," Prod. Source "),t._UZ(14,"span",10),t.qZA(),t._UZ(15,"input",11),t.qZA(),t.TgZ(16,"div",8)(17,"label",9),t._uU(18," Prod. Date "),t._UZ(19,"span",10),t.qZA(),t._UZ(20,"input",12),t.qZA()(),t.TgZ(21,"div",13)(22,"div",8)(23,"label",9),t._uU(24,"Production Shift "),t._UZ(25,"span",10),t.qZA(),t._UZ(26,"ng-select",14),t.qZA(),t.TgZ(27,"div",8)(28,"label",9),t._uU(29," Operating Staff"),t._UZ(30,"span",10),t.qZA(),t._UZ(31,"input",15),t.qZA()(),t.TgZ(32,"div",16)(33,"div",17)(34,"label",9),t._uU(35,"Remarks "),t._UZ(36,"span",10),t.qZA(),t._UZ(37,"input",18),t.qZA()(),t.BQk(),t._UZ(38,"hr",19),t.TgZ(39,"div",16)(40,"div",20)(41,"div",21)(42,"div",22),t._uU(43," Authorised by "),t._UZ(44,"i",23),t.qZA(),t.TgZ(45,"div",5),t._UZ(46,"input",24),t.qZA()()(),t.TgZ(47,"div",25)(48,"div",26)(49,"button",27),t.NdJ("click",function(){return m.dismissModel()}),t._uU(50," Save & Close "),t.qZA()()()()()()()),2&u&&(t.xp6(8),t.Q6J("formGroup",m.form),t.xp6(18),t.Q6J("items",m.shiftOptions)("clearable",!1),t.xp6(23),t.Q6J("disabled",t.DdM(4,Z).includes(m.action)))},dependencies:[l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,M.w9],encapsulation:2})}return _})()},62305:(y,v,r)=>{r.d(v,{c:()=>h});var l=r(60095),t=r(65879),e=r(37285),C=r(99328),M=r(50363);const Z=function(){return["view","approve","reject"]};let h=(()=>{class _{get f(){return this.form.controls}constructor(g,u){this.activeModal=g,this.utilityService=u,this.logDetails={},this.action="",this.sourceOfManufacturing="",this.shiftOptions=[],this.form=new l.nJ({prodSource:new l.p4(null),prodShift:new l.p4(null),prodDate:new l.p4(null),operatingStaff:new l.p4(null),remarks:new l.p4(null),authorizedBy:new l.p4(null)})}ngOnInit(){this.logDetails.prodDate&&(this.logDetails.prodDate=this.utilityService.getFormatDate(this.logDetails?.prodDate,"YYYY-MM-DD")),this.form.patchValue(this.logDetails),["view","approve","reject"].includes(this.action)&&this.form.disable(),this.f.prodSource.value||this.f.prodSource.setValue(this.sourceOfManufacturing??"Inhouse")}dismissModel(){this.activeModal.close(this.form.value)}static#t=this.\u0275fac=function(u){return new(u||_)(t.Y36(e.Kz),t.Y36(C.tI))};static#e=this.\u0275cmp=t.Xpm({type:_,selectors:[["app-screen-printing-log-entry"]],inputs:{logDetails:"logDetails",action:"action",sourceOfManufacturing:"sourceOfManufacturing",shiftOptions:"shiftOptions"},decls:51,vars:5,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,""],[3,"formGroup"],[1,"row","my-4","px-5"],[1,"col-6"],[1,"form-label","mb-1"],[1,"text-danger"],["type","text","formControlName","prodSource","readonly","",1,"form-control","bg-white-smoke"],["type","date","formControlName","prodDate",1,"form-control"],[1,"row","px-5","mb-4"],["bindValue","parameterName","bindLabel","parameterLabel","formControlName","prodShift",3,"items","clearable"],["type","text","formControlName","operatingStaff",1,"form-control"],[1,"row","px-5"],[1,"col-12"],["type","text","formControlName","remarks",1,"form-control"],[1,"line-border","my-4"],[1,"col-8"],[1,"d-flex","align-items-center"],[1,"col-form-label","text-nowrap"],[1,"fa","fa-caret-right","fs-3","mx-2"],["type","text","formControlName","authorizedBy",1,"form-control"],[1,"col-4","ps-0","d-flex","justify-content-end"],[1,"mb-4"],["type","button",1,"btn","bg-primary","px-2",3,"disabled","click"]],template:function(u,m){1&u&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Log Entry"),t.qZA(),t.TgZ(4,"div")(5,"button",3),t.NdJ("click",function(){return m.activeModal.close()}),t._UZ(6,"i",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"form",6),t.ynx(9),t.TgZ(10,"div",7)(11,"div",8)(12,"label",9),t._uU(13," Prod. Source "),t._UZ(14,"span",10),t.qZA(),t._UZ(15,"input",11),t.qZA(),t.TgZ(16,"div",8)(17,"label",9),t._uU(18," Prod. Date "),t._UZ(19,"span",10),t.qZA(),t._UZ(20,"input",12),t.qZA()(),t.TgZ(21,"div",13)(22,"div",8)(23,"label",9),t._uU(24,"Production Shift "),t._UZ(25,"span",10),t.qZA(),t._UZ(26,"ng-select",14),t.qZA(),t.TgZ(27,"div",8)(28,"label",9),t._uU(29," Operating Staff"),t._UZ(30,"span",10),t.qZA(),t._UZ(31,"input",15),t.qZA()(),t.TgZ(32,"div",16)(33,"div",17)(34,"label",9),t._uU(35,"Remarks "),t._UZ(36,"span",10),t.qZA(),t._UZ(37,"input",18),t.qZA()(),t.BQk(),t._UZ(38,"hr",19),t.TgZ(39,"div",16)(40,"div",20)(41,"div",21)(42,"div",22),t._uU(43," Authorised by "),t._UZ(44,"i",23),t.qZA(),t.TgZ(45,"div",5),t._UZ(46,"input",24),t.qZA()()(),t.TgZ(47,"div",25)(48,"div",26)(49,"button",27),t.NdJ("click",function(){return m.dismissModel()}),t._uU(50," Save & Close "),t.qZA()()()()()()()),2&u&&(t.xp6(8),t.Q6J("formGroup",m.form),t.xp6(18),t.Q6J("items",m.shiftOptions)("clearable",!1),t.xp6(23),t.Q6J("disabled",t.DdM(4,Z).includes(m.action)))},dependencies:[l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,M.w9],encapsulation:2})}return _})()},65468:(y,v,r)=>{r.d(v,{o:()=>Z});var l=r(43818),t=r(65879),e=r(37285),C=r(99328),M=r(60095);let Z=(()=>{class h{constructor(b,g,u){this.activeModal=b,this.utilityService=g,this.toastService=u,this.inventoryItemsAmounts=0,this.GTInputQuantity=0,this.itemDetails={}}ngOnInit(){}setGTQty(){if("RL"==this.itemDetails.UOM||"SHT"==this.itemDetails.UOM){let b=0;if(this.itemDetails?.primaryToSecondaryConversion&&(b=+(+this.GTInputQuantity*+this.itemDetails.primaryToSecondaryConversion).toFixed(2)),+b>this.inventoryItemsAmounts)return this.toastService.warning("GT Input Quantity Should not be greater than Total Inventory Qty. !"),void(this.GTInputQuantity=0)}else if(this.GTInputQuantity>this.inventoryItemsAmounts)return this.toastService.warning("GT Input Quantity Should not be greater than Total Inventory Qty. !"),void(this.GTInputQuantity=0)}dismissModel(){this.GTInputQuantity?this.activeModal.close(this.GTInputQuantity):this.toastService.warning("Please Fill GT Input Quantity Qty. !")}static#t=this.\u0275fac=function(g){return new(g||h)(t.Y36(e.Kz),t.Y36(C.tI),t.Y36(C.kl))};static#e=this.\u0275cmp=t.Xpm({type:h,selectors:[["app-add-on-gtqty-modal"]],viewQuery:function(g,u){if(1&g&&t.Gf(l.j,5),2&g){let m;t.iGM(m=t.CRH())&&(u.headers=m)}},inputs:{inventoryItemsAmounts:"inventoryItemsAmounts",GTInputQuantity:"GTInputQuantity",itemDetails:"itemDetails"},decls:26,vars:1,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,"container-fluid","px-0","mt-4"],[1,"row","justify-content-center","px-5","mt-4"],[1,"col-12"],[1,"row","mt-4"],[1,"col-5","pe-0"],[1,"form-label"],[1,"text-danger"],[1,"col-1","px-2","d-flex","align-items-center","justify-content-start"],[1,"ms-1","me-2","text-secondary"],[1,"col-6","ps-0","setInputMargin"],["type","number",1,"form-control",3,"ngModel","ngModelChange","input"],[1,"line-border","my-4"],[1,"row"],[1,"col","text-center","mb-4"],["type","button",1,"btn","bg-primary","px-5",3,"click"]],template:function(g,u){1&g&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Add Additional Quantity"),t.qZA(),t.TgZ(4,"div")(5,"button",3),t.NdJ("click",function(){return u.activeModal.close()}),t._UZ(6,"i",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),t._uU(13,"GT Qty"),t.TgZ(14,"span",11),t._uU(15," * "),t.qZA()()(),t.TgZ(16,"div",12)(17,"span",13),t._uU(18,"\u25b6"),t.qZA()(),t.TgZ(19,"div",14)(20,"input",15),t.NdJ("ngModelChange",function(f){return u.GTInputQuantity=f})("input",function(){return u.setGTQty()}),t.qZA()()()()(),t._UZ(21,"hr",16),t.TgZ(22,"div",17)(23,"div",18)(24,"button",19),t.NdJ("click",function(){return u.dismissModel()}),t._uU(25,"Save & Close"),t.qZA()()()()()),2&g&&(t.xp6(20),t.Q6J("ngModel",u.GTInputQuantity))},dependencies:[M.Fj,M.wV,M.JJ,M.On],encapsulation:2})}return h})()},67916:(y,v,r)=>{r.d(v,{I:()=>C});var l=r(37398),t=r(65879),e=r(99328);let C=(()=>{class M{constructor(h){this.http=h,this.routes={createOrUpdatePath:"/production/inkMixingLog/createOrUpdate",getAllPath:"/production/inkMixingLog/getAll",getAllMasterDataPath:"/production/inkMixingLog/getAllMasterData",getByIdPath:_=>`/production/inkMixingLog/getById/${_}`}}createOrUpdate(h){return this.http.post(this.routes.createOrUpdatePath,h).pipe((0,l.U)(_=>_))}getAll(h){return this.http.get(this.routes.getAllPath,h).pipe((0,l.U)(_=>_))}getAllMasterData(h){return this.http.get(this.routes.getAllMasterDataPath,h).pipe((0,l.U)(_=>_))}getById(h){return this.http.get(this.routes.getByIdPath(h)).pipe((0,l.U)(_=>_))}static#t=this.\u0275fac=function(_){return new(_||M)(t.LFG(e.sM))};static#e=this.\u0275prov=t.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})()}}]);