"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[1238],{9202:(D,T,a)=>{a.d(T,{K:()=>l});var f=a(43818),t=a(65879),u=a(37285),v=a(96814),Z=a(88059),A=a(95346);function k(c,m){if(1&c){const o=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",24,25)(5,"span",26),t._uU(6),t.qZA()(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td")(16,"input",27),t.NdJ("change",function(){const R=t.CHM(o).$implicit,C=t.oxw();return t.KtG(C.setSelectData(R))}),t.qZA()()()}if(2&c){const o=m.$implicit,_=m.index,d=t.MAs(4),R=t.oxw();t.xp6(2),t.Oqu(null==o?null:o.value),t.xp6(1),t.Udp("width",d.clientWidth),t.xp6(2),t.Q6J("positionTarget",d)("ngbTooltip",o.goodsDescription),t.xp6(1),t.hij(" ",null==o?null:o.goodsDescription," "),t.xp6(2),t.Oqu(null==o?null:o.gstRate),t.xp6(2),t.Oqu(null==o?null:o.igstRate),t.xp6(2),t.Oqu(null==o?null:o.cgstRate),t.xp6(2),t.Oqu(null==o?null:o.sgstRate),t.xp6(2),t.MGl("name","formValue",R.HSNCodeArr[_],""),t.Q6J("disabled","view"==R.action)("checked",o.select)}}function b(c,m){1&c&&t._UZ(0,"hr",32)}function e(c,m){if(1&c){const o=t.EpF();t.TgZ(0,"div",33)(1,"button",34),t.NdJ("click",function(){t.CHM(o);const d=t.oxw(2);return t.KtG(d.dismissModel())}),t._uU(2," Save & Close "),t.qZA()()}}const M=function(){return["create"]};function N(c,m){if(1&c&&(t.ynx(0),t.TgZ(1,"div",28)(2,"div",29),t.YNc(3,b,1,0,"hr",30),t.qZA()(),t.YNc(4,e,3,0,"div",31),t.BQk()),2&c){const o=t.oxw();t.xp6(3),t.Q6J("ngIf",t.DdM(2,M).includes(o.action)),t.xp6(1),t.Q6J("ngIf",t.DdM(3,M).includes(o.action))}}function O(c,m){1&c&&t._UZ(0,"hr",32)}function S(c,m){if(1&c){const o=t.EpF();t.TgZ(0,"div",33)(1,"button",34),t.NdJ("click",function(){t.CHM(o);const d=t.oxw(2);return t.KtG(d.dismissModel())}),t._uU(2," Save & Close "),t.qZA()()}}const q=function(){return["view"]};function r(c,m){if(1&c&&(t.ynx(0),t.TgZ(1,"div",28)(2,"div",29),t.YNc(3,O,1,0,"hr",30),t.qZA()(),t.YNc(4,S,3,0,"div",31),t.BQk()),2&c){const o=t.oxw();t.xp6(3),t.Q6J("ngIf",!t.DdM(2,q).includes(o.action)),t.xp6(1),t.Q6J("ngIf",!t.DdM(3,q).includes(o.action))}}const h=function(c,m,o,_){return{page:c,pageSize:m,collection:o,search:_,excelDisplay:"none"}};let l=(()=>{class c{constructor(o){this.activeModal=o,this.action="edit",this.HSNValue="",this.HSNCode="",this.editScreen="",this.HSNCodeArr=[],this.btnDisable=!1,this.page=1,this.pageSize=9,this.collection=0,this.search="",this.column="createdAt",this.direction=-1,this.HSNSelect=null,this.HSNSelectCode=null}ngOnInit(){(this.HSNValue||this.HSNCode)&&(this.HSNSelect=this.HSNValue,this.HSNSelectCode=this.HSNCode,this.HSNCodeArr=this.HSNCodeArr.map(o=>(o.select=!1,o.value==this.HSNCode&&(o.select=!0),o))),this.collection=this.HSNCodeArr.length}setSelectData(o){this.HSNSelect=o?._id,this.HSNSelectCode=o?.value}dismissModel(){let o={};o.HSNSelect=this.HSNSelect,o.HSNSelectCode=this.HSNSelectCode,this.activeModal.close(o)}eventHeader(o){switch(o.key){case"SEARCH":this.search=o.value;break;case"EXCEL":default:break;case"PAGE":this.page=o.value}}onSort({column:o,direction:_}){this.headers.forEach(d=>{d.sortable!==o&&(d.direction="")}),this.HSNCodeArr=""===_||""===o?this.HSNCodeArr:[...this.HSNCodeArr].sort((d,R)=>{let C="string"==typeof d[o]?d[o].toLowerCase():d[o],U="string"==typeof R[o]?R[o].toLowerCase():R[o];const E=C<U?-1:C>U?1:0;return"asc"===_?E:-E})}static#e=this.\u0275fac=function(_){return new(_||c)(t.Y36(u.Kz))};static#t=this.\u0275cmp=t.Xpm({type:c,selectors:[["app-ink-hsn-modal"]],viewQuery:function(_,d){if(1&_&&t.Gf(f.j,5),2&_){let R;t.iGM(R=t.CRH())&&(d.headers=R)}},inputs:{action:"action",HSNValue:"HSNValue",HSNCode:"HSNCode",editScreen:"editScreen",HSNCodeArr:"HSNCodeArr"},decls:37,vars:16,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,""],[1,"container-fluid"],[1,"row","justify-content-center"],[1,"col-12","px-0","mt-4"],[1,"px-5","mt-0"],[3,"data","dataChange"],[1,"table-responsive","px-5",2,"min-height","33rem"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],["sortable","value",3,"sort"],["sortable","goodsDescription",1,"text-start",3,"sort"],["sortable","gstRate",3,"sort"],["sortable","igstRate",3,"sort"],["sortable","cgstRate",3,"sort"],["sortable","sgstRate",3,"sort"],["sortable","UOM",3,"sort"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-start"],["goodsDescription",""],[1,"pointer",3,"positionTarget","ngbTooltip"],["type","radio",1,"form-check-input","pointer",3,"disabled","name","checked","change"],[1,"row"],[1,"col","px-0","mb-3"],["class","line-border",4,"ngIf"],["class","text-center mb-2",4,"ngIf"],[1,"line-border"],[1,"text-center","mb-2"],["type","button",1,"btn","bg-primary","px-5","mb-4",3,"click"]],template:function(_,d){1&_&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"HSN Master"),t.qZA(),t.TgZ(4,"div")(5,"button",3),t.NdJ("click",function(){return d.activeModal.close()}),t._UZ(6,"i",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"app-setting-header",10),t.NdJ("dataChange",function(C){return d.eventHeader(C)}),t.qZA()(),t.TgZ(13,"div",11)(14,"table",12)(15,"thead",13)(16,"tr",14)(17,"th",15),t.NdJ("sort",function(C){return d.onSort(C)}),t._uU(18,"HSN Code"),t.qZA(),t.TgZ(19,"th",16),t.NdJ("sort",function(C){return d.onSort(C)}),t._uU(20," Description of Goods "),t.qZA(),t.TgZ(21,"th",17),t.NdJ("sort",function(C){return d.onSort(C)}),t._uU(22,"GST Rate %"),t.qZA(),t.TgZ(23,"th",18),t.NdJ("sort",function(C){return d.onSort(C)}),t._uU(24,"IGST Rate %"),t.qZA(),t.TgZ(25,"th",19),t.NdJ("sort",function(C){return d.onSort(C)}),t._uU(26,"CGST Rate %"),t.qZA(),t.TgZ(27,"th",20),t.NdJ("sort",function(C){return d.onSort(C)}),t._uU(28,"SGST Rate %"),t.qZA(),t.TgZ(29,"th",21),t.NdJ("sort",function(C){return d.onSort(C)}),t._uU(30,"Select"),t.qZA()()(),t.TgZ(31,"tbody"),t.YNc(32,k,17,13,"tr",22),t.ALo(33,"slice"),t.ALo(34,"searchFi1ter"),t.qZA()()()()(),t.YNc(35,N,5,4,"ng-container",23),t.YNc(36,r,5,4,"ng-container",23),t.qZA()()()),2&_&&(t.xp6(12),t.Q6J("data",t.l5B(11,h,d.page,d.pageSize,d.collection,d.search)),t.xp6(20),t.Q6J("ngForOf",t.Dn7(33,4,t.xi3(34,8,d.HSNCodeArr,d.search),(d.page-1)*d.pageSize,(d.page-1)*d.pageSize+d.pageSize)),t.xp6(3),t.Q6J("ngIf","Edit Screen"!=d.editScreen),t.xp6(1),t.Q6J("ngIf","Edit Screen"==d.editScreen))},dependencies:[v.sg,v.O5,Z.P,u._L,f.j,v.OU,A.G],encapsulation:2})}return c})()},62373:(D,T,a)=>{a.r(T),a.d(T,{MapCategoryHsnModule:()=>G});var f=a(96814),t=a(1076),u=a(60095),v=a(21631),Z=a(22096),A=a(4092),k=a(9202),b=a(6244),e=a(65879),M=a(59840),N=a(98977),O=a(16897),S=a(37285),q=a(50363);function r(g,H){if(1&g&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&g){const s=H.$implicit;e.Q6J("value",s.parameterName),e.xp6(1),e.hij(" ",s.parameterLabel," ")}}function h(g,H){1&g&&e._UZ(0,"div",34)}function l(g,H){1&g&&e._UZ(0,"div",35)}function c(g,H){1&g&&e._UZ(0,"hr",36)}const m=function(g){return{"d-none":g}};function o(g,H){if(1&g){const s=e.EpF();e.TgZ(0,"div",37)(1,"div",38)(2,"button",39),e.NdJ("click",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.reset())}),e._uU(3,"Reset"),e.qZA()(),e.TgZ(4,"div",40)(5,"button",39),e.NdJ("click",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.submit())}),e._uU(6,"Save"),e.qZA()()()}if(2&g){const s=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(2,m,"View"==s.action)),e.xp6(3),e.Q6J("ngClass",e.VKq(4,m,"View"==s.action))}}let _=(()=>{class g{constructor(s,i,n,p,y,I,Q,V){this.mapCategoryHSNService=s,this.activatedRoute=i,this.spinner=n,this.toastService=p,this.validationService=y,this.modalService=I,this.utilityService=Q,this.location=V,this.submitted=!1,this.action="create",this.masterData={autoIncrementNo:"",productCategoriesOptions:[],salesHSNList:[],colourCodeJCOptions:[]},this.form=new u.nJ({_id:new u.p4(null),hsnMapCategoryCode:new u.p4(null),productCategory:new u.p4(null,[u.kI.required]),HSN:new u.p4(null,[u.kI.required]),HSNCode:new u.p4(null),colourName:new u.p4(null),status:new u.p4("Active"),description:new u.p4(null,[u.kI.required]),igstRate:new u.p4(null,[u.kI.required]),sgstRate:new u.p4(null,[u.kI.required]),cgstRate:new u.p4(null,[u.kI.required]),ugstRate:new u.p4(null)})}ngOnInit(){this.getInitialData()}submit(){if(this.submitted=!0,this.validationService.checkErrors(this.form,A.Nj))return;let s=this.form.value;s._id?this.update(s):(delete s._id,this.create(s))}update(s){this.spinner.show(),this.mapCategoryHSNService.update(s._id,s).subscribe(i=>{this.spinner.hide(),this.submitted=!1,this.toastService.success(i.message),this.location.back()})}create(s){this.spinner.show(),this.mapCategoryHSNService.create(s).subscribe(i=>{this.submitted=!1,this.spinner.hide(),this.toastService.success(i.message),this.location.back()})}reset(){this.form.reset(),this.getInitialData()}getInitialData(){this.spinner.show(),this.mapCategoryHSNService.getAllMasterData({}).subscribe(s=>{this.masterData=s,this.form.controls.hsnMapCategoryCode.setValue(this.masterData?.autoIncrementNo),this.form.controls.status.setValue("Active"),this.activatedRoute.queryParams.pipe((0,v.z)(i=>(this.action=i.action,this.utilityService.accessDenied(this.action),i.id?this.mapCategoryHSNService.getById(i.id):(0,Z.of)({})))).subscribe(i=>{this.spinner.hide(),0!=Object.keys(i).length&&(this.form.patchValue(i),"edit"!=this.action&&this.form.disable())})})}setHSNCode(){let s=this.masterData?.salesHSNList.find(i=>i.hsnCode==this.form.controls.HSNCode.value.trim());this.form.controls.HSN.setValue(s?._id),this.form.controls.description.setValue(s?.goodsDescription),this.form.controls.igstRate.setValue(s?.igstRate),this.form.controls.sgstRate.setValue(s?.sgstRate),this.form.controls.cgstRate.setValue(s?.cgstRate),this.form.controls.ugstRate.setValue(s?.ugstRate)}openFormulationHSNModal(){const s=this.modalService.open(k.K,{centered:!0,size:"xl",backdrop:"static",keyboard:!1});s.componentInstance.action=this.action,s.componentInstance.HSNCodeArr=this.masterData?.salesHSNList,s.componentInstance.editScreen="Edit Screen",s.componentInstance.HSNCode=this.form.controls.HSNCode.value,s.result.then(i=>{i&&(this.form.controls.HSNCode.setValue(i?.HSNSelectCode),this.setHSNCode())},i=>{})}openProductCategoryModal(){const s=this.modalService.open(b.Z,{centered:!0,size:"xl",backdrop:"static",keyboard:!1});s.componentInstance.action=this.action,s.componentInstance.productCategoryList=this.masterData?.productCategoriesOptions,s.componentInstance.productCategory=this.form.controls.productCategory.value,s.result.then(i=>{i&&this.form.controls.productCategory.setValue(i?.selectedProductCategory)},i=>{})}static#e=this.\u0275fac=function(i){return new(i||g)(e.Y36(M.Hd),e.Y36(t.gz),e.Y36(N.V),e.Y36(N.kl),e.Y36(O.RJ),e.Y36(S.FF),e.Y36(N.tI),e.Y36(f.Ye))};static#t=this.\u0275cmp=e.Xpm({type:g,selectors:[["app-map-category-hsn-form"]],decls:79,vars:14,consts:[[1,"formCard","card",3,"formGroup"],[1,"set-remaining-margin"],[1,"row","form-header"],[1,"col","heading"],[1,"form-body"],[1,"row"],[1,"col-md-3","pe-5"],[1,"form-label","mb-1"],[1,"text-danger"],[1,"d-flex","align-items-center"],[1,"col-11"],["bindLabel","label","bindValue","value","formControlName","productCategory",3,"items","clearable"],["id","basic-addon1",1,"input-group-text","bg-primary","pointer","fs-4","col-auto",2,"height","2.9rem",3,"click"],["aria-hidden","true",1,"fa","fa-search","text-white"],[1,"col-md-3"],[1,"flex-grow-1"],["bindLabel","hsnCode","bindValue","hsnCode","formControlName","HSNCode",3,"items","clearable","change"],["id","basic-addon1",1,"input-group-text","bg-primary","pointer",2,"height","2.9rem",3,"click"],["formControlName","colourName",1,"form-select"],["selected","","disabled","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","description","readonly","",1,"form-control"],["type","number","formControlName","igstRate","readonly","",1,"form-control"],["type","number","formControlName","cgstRate","readonly","",1,"form-control"],["type","number","formControlName","sgstRate","readonly","",1,"form-control"],[1,"d-flex","inputGroup","skuForm"],["formControlName","status",1,"form-select","statusSelectBorder"],[3,"value"],[1,"input-group-text","bg-white"],[1,"col-md-auto","my-4","align-self-center"],["class","statusActive",4,"ngIf"],["class","statusInActive",4,"ngIf"],["class","row line-border",4,"ngIf"],["class","d-flex justify-content-center mb-3",4,"ngIf"],[1,"statusActive"],[1,"statusInActive"],[1,"row","line-border"],[1,"d-flex","justify-content-center","mb-3"],[1,"d-grid","col-md-1","mx-5",3,"ngClass"],["type","button",1,"btn","btn-primary",3,"click"],[1,"d-grid","col-md-1",3,"ngClass"]],template:function(i,n){1&i&&(e.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label"),e._uU(5,"Map Category HSN"),e.qZA()()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),e._uU(10," Product Category "),e.TgZ(11,"span",8),e._uU(12,"*"),e.qZA()(),e.TgZ(13,"div",9)(14,"div",10),e._UZ(15,"ng-select",11),e.qZA(),e.TgZ(16,"div",12),e.NdJ("click",function(){return n.openProductCategoryModal()}),e._UZ(17,"i",13),e.qZA()()(),e.TgZ(18,"div",14)(19,"label",7),e._uU(20," HSN Code "),e.TgZ(21,"span",8),e._uU(22,"*"),e.qZA()(),e.TgZ(23,"div",9)(24,"div",15)(25,"ng-select",16),e.NdJ("change",function(){return n.setHSNCode()}),e.qZA()(),e.TgZ(26,"div",17),e.NdJ("click",function(){return n.openFormulationHSNModal()}),e._UZ(27,"i",13),e.qZA()()(),e.TgZ(28,"div",14)(29,"label",7),e._uU(30," Colour Name/Code "),e.qZA(),e.TgZ(31,"select",18)(32,"option",19),e._uU(33,"Select Colour Name"),e.qZA(),e.YNc(34,r,2,2,"option",20),e.qZA()(),e.TgZ(35,"div",14)(36,"label",7),e._uU(37,"Description "),e.TgZ(38,"span",8),e._uU(39,"*"),e.qZA()(),e._UZ(40,"input",21),e.qZA()(),e.TgZ(41,"div",5)(42,"div",14)(43,"label",7),e._uU(44,"IGST % "),e.TgZ(45,"span",8),e._uU(46,"*"),e.qZA()(),e._UZ(47,"input",22),e.qZA(),e.TgZ(48,"div",14)(49,"label",7),e._uU(50,"CGST % "),e.TgZ(51,"span",8),e._uU(52,"*"),e.qZA()(),e._UZ(53,"input",23),e.qZA(),e.TgZ(54,"div",14)(55,"label",7),e._uU(56,"SGST % "),e.TgZ(57,"span",8),e._uU(58,"*"),e.qZA()(),e._UZ(59,"input",24),e.qZA(),e.TgZ(60,"div",14)(61,"label",7),e._uU(62," Status "),e.TgZ(63,"span",8),e._uU(64,"*"),e.qZA()(),e.TgZ(65,"div",25)(66,"select",26)(67,"option",19),e._uU(68,"Select Status"),e.qZA(),e.TgZ(69,"option",27),e._uU(70,"Active"),e.qZA(),e.TgZ(71,"option",27),e._uU(72,"Inactive"),e.qZA()(),e.TgZ(73,"div",28)(74,"div",29),e.YNc(75,h,1,0,"div",30),e.YNc(76,l,1,0,"div",31),e.qZA()()()()()(),e.YNc(77,c,1,0,"hr",32),e.YNc(78,o,7,6,"div",33),e.qZA()()),2&i&&(e.Q6J("formGroup",n.form),e.xp6(15),e.Q6J("items",n.masterData.productCategoriesOptions)("clearable",!1),e.xp6(10),e.Q6J("items",n.masterData.salesHSNList)("clearable",!1),e.xp6(7),e.Q6J("value",null),e.xp6(2),e.Q6J("ngForOf",null==n.masterData?null:n.masterData.colourCodeJCOptions),e.xp6(33),e.Q6J("value",null),e.xp6(2),e.Q6J("value","Active"),e.xp6(2),e.Q6J("value","Inactive"),e.xp6(4),e.Q6J("ngIf","Active"==n.form.value.status),e.xp6(1),e.Q6J("ngIf","Inactive"==n.form.value.status),e.xp6(1),e.Q6J("ngIf","view"!==n.action),e.xp6(1),e.Q6J("ngIf","view"!==n.action))},dependencies:[f.mk,f.sg,f.O5,u._Y,u.YN,u.Kr,u.Fj,u.wV,u.EJ,u.JJ,u.JL,u.sg,u.u,q.w9],styles:[".fa[_ngcontent-%COMP%]{font-size:1.6rem!important}"]})}return g})();var d=a(43818),R=a(25116),C=a(66558),U=a(88059),E=a(53421);function P(g,H){if(1&g){const s=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"div",20),e._UZ(7,"div"),e.qZA()(),e.TgZ(8,"td"),e._uU(9),e.ALo(10,"number"),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"number"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.ALo(16,"number"),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.ALo(19,"number"),e.qZA(),e.TgZ(20,"td")(21,"div",21),e._UZ(22,"button",22),e.TgZ(23,"div",23)(24,"a",24),e.NdJ("click",function(){const p=e.CHM(s).$implicit,y=e.oxw();return e.KtG(y.navigateTo("../form",null==p?null:p._id,"view"))}),e._UZ(25,"i",25),e._uU(26," View "),e.qZA(),e.TgZ(27,"a",24),e.NdJ("click",function(){const p=e.CHM(s).$implicit,y=e.oxw();return e.KtG(y.navigateTo("../form",null==p?null:p._id,"edit"))}),e._UZ(28,"i",26),e._uU(29," Edit "),e.qZA()()()()()}if(2&g){const s=H.$implicit,i=e.oxw();e.xp6(2),e.Oqu(null==s?null:s.productCategory),e.xp6(2),e.Oqu(null==s?null:s.HSNCode),e.xp6(3),e.Udp("background-color",null==s?null:s.colourName),e.xp6(2),e.Oqu(e.xi3(10,10,null==s?null:s.igstRate,"1.2-2")),e.xp6(3),e.Oqu(e.xi3(13,13,null==s?null:s.cgstRate,"1.2-2")),e.xp6(3),e.Oqu(e.xi3(16,16,null==s?null:s.sgstRate,"1.2-2")),e.xp6(3),e.Oqu(e.xi3(19,19,null==s?null:s.ugstRate,"1.2-2")),e.xp6(6),e.Q6J("accessType",i.rolePermissionActions.viewAction),e.xp6(3),e.Q6J("accessType",i.rolePermissionActions.editAction)}}const x=function(g,H,s,i){return{page:g,pageSize:H,collection:s,search:i,type:"list"}};let F=(()=>{class g{constructor(s,i,n,p,y,I){this.exportExcelService=s,this.mapCategoryHSNService=i,this.router=n,this.spinner=p,this.activatedRoute=y,this.exportToPDFService=I,this.page=1,this.pageSize=8,this.collection=0,this.column="createdAt",this.direction=-1,this.search="",this.tableData=[],this.rolePermissionActions=R.a1}ngOnInit(){this.page=Number(this.activatedRoute.snapshot.queryParamMap.get("page")??1),this.getAll()}navigateTo(s,i,n){this.router.navigate([s],{relativeTo:this.activatedRoute,queryParams:{id:i,action:n}})}trackByFn(s,i){return i?._id}eventHeader(s){switch(s.key){case"SEARCH":this.search=s.value,this.getAll();break;case"PDF":this.getAll(!0,"PDF");break;case"EXCEL":this.getAll(!0,"EXCEL");break;case"PAGE":this.page=s.value,this.getAll()}}getAll(s=!1,i=""){this.spinner.show();let n={page:this.page,pageSize:this.pageSize,search:this.search,column:this.column,direction:this.direction,excel:s};this.subscription&&this.subscription.unsubscribe(),this.subscription=this.mapCategoryHSNService.getAll(n).subscribe(p=>{"EXCEL"==i?this.excelDownload(p.rows):"PDF"==i?this.pdfDownload(p.rows):(this.tableData=p.rows,this.collection=p.count),this.spinner.hide()})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}pdfDownload(s){let i=(0,C.oq)(s);this.exportToPDFService.generatePdf(i.tableData,i.title)}excelDownload(s){this.exportExcelService.exportExcel((0,C.if)(s))}onSort({column:s,direction:i}){this.headers.forEach(n=>{n.sortable!==s&&(n.direction="")}),this.column=s,this.direction="asc"==i?1:-1,this.getAll()}static#e=this.\u0275fac=function(i){return new(i||g)(e.Y36(N.Ol),e.Y36(M.Hd),e.Y36(t.F0),e.Y36(N.V),e.Y36(t.gz),e.Y36(N.$L))};static#t=this.\u0275cmp=e.Xpm({type:g,selectors:[["app-map-category-hsn-list"]],viewQuery:function(i,n){if(1&i&&e.Gf(d.j,5),2&i){let p;e.iGM(p=e.CRH())&&(n.headers=p)}},decls:32,vars:9,consts:[[1,"listCard","card"],[1,"table-header"],[1,"heading"],["appAccessControl","",1,"text-center",3,"accessType"],["type","button",1,"btn","btn-primary","btn-add",3,"click"],["aria-hidden","true",1,"fa","fa-plus-square","fa-lg","me-2"],[1,"line-border"],[1,"table-responsive"],[3,"data","dataChange"],[1,"table","table-bordered"],[1,"bg-primary"],[1,"text-white"],["sortable","productCategory",3,"sort"],["sortable","HSNCode",3,"sort"],["sortable","colourName",3,"sort"],["sortable","igstRate",3,"sort"],["sortable","cgstRate",3,"sort"],["sortable","sgstRate",3,"sort"],["sortable","ugstRate",3,"sort"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"box"],[1,"dropdown"],[1,"dropbtn"],[1,"dropdown-content"],["appAccessControl","","href","javascript:void(0)",3,"accessType","click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg","me-2","text-primary"],["aria-hidden","true",1,"fa","fa-pencil-square-o","fa-lg","me-2","text-primary"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"label",2),e._uU(3,"Map Category HSN Summary"),e.qZA()(),e.TgZ(4,"div",3)(5,"button",4),e.NdJ("click",function(){return n.navigateTo("../form",null,"create")}),e._UZ(6,"i",5),e._uU(7," Map Category HSN "),e.qZA()(),e._UZ(8,"hr",6),e.TgZ(9,"div",7)(10,"app-setting-header",8),e.NdJ("dataChange",function(y){return n.eventHeader(y)}),e.qZA(),e.TgZ(11,"table",9)(12,"thead",10)(13,"tr",11)(14,"th",12),e.NdJ("sort",function(y){return n.onSort(y)}),e._uU(15,"Product Category"),e.qZA(),e.TgZ(16,"th",13),e.NdJ("sort",function(y){return n.onSort(y)}),e._uU(17,"HSN Code"),e.qZA(),e.TgZ(18,"th",14),e.NdJ("sort",function(y){return n.onSort(y)}),e._uU(19,"Colour Code"),e.qZA(),e.TgZ(20,"th",15),e.NdJ("sort",function(y){return n.onSort(y)}),e._uU(21,"IGST %"),e.qZA(),e.TgZ(22,"th",16),e.NdJ("sort",function(y){return n.onSort(y)}),e._uU(23,"CGST %"),e.qZA(),e.TgZ(24,"th",17),e.NdJ("sort",function(y){return n.onSort(y)}),e._uU(25,"SGST %"),e.qZA(),e.TgZ(26,"th",18),e.NdJ("sort",function(y){return n.onSort(y)}),e._uU(27,"UGST %"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Action"),e.qZA()()(),e.TgZ(30,"tbody"),e.YNc(31,P,30,22,"tr",19),e.qZA()()()()),2&i&&(e.xp6(4),e.Q6J("accessType",n.rolePermissionActions.createAction),e.xp6(6),e.Q6J("data",e.l5B(4,x,n.page,n.pageSize,n.collection,n.search)),e.xp6(21),e.Q6J("ngForOf",n.tableData)("ngForTrackBy",n.trackByFn))},dependencies:[f.sg,U.P,d.j,E.J,f.JJ],styles:[".box[_ngcontent-%COMP%]{display:grid;place-items:center}.box[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:1rem;width:1rem}"]})}return g})();var J=a(19964),L=a(56208);const w=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:F},{path:"form",component:_,resolve:{accessScreen:J.xr}}];let G=(()=>{class g{static#e=this.\u0275fac=function(i){return new(i||g)};static#t=this.\u0275mod=e.oAB({type:g});static#s=this.\u0275inj=e.cJS({imports:[f.ez,t.Bz.forChild(w),L.m]})}return g})()},6244:(D,T,a)=>{a.d(T,{Z:()=>O});var f=a(43818),t=a(65879),u=a(37285),v=a(96814),Z=a(88059),A=a(95346);const k=function(){return["view","edit"]};function b(S,q){if(1&S){const r=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td",24)(8,"span",25),t._uU(9),t.qZA()(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td")(13,"input",26),t.NdJ("change",function(){const c=t.CHM(r).$implicit,m=t.oxw();return t.KtG(m.setSelectData(c))}),t.qZA()()()}if(2&S){const r=q.$implicit,h=q.index,l=t.oxw();t.xp6(2),t.Oqu(1+h+(l.page-1)*l.pageSize),t.xp6(2),t.Oqu(null==r?null:r.productNumber),t.xp6(2),t.Oqu(null==r?null:r.productCode),t.xp6(2),t.Q6J("ngbTooltip",null==r?null:r.label),t.xp6(1),t.hij(" ",null!=r&&r.label?null==r?null:r.label:null," "),t.xp6(2),t.Oqu(null==r?null:r.application),t.xp6(2),t.MGl("name","formValue",l.productCategoryList[h],""),t.Q6J("disabled",t.DdM(9,k).includes(l.action))("checked",r.select)}}function e(S,q){1&S&&t._UZ(0,"hr",27)}function M(S,q){if(1&S){const r=t.EpF();t.TgZ(0,"div",28)(1,"button",29),t.NdJ("click",function(){t.CHM(r);const l=t.oxw();return t.KtG(l.dismissModel())}),t._uU(2,"Save & Close"),t.qZA()()}}const N=function(S,q,r,h){return{page:S,pageSize:q,collection:r,search:h,excelDisplay:"none"}};let O=(()=>{class S{constructor(r){this.activeModal=r,this.action="edit",this.productCategory="",this.productCategoryList=[],this.btnDisable=!1,this.page=1,this.pageSize=9,this.collection=0,this.search="",this.column="createdAt",this.direction=-1,this.selectedProductCategory=null}ngOnInit(){this.productCategory&&(this.selectedProductCategory=this.productCategory,this.productCategoryList=this.productCategoryList.map(r=>(r.select=!1,r.value==this.productCategory&&(r.select=!0),r))),this.collection=this.productCategoryList.length}setSelectData(r){this.selectedProductCategory=r?.value}dismissModel(){let r={};r.selectedProductCategory=this.selectedProductCategory,this.activeModal.close(r)}eventHeader(r){switch(r.key){case"SEARCH":this.search=r.value;break;case"EXCEL":default:break;case"PAGE":this.page=r.value}}onSort({column:r,direction:h}){this.headers.forEach(l=>{l.sortable!==r&&(l.direction="")}),this.productCategoryList=""===h||""===r?this.productCategoryList:[...this.productCategoryList].sort((l,c)=>{let m="string"==typeof l[r]?l[r].toLowerCase():l[r],o="string"==typeof c[r]?c[r].toLowerCase():c[r];const _=m<o?-1:m>o?1:0;return"asc"===h?_:-_})}static#e=this.\u0275fac=function(h){return new(h||S)(t.Y36(u.Kz))};static#t=this.\u0275cmp=t.Xpm({type:S,selectors:[["app-product-category-modal"]],viewQuery:function(h,l){if(1&h&&t.Gf(f.j,5),2&h){let c;t.iGM(c=t.CRH())&&(l.headers=c)}},inputs:{action:"action",productCategory:"productCategory",productCategoryList:"productCategoryList"},decls:37,vars:18,consts:[[1,"modelPage"],[1,"modal-header"],[1,"heading"],["type","button","aria-label","Close",1,"btn","btn-cross","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle"],[1,""],[1,"container-fluid"],[1,"row","justify-content-center"],[1,"col-12","px-0","mt-4"],[1,"px-5","mt-0"],[3,"data","dataChange"],[1,"table-responsive","px-5",2,"min-height","33rem"],[1,"table","table-bordered","table-sticky"],[1,"bg-primary"],[1,"text-white"],["sortable","SKUCategoryName",3,"sort"],["sortable","productCode",3,"sort"],["sortable","displayProductCategoryName",1,"text-start",3,"sort"],["sortable","application",3,"sort"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col","px-0","mb-3"],["class","line-border",4,"ngIf"],["class","text-center mb-2",4,"ngIf"],[1,"text-start"],["placement","right",1,"pointer",3,"ngbTooltip"],["type","radio",1,"form-check-input","pointer",3,"disabled","name","checked","change"],[1,"line-border"],[1,"text-center","mb-2"],["type","button",1,"btn","bg-primary","px-5","mb-4",3,"click"]],template:function(h,l){1&h&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Product Category"),t.qZA(),t.TgZ(4,"div")(5,"button",3),t.NdJ("click",function(){return l.activeModal.close()}),t._UZ(6,"i",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"app-setting-header",10),t.NdJ("dataChange",function(m){return l.eventHeader(m)}),t.qZA()(),t.TgZ(13,"div",11)(14,"table",12)(15,"thead",13)(16,"tr",14)(17,"th"),t._uU(18,"Sr. No."),t.qZA(),t.TgZ(19,"th",15),t.NdJ("sort",function(m){return l.onSort(m)}),t._uU(20,"Product No."),t.qZA(),t.TgZ(21,"th",16),t.NdJ("sort",function(m){return l.onSort(m)}),t._uU(22,"Product Code"),t.qZA(),t.TgZ(23,"th",17),t.NdJ("sort",function(m){return l.onSort(m)}),t._uU(24," Display Name "),t.qZA(),t.TgZ(25,"th",18),t.NdJ("sort",function(m){return l.onSort(m)}),t._uU(26,"Application"),t.qZA(),t.TgZ(27,"th"),t._uU(28,"Select"),t.qZA()()(),t.TgZ(29,"tbody"),t.YNc(30,b,14,10,"tr",19),t.ALo(31,"slice"),t.ALo(32,"searchFi1ter"),t.qZA()()()()(),t.TgZ(33,"div",20)(34,"div",21),t.YNc(35,e,1,0,"hr",22),t.qZA()(),t.YNc(36,M,3,0,"div",23),t.qZA()()()),2&h&&(t.xp6(12),t.Q6J("data",t.l5B(11,N,l.page,l.pageSize,l.collection,l.search)),t.xp6(18),t.Q6J("ngForOf",t.Dn7(31,4,t.xi3(32,8,l.productCategoryList,l.search),(l.page-1)*l.pageSize,(l.page-1)*l.pageSize+l.pageSize)),t.xp6(5),t.Q6J("ngIf",!t.DdM(16,k).includes(l.action)),t.xp6(1),t.Q6J("ngIf",!t.DdM(17,k).includes(l.action)))},dependencies:[v.sg,v.O5,Z.P,u._L,f.j,v.OU,A.G],encapsulation:2})}return S})()},13107:(D,T,a)=>{a.d(T,{t:()=>f});const f={width:24,style:{alignment:{vertical:"middle",horizontal:"center",wrapText:!0}}}},28402:(D,T,a)=>{a.d(T,{J:()=>f});const f=({data:t,headers:u,widths:v,title:Z})=>({tableData:{widths:v,headerRows:1,body:[u.map(b=>({text:b.header,style:"header"})),...t.map(b=>u.map(e=>({style:"subheader",text:b[e.key]})))]},title:Z})},49580:(D,T,a)=>{a.d(T,{D:()=>f});const f=[{message:"HSN Code is Required",key:"hsnCode"},{message:"Description of Goods is Required",key:"goodsDescription"},{message:"GST Rate % is Required",key:"gstRate"},{message:"IGST Rate % is Required",key:"igstRate"},{message:"CGST Rate % is Required",key:"cgstRate"},{message:"SGST Rate % is Required",key:"sgstRate"},{message:"UTGST Rate % is Required",key:"ugstRate"},{message:"Revision No. is Required",key:"revisionNo"},{message:"Revision Date is Required",key:"revisionDate"}]},4092:(D,T,a)=>{a.d(T,{tm:()=>e,Kb:()=>f,lR:()=>M,jH:()=>t,y5:()=>N,OV:()=>S,HQ:()=>O,RS:()=>q,vc:()=>r,Nj:()=>c,rw:()=>m,Uh:()=>h,J4:()=>_,ff:()=>v,BC:()=>o,JY:()=>Z,Dd:()=>l,Sy:()=>A,tH:()=>k,RH:()=>b});const f=[{message:"Customer Name is Required",key:"customerName"},{message:"Mobile No. is Required",key:"mobileNo"},{message:"stateOfSupply is Required",key:"stateOfSupply"}],t=[{message:"Customer Code is Required",key:"customerCode"},{message:"Customer Name is Required",key:"customerName"},{message:"Sales Category is Required",key:"customerCategory"},{message:"PAN No. is Required",key:"customerPAN"},{message:"GSTIN is Required",key:"GSTIN"},{message:"GST Classification is Required",key:"GSTClassification"},{message:"Customer Category is Required",key:"customerType"},{message:"Customer Currency is Required",key:"customerCurrency"},{message:"Payment Terms is Required",key:"customerPaymentTerms"}];a(49580);const v=[{message:"SAC Code is Required",key:"sacCode"},{message:"Description of Service is Required",key:"serviceDescription"},{message:"GST Rate % is Required",key:"gstRate"},{message:"IGST Rate % is Required",key:"igstRate"},{message:"CGST Rate % is Required",key:"cgstRate"},{message:"SGST Rate % is Required",key:"sgstRate"},{message:"UTGST Rate % is Required",key:"ugstRate"},{message:"Revision Date is Required",key:"revisionNo"},{message:"Revision Date is Required",key:"revisionDate"}],Z=[{message:"Service Description is Required",key:"serviceDescription"}],A=[{message:"SKU Stage is Required",key:"SKUStage"},{message:"Product Category is Required",key:"productCategory"},{message:"SKU No is Required",key:"SKUNo"},{message:"SKU Name is Required",key:"SKUName"},{message:"SKU Description is Required",key:"SKUDescription"},{message:"HSN Code is Required",key:"hsn"},{message:"Unit of Measurement is Required",key:"primaryUnit"}],k=[{message:"Shelf Life [Months] is required",key:"shelfLife"},{message:"Storage Temperature [\xb0C] is required",key:"storageTemp"},{message:"Storage Humidity [RH] is required",key:"storageHumidity"},{message:"Special Storage Instruction is required",key:"specialStorageInstruction"}],b=[{message:"Type is Required",key:"transporterType"}],e=[{message:"Bill From Location is Required",key:"billFromLocation"},{message:"Customer Category is Required",key:"salesCategory"},{message:"Customer Name is Required",key:"customer"},{message:"Purchase Order No. is Required",key:"PONumber"},{message:"Purchase Order Date is Required",key:"PODate"},{message:"Net SO Value is Required",key:"SOTotalAmount"},{message:"Status is Required",key:"SOStatus"},{message:"Customer Shipping Address is Required",key:"customerShippingAddress"},{message:"Fright Terms is Required",key:"frightTerms"},{message:"Transporter is Required",key:"transporter"},{message:"Destination is Required",key:"destination"}],M=[{message:"Customer Category is Required",key:"salesCategory"},{message:"Customer Name is Required",key:"customer"}],N=[{message:"Customer Category is Required",key:"salesCategory"},{message:"Customer Name is Required",key:"customer"}],O=[{message:"Customer Category is Required",key:"salesCategory"},{message:"Customer Name is Required",key:"customer"},{message:"Fright Terms is Required",key:"frightTerms"},{message:"Destination Terms is Required",key:"destination"},{message:"Mode of Transport is Required",key:"modeOfTransport"}],S=[{message:"Export Invoice No. is Required",key:"exportsInvoiceNo"},{message:"Export Invoice Date is Required",key:"exportsInvoiceDate"},{message:"Export Invoice Total Value is Required",key:"exportsInvoiceTotalValue"},{message:"Exchange Rate is Required",key:"exchangeRate"},{message:"Mode of Transport is Required",key:"modeOfTransport"},{message:"Fright Terms is Required",key:"frightTerms"},{message:"Port of Destination Terms is Required",key:"destination"},{message:"Final Destination Terms is Required",key:"finalDestination"}],q=[{message:"Payment Terms is Required",key:"paymentTerms"},{message:"Fright Terms is Required",key:"frightTerms"},{message:"Transporter Terms is Required",key:"transporter"},{message:"Destination Terms is Required",key:"destination"},{message:"Mode of Transport is Required",key:"modeOfTransport"}],r=[{message:"Supply Type is Required",key:"supplyType"},{message:"Sub Supply Type is Required",key:"subSupplyType"},{message:"Document Type is Required",key:"docType"},{message:"Document No. is Required of 16 Digits",key:"docNo"},{message:"Document Date is Required",key:"docDate"},{message:"From GSTIN is Required of 15 Digits",key:"fromGstin"},{message:"From Pin Code is Required",key:"fromPincode"},{message:"Act From State Code is Required",key:"actFromStateCode"},{message:"From State Code is Required",key:"fromStateCode"},{message:"To GSTIN is Required of 15 Digits",key:"toGstin"},{message:"To Pin Code is Required",key:"toPincode"},{message:"To State Code is Required",key:"toStateCode"},{message:"Act To State Code is Required",key:"actToStateCode"},{message:"Transaction Type is Required of 4 Digits",key:"transactionType"},{message:"Tot Inv Value is Required",key:"totInvValue"},{message:"Trans Distance is Required",key:"transDistance"}],h=[{message:"Bill From Location is Required",key:"billFromLocation"},{message:"Customer Category is Required",key:"salesCategory"},{message:"Customer Name is Required",key:"customer"},{message:"PO No. is Required",key:"PONumber"},{message:"Net SO Value is Required",key:"PITotalAmount"},{message:"Status is Required",key:"PIStatus"},{message:"Customer Shipping Address is Required",key:"customerShippingAddress"},{message:"Mode Of Transport is Required",key:"modeOfTransport"},{message:"frightTerms is Required",key:"frightTerms"},{message:"transporter is Required",key:"transporter"},{message:"destination is Required",key:"destination"}],l=[{message:"Invoice # is Required",key:"serviceInvoiceNumber"},{message:"Invoice Date is Required",key:"serviceInvoiceDate"},{message:"Customer/Sales Category is Required",key:"customerCategory"},{message:"Customer Name is Required",key:"customer"},{message:"Purchase Order No. is Required",key:"PONo"},{message:"Purchase Order Date is Required",key:"PODate"},{message:"Currency is Required",key:"currency"},{message:"Bill From Location is Required",key:"billFromLocation"}],c=[{message:"Product Category is Required",key:"productCategory"},{message:"HSN Code is Required",key:"HSN"},{message:"Description is Required",key:"description"},{message:"IGST Rate % is Required",key:"igstRate"},{message:"CGST Rate % is Required",key:"cgstRate"},{message:"SGST Rate % is Required",key:"sgstRate"}],m=[{message:"Order is Required",key:"order"},{message:"Payment Terms Description is Required",key:"paymentDescription"}],o=[{message:"Customer Category is Required",key:"customerCategory"},{message:"Customer Name is Required",key:"customer"},{message:"FC Type is Required",key:"FCType"},{message:"Net FC Value is Required",key:"netFCValue"}],_=[{message:"Quotation No. is Required",key:"quotationNo"},{message:"Customer Category is Required",key:"customerCategory"},{message:"Customer Name  is Required",key:"customerName"}]}}]);