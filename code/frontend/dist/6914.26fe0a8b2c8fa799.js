"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6914],{46316:(F,p,c)=>{c.r(p),c.d(p,{DefectListConfigurationModule:()=>S});var d=c(96814),f=c(1076),t=c(65879),h=c(31384),m=c(2742),g=c(37285),l=c(60095),u=c(95346);function _(n,r){1&n&&t._UZ(0,"img",41)}function v(n,r){1&n&&t._UZ(0,"img",42)}function b(n,r){if(1&n&&(t.TgZ(0,"li",44)(1,"span",45),t._uU(2),t.qZA()()),2&n){const s=t.oxw(),e=s.$implicit,i=s.pages;t.xp6(2),t.AsE(" Page ",e," of ",i[i.length-1]," ")}}function C(n,r){1&n&&t.YNc(0,b,3,2,"li",43),2&n&&t.Q6J("ngIf",r.pages.length>0)}function D(n,r){if(1&n){const s=t.EpF();t.TgZ(0,"ngb-pagination",37),t.NdJ("pageChange",function(i){t.CHM(s);const o=t.oxw();return t.KtG(o.page=i)}),t.YNc(1,_,1,0,"ng-template",38),t.YNc(2,v,1,0,"ng-template",39),t.YNc(3,C,1,1,"ng-template",40),t.qZA()}if(2&n){const s=t.oxw();t.Q6J("collectionSize",s.defectListDetails.length)("page",s.page)("pageSize",s.pageSize)("boundaryLinks",!1)}}function Z(n,r){if(1&n){const s=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",32,46)(5,"span",47),t._uU(6),t.qZA()(),t.TgZ(7,"td")(8,"div",48),t._UZ(9,"button",49),t.TgZ(10,"div",50)(11,"a",51),t.NdJ("click",function(){const o=t.CHM(s).$implicit,a=t.oxw();return t.KtG(a.setRename(o))}),t.TgZ(12,"div",52),t._UZ(13,"div",53),t._uU(14," Rename "),t.qZA()(),t.TgZ(15,"a",51),t.NdJ("click",function(){const o=t.CHM(s).index,a=t.oxw();return t.KtG(a.moveUp(o+(a.page-1)*a.pageSize))}),t.TgZ(16,"div",52),t._UZ(17,"div",54),t._uU(18," Move Up "),t.qZA()(),t.TgZ(19,"a",51),t.NdJ("click",function(){const o=t.CHM(s).index,a=t.oxw();return t.KtG(a.moveDown(o+(a.page-1)*a.pageSize))}),t.TgZ(20,"div",52),t._UZ(21,"div",55),t._uU(22," Move Down "),t.qZA()(),t.TgZ(23,"a",51),t.NdJ("click",function(){const o=t.CHM(s).$implicit,a=t.oxw();return t.KtG(a.deleteItem(o.SN))}),t.TgZ(24,"div",52),t._UZ(25,"div",56),t._uU(26," Delete "),t.qZA()()()()()()}if(2&n){const s=r.$implicit,e=r.index,i=t.MAs(4),o=t.oxw();t.xp6(2),t.Oqu(e+1+(o.page-1)*o.pageSize),t.xp6(1),t.Udp("width",i.clientWidth),t.xp6(2),t.Q6J("ngbTooltip",s.defectName)("positionTarget",i),t.xp6(1),t.hij(" ",s.defectName," "),t.xp6(9),t.ekj("disable",0==e),t.xp6(4),t.ekj("disable",e+(o.page-1)*o.pageSize>=o.defectListDetails.length-1)}}const L=function(){return{standalone:!0}};let w=(()=>{var n;class r{constructor(e,i,o,a){this.defectListConfigService=e,this.spinner=i,this.toastService=o,this.activatedRoute=a,this.submitted=!1,this.totalNoOfRows=null,this.defectListDetails=[],this.page=1,this.pageSize=9,this.collection=0,this.column="SN",this.direction=-1,this.search="",this.action="create",this.selectedDetails={},this.selectIndex=0,this.description="",this.moveUpDisable=!1,this.moveDownDisable=!1,this.type="",this.setRenameFlag=!1}ngOnInit(){this.type=this.activatedRoute.snapshot.paramMap.get("appConfiguration"),this.getInitialData()}submit(){0!=this.defectListDetails.length?(this.SNNumber(),this.create(this.defectListDetails)):this.toastService.warning("Please add at least one Row !")}create(e){this.spinner.show(),this.defectListConfigService.createOrUpdate(e).subscribe(i=>{this.submitted=!1,this.spinner.hide(),this.toastService.success(i.message),this.getInitialData()})}setTable(){}swapElements(e,i,o){console.log("index1",i),console.log("index2",o);let a=e[i];e[i]=e[o],e[o]=a}moveUp(e){e>0?(this.swapElements(this.defectListDetails,e,e-1),this.moveDownDisable=!1):this.moveUpDisable=!0}moveDown(e){e<this.defectListDetails.length-1?(this.swapElements(this.defectListDetails,e+1,e),this.moveUpDisable=!1):this.moveDownDisable=!0}changeDefectName(e,i){}reset(){this.description=null,this.totalNoOfRows=null,this.setRenameFlag=!1,this.getInitialData()}setRename(e){this.selectedDetails=e,this.setRenameFlag=!0,this.description=e?.defectName}addDescription(){if(this.description){if(this.setRenameFlag){if(this.setRenameFlag){if(this.defectListDetails.find(e=>e.defectName==this.description))return void this.toastService.warning("the record you edit already exist !");this.defectListDetails=this.defectListDetails.map(e=>(e?.SN==this.selectedDetails?.SN&&(e.defectName=this.description,this.setRenameFlag=!1),e)),this.description=null,this.toastService.success("Record Updated Successfully !")}}else{if(this.defectListDetails.find(i=>i.defectName==this.description))return void this.toastService.warning("the record you creating already exist !");this.defectListDetails.push({SN:this.defectListDetails?.length+1,defectName:this.description}),this.description=null,this.totalNoOfRows=this.defectListDetails?.length,this.toastService.success("Record Added Successfully !")}this.SNNumber()}else this.toastService.warning("Pls Enter Description !")}SNNumber(){this.defectListDetails=this.defectListDetails.map((e,i)=>(e.SN=i+1,e))}eventHeader(e){"PAGE"===e.key&&(this.page=e.value)}trackByFn(e,i){return i?._id}deleteItem(e){let i=this.defectListDetails.findIndex(o=>o.SN==e);"view"!=this.action&&(this.defectListDetails.splice(i,1),this.collection=this.defectListDetails.length,this.totalNoOfRows=this.totalNoOfRows-1,this.search="",this.page=1)}getInitialData(){this.spinner.show(),this.defectListConfigService.getAll({}).subscribe(e=>{console.log("result",e),e.length>0&&(this.defectListDetails=e,this.collection=this.defectListDetails?.length),this.collection=this.defectListDetails?.length,this.totalNoOfRows=this.collection,this.spinner.hide()})}}return(n=r).\u0275fac=function(e){return new(e||n)(t.Y36(h.KJ),t.Y36(m.V),t.Y36(m.kl),t.Y36(f.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-defect-list-configuration-form"]],decls:53,vars:15,consts:[[1,"formCard","card"],[1,"set-remaining-margin"],[1,"row","form-header"],[1,"col","heading"],[1,"form-body","pt-0"],[1,"row","mb-0"],[1,"col-4","border","border-start-1","pt-4","pe-5"],[1,"mt-4",3,"submit"],[1,"row","pe-4","mt-4"],[1,"col-11","pe-0"],["type","text","placeholder","Add description to list",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"col-1","d-flex","align-items-end","ps-0"],["type","submit",1,"plusIconSvg","btn","btn-primary",2,"padding","1.4rem 1.4rem 1.4rem 1.4rem"],[1,"row","mt-5"],[1,"d-flex","align-items-center","pe-4"],[1,"text-nowrap"],[1,"text-black",2,"font-size","1.3rem"],[1,"text-secondary","mx-2"],["type","number","readonly","",1,"form-control","bg-white-smoke",3,"ngModel","disabled","ngModelChange"],[1,"row","d-flex","justify-content-center","mt-5"],[1,"col-12"],["type","button",1,"btn","btn-primary","px-5",3,"click"],[1,"col-8","border","border-start-1"],[1,"row","px-5","mt-4"],[1,"row","justify-content-between"],[1,"col-4"],[1,"col-4","d-flex","justify-content-center"],[3,"collectionSize","page","pageSize","boundaryLinks","pageChange",4,"ngIf"],[1,"table-responsive",2,"min-height","30rem"],[1,"table","table-bordered","table-sticky","mb-0"],[1,"bg-primary"],[1,"text-white"],[1,"text-start"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"row","line-border"],[1,"row","d-flex","justify-content-center"],[1,"col-12","d-flex","justify-content-center"],[3,"collectionSize","page","pageSize","boundaryLinks","pageChange"],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationPages",""],["src","./assets/new_icons/pagination_prev.svg","width","20rem"],["src","./assets/new_icons/pagination_next.svg","width","20rem"],["class","ngb-custom-pages-item align-self-center",4,"ngIf"],[1,"ngb-custom-pages-item","align-self-center"],[1,"page-label","me-2","ms-1"],["defectName",""],[1,"pointer",3,"ngbTooltip","positionTarget"],[1,"dropdown"],[1,"dropbtn"],[1,"dropdown-content"],["href","javascript:void(0)",3,"click"],[1,"d-flex"],[1,"rename-btn","set-action","me-3","pointer"],[1,"move-up-btn","set-action","me-3","pointer"],[1,"move-down-btn","set-action","me-3","pointer"],[1,"delete-btn","set-action","me-3","pointer"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label"),t._uU(5," Defect List Configuration "),t.qZA()()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"form",7),t.NdJ("submit",function(){return i.addDescription()}),t.TgZ(10,"div",8)(11,"div",9)(12,"input",10),t.NdJ("ngModelChange",function(a){return i.description=a}),t.qZA()(),t.TgZ(13,"div",11),t._UZ(14,"button",12),t.qZA()()(),t.TgZ(15,"div",13)(16,"div",14)(17,"div",15)(18,"span",16),t._uU(19,"Total number of rows in a list"),t.qZA(),t.TgZ(20,"span",17),t._uU(21,"\u25b6"),t.qZA()(),t.TgZ(22,"input",18),t.NdJ("ngModelChange",function(a){return i.totalNoOfRows=a}),t.qZA()()(),t.TgZ(23,"div",19)(24,"div",20)(25,"button",21),t.NdJ("click",function(){return i.reset()}),t._uU(26,"Reset"),t.qZA()()()(),t.TgZ(27,"div",22)(28,"div",23)(29,"div",24),t._UZ(30,"div",25),t.TgZ(31,"div",26),t.YNc(32,D,4,4,"ngb-pagination",27),t.qZA(),t._UZ(33,"div",25),t.qZA(),t.TgZ(34,"div",28)(35,"table",29)(36,"thead",30)(37,"tr",31)(38,"th"),t._uU(39,"SN"),t.qZA(),t.TgZ(40,"th",32),t._uU(41,"Defect Name"),t.qZA(),t.TgZ(42,"th"),t._uU(43,"Action"),t.qZA()()(),t.TgZ(44,"tbody"),t.YNc(45,Z,27,10,"tr",33),t.ALo(46,"slice"),t.ALo(47,"searchFi1ter"),t.qZA()()()(),t._UZ(48,"hr",34),t.TgZ(49,"div",35)(50,"div",36)(51,"button",21),t.NdJ("click",function(){return i.submit()}),t._uU(52,"Save"),t.qZA()()()()()()()()),2&e&&(t.xp6(12),t.Q6J("ngModel",i.description)("ngModelOptions",t.DdM(14,L)),t.xp6(10),t.Q6J("ngModel",i.totalNoOfRows)("disabled","view"==i.action),t.xp6(10),t.Q6J("ngIf",i.defectListDetails.length>0),t.xp6(13),t.Q6J("ngForOf",t.Dn7(46,7,t.xi3(47,11,i.defectListDetails,i.search),(i.page-1)*i.pageSize,(i.page-1)*i.pageSize+i.pageSize))("ngForTrackBy",i.trackByFn))},dependencies:[d.sg,d.O5,g.N9,g.GZ,g.ju,g.Qy,g._L,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.On,l.F,d.OU,u.G],styles:[".pagination[_ngcontent-%COMP%]{margin-bottom:0!important}ngb-pagination[_ngcontent-%COMP%]     ul.pagination{margin:0!important}.page-label[_ngcontent-%COMP%]{color:var(--bs-dark);padding:0 1rem;font-size:1.4rem}ngb-pagination[_ngcontent-%COMP%]     ul>li:not(.active)>a{border:none!important;color:var(--bs-white)!important;background-color:#fff!important;box-shadow:none}.fa[_ngcontent-%COMP%]{font-size:1.6rem!important}.set-input-group-text[_ngcontent-%COMP%]{border-radius:0!important;height:2.8rem!important;width:3rem}.set-action[_ngcontent-%COMP%]{margin-top:.6rem}"]}),r})();var T=c(19964),N=c(56208);const x=[{path:"form/:appConfiguration",component:w,resolve:{accessScreen:T.xr}}];let S=(()=>{var n;class r{}return(n=r).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,f.Bz.forChild(x),N.m]}),r})()}}]);