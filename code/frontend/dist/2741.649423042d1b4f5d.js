"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[2741],{82741:(I,m,p)=>{p.r(m),p.d(m,{MRNDetailsModule:()=>B});var r=p(96814),c=p(1076),R=p(43818),d=p(13107),A=p(28402);let f=[43,43,43,43,43,43,43,43,43,43,43,43],P="MRN Details Report",M=[{header:"Supplier Inv. #",key:"supplierInvoice",...d.t},{header:"Invoice Dt.",key:"supplierDate",...d.t},{header:"Supplier Name",key:"supplierName",...d.t},{header:"GRN Dt.",key:"GRNDate",...d.t},{header:"GRN No.",key:"GRNNumber",...d.t},{header:"MRN No.",key:"MRNNumber",...d.t},{header:"MRN Dt.",key:"MRNDate",...d.t},{header:"Item Name",key:"itemName",...d.t},{header:"GRN Qty.",key:"GRNQty",...d.t},{header:"UoM",key:"UOM",...d.t},{header:"MRN Status",key:"MRNStatus",...d.t}];var t=p(65879),g=p(7791),i=p(2742),e=p(88059),y=p(37285),v=p(60095),S=p(50363),U=p(59103);function _(h,D){if(1&h&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",35,36)(7,"span",37),t._uU(8),t.qZA()(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td",35,38)(19,"span",37),t._uU(20),t.qZA()(),t.TgZ(21,"td"),t._uU(22),t.qZA(),t.TgZ(23,"td"),t._uU(24),t.ALo(25,"UOMUnitsMaster"),t.qZA()()),2&h){const n=D.$implicit,o=t.MAs(6),a=t.MAs(18);t.xp6(2),t.Oqu(null==n?null:n.supplierInvoice),t.xp6(2),t.Oqu(null==n?null:n.supplierDate),t.xp6(1),t.Udp("width",o.clientWidth),t.xp6(2),t.Q6J("positionTarget",o)("ngbTooltip",n.supplierName),t.xp6(1),t.hij(" ",null==n?null:n.supplierName," "),t.xp6(2),t.Oqu(null==n?null:n.GRNDate),t.xp6(2),t.Oqu(null==n?null:n.GRNNumber),t.xp6(2),t.Oqu(null==n?null:n.MRNNumber),t.xp6(2),t.Oqu(null==n?null:n.MRNDate),t.xp6(1),t.Udp("width",a.clientWidth),t.xp6(2),t.Q6J("positionTarget",a)("ngbTooltip",n.itemName),t.xp6(1),t.hij(" ",n.itemName," "),t.xp6(2),t.Oqu(null==n?null:n.GRNQty),t.xp6(2),t.Oqu(t.lcZ(25,18,null==n?null:n.UOM))}}const T=function(h,D,n,o){return{page:h,pageSize:D,collection:n,search:o,type:"list",pdfDisplay:!0}};let q=(()=>{var h;class D{constructor(o,a,u,l,C,F){this.materialReleaseNote=o,this.exportExcelService=a,this.spinner=u,this.activatedRoute=l,this.utilityService=C,this.exportToPDFService=F,this.page=1,this.pageSize=12,this.collection=0,this.column="createdAt",this.direction=-1,this.search="",this.tableData=[],this.suppliersOptions=[],this.supplierId="",this.fromDate=this.utilityService.getCurrentMonthDates().fromDate,this.toDate=this.utilityService.getCurrentMonthDates().toDate}ngOnInit(){this.page=Number(this.activatedRoute.snapshot.queryParamMap.get("page")??1),this.getAll()}navigateTo(o,a){window.open(`${window.location.origin}/#/print/mrn?id=${o}&action=${a}`,"_blank")}trackByFn(o,a){return a?._id}eventHeader(o){switch(o.key){case"SEARCH":this.search=o.value,this.getAll();break;case"PDF":this.getAll(!0,"PDF");break;case"EXCEL":this.getAll(!0,"EXCEL");break;case"PAGE":this.page=o.value,this.getAll()}}reset(){this.fromDate=this.utilityService.getCurrentMonthDates().fromDate,this.toDate=this.utilityService.getCurrentMonthDates().toDate,this.supplierId="",this.getAll()}getAll(o=!1,a=""){this.spinner.show();let u={page:this.page,pageSize:this.pageSize,search:this.search,column:this.column,direction:this.direction,excel:o,supplier:this.supplierId,fromDate:this.fromDate,toDate:this.toDate};this.subscription&&this.subscription.unsubscribe(),this.subscription=this.materialReleaseNote.getAllMRNDetailsReports(u).subscribe(l=>{"EXCEL"==a?this.excelDownload(l.rows):"PDF"==a?this.pdfDownload(l.rows):(this.tableData=l.rows,this.suppliersOptions=l.suppliersOptions,this.collection=l.count),this.spinner.hide()})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}pdfDownload(o){let a=(h=>(0,A.J)({data:h,headers:M,widths:f,title:P}))(o);this.exportToPDFService.generatePdf(a.tableData,a.title)}excelDownload(o){this.exportExcelService.exportExcel((h=>({title:P,csvData:h,headers:M}))(o))}onSort({column:o,direction:a}){this.headers.forEach(u=>{u.sortable!==o&&(u.direction="")}),this.column=o,this.direction="asc"==a?1:-1,this.getAll()}}return(h=D).\u0275fac=function(o){return new(o||h)(t.Y36(g.AM),t.Y36(i.Ol),t.Y36(i.V),t.Y36(c.gz),t.Y36(i.tI),t.Y36(i.$L))},h.\u0275cmp=t.Xpm({type:h,selectors:[["app-mrn-details"]],viewQuery:function(o,a){if(1&o&&t.Gf(R.j,5),2&o){let u;t.iGM(u=t.CRH())&&(a.headers=u)}},decls:60,vars:13,consts:[[1,"reportTablePage"],[1,"table-body","pb-0","shadow-none"],[1,"row","table-header"],[1,"col"],[1,"heading"],[1,"row","my-4"],[1,"col-3","ps-5","separate-row"],[1,"form-label"],["bindLabel","supplierName","bindValue","_id",3,"items","clearable","ngModel","ngModelChange"],[1,"set-position"],["src","./assets/new_icons/redstroke.svg","alt","","height","27","width","8"],[1,"col-3"],[1,"text-danger"],["type","date",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-3","align-self-end","separate-image"],[1,"image-position"],["type","button",1,"btn","btn-primary","px-4","me-3",3,"click"],["type","button",1,"btn","btn-primary","px-4","ms-4",3,"click"],[1,"row","line-border"],[1,"table-responsive","mb-0"],[3,"data","dataChange"],[1,"table","table-bordered"],[1,"bg-primary"],[1,"text-white"],["sortable","supplierInvoice",3,"sort"],["sortable","supplierDate",3,"sort"],["sortable","supplierName",1,"text-start",3,"sort"],["sortable","GRNDate",3,"sort"],["sortable","GRNNumber",3,"sort"],["sortable","MRNNumber",3,"sort"],["sortable","MRNDate",3,"sort"],["sortable","itemName",1,"text-start",3,"sort"],["sortable","GRNQty",3,"sort"],["sortable","UOM",3,"sort"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-start"],["supplierName",""],[1,"pointer",3,"positionTarget","ngbTooltip"],["itemName",""]],template:function(o,a){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),t._uU(5,"MRN Details"),t.qZA()()(),t.TgZ(6,"div",5)(7,"div",6)(8,"label",7),t._uU(9,"Supplier Name"),t.qZA(),t.TgZ(10,"ng-select",8),t.NdJ("ngModelChange",function(l){return a.supplierId=l}),t.qZA(),t.TgZ(11,"span",9),t._UZ(12,"img",10),t.qZA()(),t.TgZ(13,"div",11)(14,"label",7),t._uU(15," From Date "),t.TgZ(16,"span",12),t._uU(17,"*"),t.qZA()(),t.TgZ(18,"input",13),t.NdJ("ngModelChange",function(l){return a.fromDate=l}),t.qZA()(),t.TgZ(19,"div",11)(20,"label",7),t._uU(21," To Date "),t.TgZ(22,"span",12),t._uU(23,"*"),t.qZA()(),t.TgZ(24,"input",13),t.NdJ("ngModelChange",function(l){return a.toDate=l}),t.qZA()(),t.TgZ(25,"div",14)(26,"span",15),t._UZ(27,"img",10),t.qZA(),t.TgZ(28,"button",16),t.NdJ("click",function(){return a.getAll()}),t._uU(29,"Apply Filter"),t.qZA(),t.TgZ(30,"button",17),t.NdJ("click",function(){return a.reset()}),t._uU(31,"Reset Filter"),t.qZA()()(),t._UZ(32,"hr",18),t.TgZ(33,"div",19)(34,"app-setting-header",20),t.NdJ("dataChange",function(l){return a.eventHeader(l)}),t.qZA(),t.TgZ(35,"table",21)(36,"thead",22)(37,"tr",23)(38,"th",24),t.NdJ("sort",function(l){return a.onSort(l)}),t._uU(39,"Supplier Inv.#"),t.qZA(),t.TgZ(40,"th",25),t.NdJ("sort",function(l){return a.onSort(l)}),t._uU(41,"Invoice Dt."),t.qZA(),t.TgZ(42,"th",26),t.NdJ("sort",function(l){return a.onSort(l)}),t._uU(43,"Supplier Name"),t.qZA(),t.TgZ(44,"th",27),t.NdJ("sort",function(l){return a.onSort(l)}),t._uU(45,"GRN Dt."),t.qZA(),t.TgZ(46,"th",28),t.NdJ("sort",function(l){return a.onSort(l)}),t._uU(47,"GRN No."),t.qZA(),t.TgZ(48,"th",29),t.NdJ("sort",function(l){return a.onSort(l)}),t._uU(49,"MRN No."),t.qZA(),t.TgZ(50,"th",30),t.NdJ("sort",function(l){return a.onSort(l)}),t._uU(51,"MRN Dt."),t.qZA(),t.TgZ(52,"th",31),t.NdJ("sort",function(l){return a.onSort(l)}),t._uU(53,"Item Name"),t.qZA(),t.TgZ(54,"th",32),t.NdJ("sort",function(l){return a.onSort(l)}),t._uU(55,"GRN Qty."),t.qZA(),t.TgZ(56,"th",33),t.NdJ("sort",function(l){return a.onSort(l)}),t._uU(57,"UoM"),t.qZA()()(),t.TgZ(58,"tbody"),t.YNc(59,_,26,20,"tr",34),t.qZA()()()()()),2&o&&(t.xp6(10),t.Q6J("items",a.suppliersOptions)("clearable",!1)("ngModel",a.supplierId),t.xp6(8),t.Q6J("ngModel",a.fromDate),t.xp6(6),t.Q6J("ngModel",a.toDate),t.xp6(10),t.Q6J("data",t.l5B(8,T,a.page,a.pageSize,a.collection,a.search)),t.xp6(25),t.Q6J("ngForOf",a.tableData)("ngForTrackBy",a.trackByFn))},dependencies:[r.sg,e.P,y._L,v.Fj,v.JJ,v.On,S.w9,R.j,U.S],encapsulation:2}),D})();var Z=p(56208);const b=[{path:"",component:q}];let B=(()=>{var h;class D{}return(h=D).\u0275fac=function(o){return new(o||h)},h.\u0275mod=t.oAB({type:h}),h.\u0275inj=t.cJS({imports:[r.ez,c.Bz.forChild(b),Z.m]}),D})()},13107:(I,m,p)=>{p.d(m,{t:()=>r});const r={width:24,style:{alignment:{vertical:"middle",horizontal:"center",wrapText:!0}}}},28402:(I,m,p)=>{p.d(m,{J:()=>r});const r=({data:c,headers:R,widths:d,title:A})=>({tableData:{widths:d,headerRows:1,body:[R.map(M=>({text:M.header,style:"header"})),...c.map(M=>R.map(N=>({style:"subheader",text:M[N.key]})))]},title:A})},7791:(I,m,p)=>{p.d(m,{AM:()=>d,gR:()=>A,ZG:()=>N,Vk:()=>f,oD:()=>P,Du:()=>M});var r=p(37398),c=p(65879),R=p(2742);let d=(()=>{var s;class t{constructor(i){this.http=i,this.routes={createPath:"/quality/mrn/create",getAllPath:"/quality/mrn/getAll",getRMSpecificationByItemIdPath:"/quality/mrn/getRMSpecificationByItemId",getAllMasterDataPath:"/quality/mrn/getAllMasterData",getAllMRNReportsPath:"/quality/mrn/getAllMRNReports",getAllReportsPath:"/quality/mrn/getAllReports",getAllSupplierWiseReportsPath:"/quality/mrn/getAllSupplierWiseReports",getAllItemWiseReportsPath:"/quality/mrn/getAllItemWiseReports",getAllMRNDetailsReportsPath:"/quality/mrn/getAllMRNDetailsReports",getAllRawMaterialInspectionReportsPath:"/quality/mrn/getAllRawMaterialInspectionReports",getByMRNIdForRMInspectionPath:"/quality/mrn/getByMRNIdForRMInspection",updatePath:e=>`/quality/mrn/update/${e}`,getByIdPath:e=>`/quality/mrn/getById/${e}`,getMRNDetailsByIdPath:e=>`/quality/mrn/getMRNDetailsById/${e}`,deletePath:e=>`/quality/mrn/delete/${e}`}}create(i){return this.http.post(this.routes.createPath,i).pipe((0,r.U)(e=>e))}getAll(i){return this.http.get(this.routes.getAllPath,i).pipe((0,r.U)(e=>e))}getRMSpecificationByItemId(i){return this.http.get(this.routes.getRMSpecificationByItemIdPath,i).pipe((0,r.U)(e=>e))}getAllReports(i){return this.http.get(this.routes.getAllReportsPath,i).pipe((0,r.U)(e=>e))}getAllMRNReports(i){return this.http.get(this.routes.getAllMRNReportsPath,i).pipe((0,r.U)(e=>e))}getAllSupplierWiseReports(i){return this.http.get(this.routes.getAllSupplierWiseReportsPath,i).pipe((0,r.U)(e=>e))}getAllItemWiseReports(i){return this.http.get(this.routes.getAllItemWiseReportsPath,i).pipe((0,r.U)(e=>e))}getAllMRNDetailsReports(i){return this.http.get(this.routes.getAllMRNDetailsReportsPath,i).pipe((0,r.U)(e=>e))}getAllMasterData(i){return this.http.get(this.routes.getAllMasterDataPath,i).pipe((0,r.U)(e=>e))}getAllRawMaterialInspectionReports(i){return this.http.get(this.routes.getAllRawMaterialInspectionReportsPath,i).pipe((0,r.U)(e=>e))}getByMRNIdForRMInspection(i){return this.http.get(this.routes.getByMRNIdForRMInspectionPath,i).pipe((0,r.U)(e=>e))}update(i,e){return this.http.put(this.routes.updatePath(i),e).pipe((0,r.U)(y=>y))}getById(i){return this.http.get(this.routes.getByIdPath(i)).pipe((0,r.U)(e=>e))}getMRNDetailsById(i){return this.http.get(this.routes.getMRNDetailsByIdPath(i)).pipe((0,r.U)(e=>e))}delete(i){return this.http.delete(this.routes.deletePath(i)).pipe((0,r.U)(e=>e))}}return(s=t).\u0275fac=function(i){return new(i||s)(c.LFG(R.sM))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})(),A=(()=>{var s;class t{constructor(i){this.http=i,this.routes={createPath:"/quality/PDIREntry/create",getAllPath:"/quality/PDIREntry/getAll",getProductSpecificationBySKUIdPath:"/quality/PDIREntry/getProductSpecificationBySKUId",getAllReportPath:"/quality/PDIREntry/getAllReports",getAllMasterDataPath:"/quality/PDIREntry/getAllMasterData",getAllSalesInvoiceForPDIREntryPath:"/quality/PDIREntry/getAllSalesInvoiceForPDIREntry",updatePath:e=>`/quality/PDIREntry/update/${e}`,getPDIRDetailsBySalesInvoiceIdPath:e=>`/quality/PDIREntry/getPDIRDetailsBySalesInvoiceId/${e}`,getByIdPath:e=>`/quality/PDIREntry/getById/${e}`,getPDIRDetailsByIdPath:e=>`/quality/PDIREntry/getPDIRDetailsById/${e}`,deletePath:e=>`/quality/PDIREntry/delete/${e}`}}create(i){return this.http.post(this.routes.createPath,i).pipe((0,r.U)(e=>e))}getAllReports(i){return this.http.get(this.routes.getAllReportPath,i).pipe((0,r.U)(e=>e))}getAll(i){return this.http.get(this.routes.getAllPath,i).pipe((0,r.U)(e=>e))}getProductSpecificationBySKUId(i){return this.http.get(this.routes.getProductSpecificationBySKUIdPath,i).pipe((0,r.U)(e=>e))}getAllMasterData(i){return this.http.get(this.routes.getAllMasterDataPath,i).pipe((0,r.U)(e=>e))}getAllSalesInvoiceForPDIREntry(i){return this.http.get(this.routes.getAllSalesInvoiceForPDIREntryPath,i).pipe((0,r.U)(e=>e))}update(i,e){return this.http.put(this.routes.updatePath(i),e).pipe((0,r.U)(y=>y))}getById(i){return this.http.get(this.routes.getByIdPath(i)).pipe((0,r.U)(e=>e))}getPDIRDetailsById(i){return this.http.get(this.routes.getPDIRDetailsByIdPath(i)).pipe((0,r.U)(e=>e))}getPDIRDetailsBySalesInvoiceId(i){return this.http.get(this.routes.getPDIRDetailsBySalesInvoiceIdPath(i)).pipe((0,r.U)(e=>e))}delete(i){return this.http.delete(this.routes.deletePath(i)).pipe((0,r.U)(e=>e))}}return(s=t).\u0275fac=function(i){return new(i||s)(c.LFG(R.sM))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})(),f=(()=>{var s;class t{constructor(i){this.http=i,this.routes={createPath:"/quality/product-specification/create",getAllPath:"/quality/product-specification/getAll",getAllMasterDataPath:"/quality/product-specification/getAllMasterData",updatePath:e=>`/quality/product-specification/update/${e}`,getByIdPath:e=>`/quality/product-specification/getById/${e}`,deletePath:e=>`/quality/product-specification/delete/${e}`}}create(i){return this.http.post(this.routes.createPath,i).pipe((0,r.U)(e=>e))}getAll(i){return this.http.get(this.routes.getAllPath,i).pipe((0,r.U)(e=>e))}getAllMasterData(i){return this.http.get(this.routes.getAllMasterDataPath,i).pipe((0,r.U)(e=>e))}update(i,e){return this.http.put(this.routes.updatePath(i),e).pipe((0,r.U)(y=>y))}getById(i){return this.http.get(this.routes.getByIdPath(i)).pipe((0,r.U)(e=>e))}delete(i){return this.http.delete(this.routes.deletePath(i)).pipe((0,r.U)(e=>e))}}return(s=t).\u0275fac=function(i){return new(i||s)(c.LFG(R.sM))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})(),P=(()=>{var s;class t{constructor(i){this.http=i,this.routes={createPath:"/quality/rm-specification/create",getAllPath:"/quality/rm-specification/getAll",getAllMasterDataPath:"/quality/rm-specification/getAllMasterData",updatePath:e=>`/quality/rm-specification/update/${e}`,getByIdPath:e=>`/quality/rm-specification/getById/${e}`,deletePath:e=>`/quality/rm-specification/delete/${e}`}}create(i){return this.http.post(this.routes.createPath,i).pipe((0,r.U)(e=>e))}getAll(i){return this.http.get(this.routes.getAllPath,i).pipe((0,r.U)(e=>e))}getAllMasterData(i){return this.http.get(this.routes.getAllMasterDataPath,i).pipe((0,r.U)(e=>e))}update(i,e){return this.http.put(this.routes.updatePath(i),e).pipe((0,r.U)(y=>y))}getById(i){return this.http.get(this.routes.getByIdPath(i)).pipe((0,r.U)(e=>e))}delete(i){return this.http.delete(this.routes.deletePath(i)).pipe((0,r.U)(e=>e))}}return(s=t).\u0275fac=function(i){return new(i||s)(c.LFG(R.sM))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})(),M=(()=>{var s;class t{constructor(i){this.http=i,this.routes={createPath:"/quality/specificationMaster/create",getAllPath:"/quality/specificationMaster/getAll",getAllMasterDataPath:"/quality/specificationMaster/getAllMasterData",updatePath:e=>`/quality/specificationMaster/update/${e}`,getByIdPath:e=>`/quality/specificationMaster/getById/${e}`,deletePath:e=>`/quality/specificationMaster/delete/${e}`}}create(i){return this.http.post(this.routes.createPath,i).pipe((0,r.U)(e=>e))}getAll(i){return this.http.get(this.routes.getAllPath,i).pipe((0,r.U)(e=>e))}getAllMasterData(i){return this.http.get(this.routes.getAllMasterDataPath,i).pipe((0,r.U)(e=>e))}update(i,e){return this.http.put(this.routes.updatePath(i),e).pipe((0,r.U)(y=>y))}getById(i){return this.http.get(this.routes.getByIdPath(i)).pipe((0,r.U)(e=>e))}delete(i){return this.http.delete(this.routes.deletePath(i)).pipe((0,r.U)(e=>e))}}return(s=t).\u0275fac=function(i){return new(i||s)(c.LFG(R.sM))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})(),N=(()=>{var s;class t{constructor(i){this.http=i,this.routes={createPath:"/quality/productCategorySpecification/create",getAllPath:"/quality/productCategorySpecification/getAll",getAllMasterDataPath:"/quality/productCategorySpecification/getAllMasterData",updatePath:e=>`/quality/productCategorySpecification/update/${e}`,getByIdPath:e=>`/quality/productCategorySpecification/getById/${e}`,deletePath:e=>`/quality/productCategorySpecification/delete/${e}`}}create(i){return this.http.post(this.routes.createPath,i).pipe((0,r.U)(e=>e))}getAll(i){return this.http.get(this.routes.getAllPath,i).pipe((0,r.U)(e=>e))}getAllMasterData(i){return this.http.get(this.routes.getAllMasterDataPath,i).pipe((0,r.U)(e=>e))}update(i,e){return this.http.put(this.routes.updatePath(i),e).pipe((0,r.U)(y=>y))}getById(i){return this.http.get(this.routes.getByIdPath(i)).pipe((0,r.U)(e=>e))}delete(i){return this.http.delete(this.routes.deletePath(i)).pipe((0,r.U)(e=>e))}}return(s=t).\u0275fac=function(i){return new(i||s)(c.LFG(R.sM))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),t})()}}]);