"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[3191],{3191:(M,u,c)=>{c.r(u),c.d(u,{ProcessListConfigurationModule:()=>F});var g=c(96814),m=c(1076),h=c(25116),t=c(65879),_=c(31384),p=c(2742),d=c(37285),l=c(60095),b=c(95346);function v(n,r){1&n&&(t.TgZ(0,"button",44),t._uU(1," Edit "),t.qZA())}function C(n,r){1&n&&(t.TgZ(0,"button",45),t._uU(1," Revisions "),t.qZA())}function Z(n,r){1&n&&t._UZ(0,"img",50)}function L(n,r){1&n&&t._UZ(0,"img",51)}function T(n,r){if(1&n&&(t.TgZ(0,"li",53)(1,"span",54),t._uU(2),t.qZA()()),2&n){const o=t.oxw(),e=o.$implicit,i=o.pages;t.xp6(2),t.AsE(" Page ",e," of ",i[i.length-1]," ")}}function A(n,r){1&n&&t.YNc(0,T,3,2,"li",52),2&n&&t.Q6J("ngIf",r.pages.length>0)}function S(n,r){if(1&n){const o=t.EpF();t.TgZ(0,"ngb-pagination",46),t.NdJ("pageChange",function(i){t.CHM(o);const s=t.oxw();return t.KtG(s.page=i)}),t.YNc(1,Z,1,0,"ng-template",47),t.YNc(2,L,1,0,"ng-template",48),t.YNc(3,A,1,1,"ng-template",49),t.qZA()}if(2&n){const o=t.oxw();t.Q6J("collectionSize",o.defectListDetails.length)("page",o.page)("pageSize",o.pageSize)("boundaryLinks",!1)}}function N(n,r){if(1&n){const o=t.EpF();t.TgZ(0,"a",61),t.NdJ("click",function(){t.CHM(o);const i=t.oxw().$implicit,s=t.oxw();return t.KtG(s.setRename(i))}),t.TgZ(1,"div",62),t._UZ(2,"div",65),t._uU(3," Rename "),t.qZA()()}}function w(n,r){if(1&n){const o=t.EpF();t.TgZ(0,"a",61),t.NdJ("click",function(){t.CHM(o);const i=t.oxw().$implicit,s=t.oxw();return t.KtG(s.deleteItem(i.SN))}),t.TgZ(1,"div",62),t._UZ(2,"div",66),t._uU(3," Delete "),t.qZA()()}}function D(n,r){if(1&n){const o=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",42,55)(5,"span",56),t._uU(6),t.qZA()(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"div",57),t._UZ(11,"button",58),t.TgZ(12,"div",59),t.YNc(13,N,4,0,"a",60),t.TgZ(14,"a",61),t.NdJ("click",function(){const s=t.CHM(o).index,a=t.oxw();return t.KtG(a.moveUp(s+(a.page-1)*a.pageSize))}),t.TgZ(15,"div",62),t._UZ(16,"div",63),t._uU(17," Move Up "),t.qZA()(),t.TgZ(18,"a",61),t.NdJ("click",function(){const s=t.CHM(o).index,a=t.oxw();return t.KtG(a.moveDown(s+(a.page-1)*a.pageSize))}),t.TgZ(19,"div",62),t._UZ(20,"div",64),t._uU(21," Move Down "),t.qZA()(),t.YNc(22,w,4,0,"a",60),t.qZA()()()()}if(2&n){const o=r.$implicit,e=r.index,i=t.MAs(4),s=t.oxw();t.xp6(2),t.Oqu(e+1+(s.page-1)*s.pageSize),t.xp6(1),t.Udp("width",i.clientWidth),t.xp6(2),t.Q6J("ngbTooltip",o.processName)("positionTarget",i),t.xp6(1),t.hij(" ",o.processName," "),t.xp6(2),t.Oqu(null==o?null:o.source),t.xp6(5),t.Q6J("ngIf",s.user==s.superAdminId),t.xp6(1),t.ekj("disable",0==e),t.xp6(4),t.ekj("disable",e+(s.page-1)*s.pageSize>=s.defectListDetails.length-1),t.xp6(4),t.Q6J("ngIf",s.user==s.superAdminId)}}const f=function(){return{standalone:!0}};let P=(()=>{var n;class r{constructor(e,i,s,a,U){this.processListConfigService=e,this.spinner=i,this.toastService=s,this.activatedRoute=a,this.storageService=U,this.submitted=!1,this.totalNoOfRows=null,this.defectListDetails=[],this.page=1,this.pageSize=11,this.collection=0,this.column="SN",this.direction=-1,this.search="",this.action="create",this.selectedDetails={},this.selectIndex=0,this.description="",this.moveUpDisable=!1,this.moveDownDisable=!1,this.type="Process",this.inHouseAndOutSource=null,this.setRenameFlag=!1,this.user="",this.superAdminId=h.dA}ngOnInit(){this.user=this.storageService.get("IDMSAUser")?.roles?.find(e=>e==this.superAdminId),console.log("user",this.user),this.getInitialData()}submit(){0!=this.defectListDetails.length?(this.SNNumber(),this.create(this.defectListDetails)):this.toastService.warning("Please add at least one Row !")}create(e){this.spinner.show(),this.processListConfigService.createOrUpdate(e).subscribe(i=>{this.submitted=!1,this.spinner.hide(),this.toastService.success(i.message),this.getInitialData()})}setTable(){}swapElements(e,i,s){let a=e[i];e[i]=e[s],e[s]=a}moveUp(e){e>0?(this.swapElements(this.defectListDetails,e,e-1),this.moveDownDisable=!1):this.moveUpDisable=!0}moveDown(e){e<this.defectListDetails.length-1?(this.swapElements(this.defectListDetails,e+1,e),this.moveUpDisable=!1):this.moveDownDisable=!0}changeDefectName(e,i){}reset(){this.description=null,this.inHouseAndOutSource=null,this.totalNoOfRows=null,this.setRenameFlag=!1,this.getInitialData()}setRename(e){this.selectedDetails=e,this.setRenameFlag=!0,this.description=e?.processName,this.inHouseAndOutSource=e?.source}addDescription(){if(this.user==this.superAdminId){if(!this.description)return void this.toastService.warning("Pls Add Process Name to list !");if(!this.inHouseAndOutSource)return void this.toastService.warning("Pls Select & Add Source to Lis !");if(this.setRenameFlag){if(this.setRenameFlag){if(this.defectListDetails.find(e=>e.processName==this.description))return void this.toastService.warning("the record you edit already exist !");this.defectListDetails=this.defectListDetails.map(e=>(e?.SN==this.selectedDetails?.SN&&(e.processName=this.description,e.source=this.inHouseAndOutSource,this.setRenameFlag=!1),e)),this.description=null,this.inHouseAndOutSource=null,this.toastService.success("Record Updated Successfully !")}}else{if(this.defectListDetails.find(i=>i.processName==this.description))return void this.toastService.warning("the record you creating already exist !");this.defectListDetails.push({SN:this.defectListDetails?.length+1,processName:this.description,source:this.inHouseAndOutSource}),this.description=null,this.inHouseAndOutSource=null,this.totalNoOfRows=this.defectListDetails?.length,this.toastService.success("Record Added Successfully !")}}this.SNNumber()}SNNumber(){this.defectListDetails=this.defectListDetails?.map((e,i)=>(e.SN=i+1,e))}eventHeader(e){"PAGE"===e.key&&(this.page=e.value)}trackByFn(e,i){return i?._id}deleteItem(e){let i=this.defectListDetails.findIndex(s=>s.SN==e);"view"!=this.action&&(this.defectListDetails.splice(i,1),this.collection=this.defectListDetails.length,this.totalNoOfRows=this.totalNoOfRows-1,this.search="",this.page=1)}getInitialData(){this.spinner.show(),this.processListConfigService.getAll({}).subscribe(e=>{e.length>0&&(this.defectListDetails=e,this.collection=this.defectListDetails?.length),this.collection=this.defectListDetails?.length,this.totalNoOfRows=this.collection,this.spinner.hide()})}}return(n=r).\u0275fac=function(e){return new(e||n)(t.Y36(_.eP),t.Y36(p.V),t.Y36(p.kl),t.Y36(m.gz),t.Y36(p.V1))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-process-list-configuration-form"]],decls:64,vars:23,consts:[[1,"formCard","card"],[1,"set-remaining-margin"],[1,"row","form-header"],[1,"col","heading"],[1,"form-body","pt-0"],[1,"row","mb-0"],[1,"col-4","border","border-start-1","pt-4","pe-5"],[1,"row","pe-4","mt-4"],[1,"col-12","pe-0"],["type","text","placeholder","Add Process Name to list",1,"form-control",3,"ngModel","ngModelOptions","disabled","ngModelChange"],[1,"mt-4",3,"submit"],[1,"row","pe-4","mt-5"],[1,"col-11","pe-0"],[1,"form-select",3,"disabled","ngModel","ngModelOptions","ngModelChange"],["selected","","disabled","",3,"value"],["value","Inhouse"],["value","Outsource"],[1,"col-1","d-flex","align-items-end","ps-0"],["type","submit",1,"plusIconSvg","btn","btn-primary",2,"padding","1.4rem 1.4rem 1.4rem 1.4rem"],[1,"row","mt-5"],[1,"d-flex","align-items-center","pe-4"],[1,"text-nowrap","col-4","d-flex","align-items-center"],[1,"text-black",2,"font-size","1.3rem"],[1,"text-secondary","mx-2"],[1,"col-3","ps-4"],["type","number","readonly","",1,"form-control","bg-white-smoke","text-center",3,"ngModel","disabled","ngModelChange"],[1,"row","line-border","my-5",2,"margin-right","-3rem"],[1,"row","d-flex","justify-content-center","mb-3"],[1,"col-12","d-flex","justify-content-center"],["type","button",1,"btn","btn-primary","px-5","me-3",3,"click"],["type","button","class","btn btn-primary px-5 me-3",4,"ngIf"],["type","button","class","btn btn-primary px-4",4,"ngIf"],[1,"col-8","border","border-start-1"],[1,"row","px-5","mt-4"],[1,"row","justify-content-between"],[1,"col-4"],[1,"col-4","d-flex","justify-content-center"],[3,"collectionSize","page","pageSize","boundaryLinks","pageChange",4,"ngIf"],[1,"table-responsive",2,"min-height","36rem"],[1,"table","table-bordered","table-sticky","mb-0"],[1,"bg-primary"],[1,"text-white"],[1,"text-start"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-primary","px-5","me-3"],["type","button",1,"btn","btn-primary","px-4"],[3,"collectionSize","page","pageSize","boundaryLinks","pageChange"],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationPages",""],["src","./assets/new_icons/pagination_prev.svg","width","20rem"],["src","./assets/new_icons/pagination_next.svg","width","20rem"],["class","ngb-custom-pages-item align-self-center",4,"ngIf"],[1,"ngb-custom-pages-item","align-self-center"],[1,"page-label","me-2","ms-1"],["processName",""],[1,"pointer",3,"ngbTooltip","positionTarget"],[1,"dropdown"],[1,"dropbtn"],[1,"dropdown-content"],["href","javascript:void(0)",3,"click",4,"ngIf"],["href","javascript:void(0)",3,"click"],[1,"d-flex"],[1,"move-up-btn","set-action","me-3","pointer"],[1,"move-down-btn","set-action","me-3","pointer"],[1,"rename-btn","set-action","me-3","pointer"],[1,"delete-btn","set-action","me-3","pointer"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label"),t._uU(5," Process List Configuration "),t.qZA()()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"input",9),t.NdJ("ngModelChange",function(a){return i.description=a}),t.qZA()()(),t.TgZ(12,"form",10),t.NdJ("submit",function(){return i.addDescription()}),t.TgZ(13,"div",11)(14,"div",12)(15,"select",13),t.NdJ("ngModelChange",function(a){return i.inHouseAndOutSource=a}),t.TgZ(16,"option",14),t._uU(17,"Select & Add Source to List"),t.qZA(),t.TgZ(18,"option",15),t._uU(19,"Inhouse"),t.qZA(),t.TgZ(20,"option",16),t._uU(21,"Outsource"),t.qZA()()(),t.TgZ(22,"div",17),t._UZ(23,"button",18),t.qZA()()(),t.TgZ(24,"div",19)(25,"div",20)(26,"div",5)(27,"div",21)(28,"span",22),t._uU(29," Total No. of Rows "),t.qZA(),t.TgZ(30,"span",23),t._uU(31,"\u25b6"),t.qZA()(),t.TgZ(32,"div",24)(33,"input",25),t.NdJ("ngModelChange",function(a){return i.totalNoOfRows=a}),t.qZA()()()()(),t._UZ(34,"hr",26),t.TgZ(35,"div",27)(36,"div",28)(37,"button",29),t.NdJ("click",function(){return i.submit()}),t._uU(38,"Save"),t.qZA(),t.YNc(39,v,2,0,"button",30),t.YNc(40,C,2,0,"button",31),t.qZA()()(),t.TgZ(41,"div",32)(42,"div",33)(43,"div",34),t._UZ(44,"div",35),t.TgZ(45,"div",36),t.YNc(46,S,4,4,"ngb-pagination",37),t.qZA(),t._UZ(47,"div",35),t.qZA(),t.TgZ(48,"div",38)(49,"table",39)(50,"thead",40)(51,"tr",41)(52,"th"),t._uU(53,"SN"),t.qZA(),t.TgZ(54,"th",42),t._uU(55,"Process Name"),t.qZA(),t.TgZ(56,"th"),t._uU(57,"Source"),t.qZA(),t.TgZ(58,"th"),t._uU(59,"Action"),t.qZA()()(),t.TgZ(60,"tbody"),t.YNc(61,D,23,13,"tr",43),t.ALo(62,"slice"),t.ALo(63,"searchFi1ter"),t.qZA()()()()()()()()()),2&e&&(t.xp6(11),t.Q6J("ngModel",i.description)("ngModelOptions",t.DdM(21,f))("disabled",i.user!=i.superAdminId),t.xp6(4),t.Q6J("disabled",i.user!=i.superAdminId)("ngModel",i.inHouseAndOutSource)("ngModelOptions",t.DdM(22,f)),t.xp6(1),t.Q6J("value",null),t.xp6(17),t.Q6J("ngModel",i.totalNoOfRows)("disabled","view"==i.action),t.xp6(6),t.Q6J("ngIf",i.user==i.superAdminId),t.xp6(1),t.Q6J("ngIf",i.user==i.superAdminId),t.xp6(6),t.Q6J("ngIf",i.defectListDetails.length>0),t.xp6(15),t.Q6J("ngForOf",t.Dn7(62,14,t.xi3(63,18,i.defectListDetails,i.search),(i.page-1)*i.pageSize,(i.page-1)*i.pageSize+i.pageSize))("ngForTrackBy",i.trackByFn))},dependencies:[g.sg,g.O5,d.N9,d.GZ,d.ju,d.Qy,d._L,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.On,l.F,g.OU,b.G],styles:[".pagination[_ngcontent-%COMP%]{margin-bottom:0!important}ngb-pagination[_ngcontent-%COMP%]     ul.pagination{margin:0!important}.page-label[_ngcontent-%COMP%]{color:var(--bs-dark);padding:0 1rem;font-size:1.4rem}ngb-pagination[_ngcontent-%COMP%]     ul>li:not(.active)>a{border:none!important;color:var(--bs-white)!important;background-color:#fff!important;box-shadow:none}.fa[_ngcontent-%COMP%]{font-size:1.6rem!important}.set-input-group-text[_ngcontent-%COMP%]{border-radius:0!important;height:2.8rem!important;width:3rem}.set-action[_ngcontent-%COMP%]{margin-top:.6rem}"]}),r})();var x=c(56208);const y=[{path:"form",component:P}];let F=(()=>{var n;class r{}return(n=r).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.ez,m.Bz.forChild(y),x.m]}),r})()}}]);