<div class="grnPrint">
    <div class="row m-0 justify-content-center">
        <div class="col-11 text-end mt-2 px-0">
            <div *ngIf="buttonCondition == 'true'" id="btnDisplay">
                <button class="btn btn-primary" type="button" (click)="windowPrint()" *ngIf="pdfAction != 'pdf'">
                    <img src="./assets/images/print.png" width="20px" height="14px" class="mb-2" />&nbsp;&nbsp; Print
                </button>
            </div>
        </div>
    </div>
    <div class="row tablePage m-0">
        <div class="col-11 table-body pb-0">
            <Form [formGroup]="form">
                <div class="row table-header">
                    <div class="col heading">
                        <label class="ms-4">Goods Inward Note [GIN] </label>
                    </div>
                </div>
                <div class="row my-4">
                    <div class="col-4 pe-3">
                        <div class="row">
                            <div class="col-6 pe-4">
                                <label class="form-label"> GIN Date<span class="text-danger"></span> </label>
                                <input
                                    class="form-control"
                                    id="applicationDate"
                                    type="date"
                                    formControlName="GINDate"
                                    readonly
                                />
                            </div>
                            <div class="col-6 ps-0">
                                <label class="form-label"> Select MRN<span class="text-danger">*</span> </label>

                                <input class="form-control" type="text" formControlName="MRNNumber" readonly />
                            </div>
                        </div>
                    </div>

                    <div class="col-4">
                        <div class="row">
                            <div class="col-5 ps-2">
                                <label class="form-label"> MRN Date<span class="text-danger"></span> </label>
                                <input class="form-control" formControlName="MRNDate" type="date" readonly />
                            </div>
                            <div class="col-7 ps-0">
                                <label class="form-label"> Supplier Name<span class="text-danger"></span></label>

                                <input class="form-control" type="text" formControlName="supplier" readonly />
                            </div>
                        </div>
                    </div>

                    <div class="col-4">
                        <div class="row">
                            <div class="col-6 px-0">
                                <label class="form-label"> Purchase Category<span class="text-danger"></span> </label>
                                <input class="form-control" type="text" formControlName="purchaseCategory" readonly />
                            </div>
                            <div class="col-6 ps-4">
                                <label class="form-label"> Currency<span class="text-danger"></span> </label>
                                <input class="form-control" type="text" formControlName="currency" readonly />
                            </div>
                        </div>
                    </div>
                </div>

                <hr class="row line-border" />
                <div class="table-responsive mx-0" style="min-height: 28rem">
                    <table class="table table-bordered table-sticky">
                        <thead class="bg-primary">
                            <tr class="text-white">
                                <th sortable="GINLineNumber" (sort)="onSort($event)">#</th>
                                <th sortable="itemCode" (sort)="onSort($event)">Item Code</th>
                                <th class="text-start" sortable="itemName" (sort)="onSort($event)">Item Name</th>
                                <th sortable="batchDate" (sort)="onSort($event)">Batch Date</th>
                                <th sortable="UOM" (sort)="onSort($event)">UoM</th>
                                <th sortable="GINQty" (sort)="onSort($event)">GIN Qty</th>
                                <th sortable="purchaseRatINR" (sort)="onSort($event)">
                                    Purchase Rate [{{ "INR" | companyCurrency }}]
                                </th>
                                <th sortable="lineValueINR" (sort)="onSort($event)">
                                    Line Value [{{ "INR" | companyCurrency }}]
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr
                                *ngFor="
                                    let u of GINDetailsArr
                                        | searchFi1ter : search
                                        | slice : (page - 1) * pageSize : (page - 1) * pageSize + pageSize;
                                    trackBy: trackByFn
                                "
                            >
                                <td>{{ u?.GINLineNumber }}</td>
                                <td>{{ u?.itemCode }}</td>
                                <td class="text-start" [style.width]="itemName.clientWidth" #itemName>
                                    <span class="pointer" [positionTarget]="itemName" [ngbTooltip]="u.itemName">
                                        {{ u?.itemName }}
                                    </span>
                                </td>
                                <td>{{ u?.batchDate | date : "dd-MM-YYYY" }}</td>
                                <td>{{ u?.UOM }}</td>
                                <td>{{ u.GINQty }}</td>
                                <td>{{ u?.purchaseRatINR | number : "1.2-2" }}</td>
                                <td>{{ u?.lineValueINR | number : "1.2-2" }}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <hr class="row line-border" />
                <div formGroupName="storageLocationMapping" class="row mb-4">
                    <div class="col-5">
                        <div class="row">
                            <div class="col-6">
                                <label class="form-label"> sub-Location <span class="text-danger"></span> </label>
                                <input
                                    class="form-control"
                                    id="applicationDate"
                                    type="text"
                                    formControlName="subLocation"
                                    readonly
                                />
                            </div>
                            <div class="col-6">
                                <label class="form-label"> Row No. <span class="text-danger"></span> </label>
                                <input
                                    class="form-control"
                                    id="applicationDate"
                                    type="text"
                                    formControlName="rowNo"
                                    readonly
                                />
                            </div>
                        </div>
                    </div>
                    <div class="col-7">
                        <div class="row">
                            <div class="col-4">
                                <label class="form-label"> Rack No. <span class="text-danger"></span> </label>
                                <input
                                    class="form-control"
                                    id="applicationDate"
                                    type="text"
                                    formControlName="rackNo"
                                    readonly
                                />
                            </div>
                            <div class="col-4">
                                <label class="form-label">Bin No. <span class="text-danger"></span> </label>
                                <input
                                    class="form-control"
                                    id="applicationDate"
                                    type="text"
                                    formControlName="binNo"
                                    readonly
                                />
                            </div>
                            <div class="col-4">
                                <label class="form-label"> Other ID <span class="text-danger"></span> </label>
                                <input
                                    class="form-control"
                                    id="applicationDate"
                                    type="text"
                                    formControlName="otherId"
                                    readonly
                                />
                            </div>
                        </div>
                    </div>
                </div>
                <hr class="row line-border" />
                <div class="row my-3">
                    <div class="col-4">
                        <div class="d-flex justify-content-start">
                            <div class="col-form-label text-nowrap pt-0">
                                <button type="button" class="btn btn-secondary gin-location-btn-sm py-1">
                                    {{ "Delivery Location" | labelTranslate }}
                                </button>
                            </div>
                            <input type="text" class="form-control" formControlName="deliveryLocation" readonly />
                        </div>
                    </div>
                </div>
            </Form>
        </div>
    </div>
</div>
