<form [formGroup]="form" class="formCard card">
    <div class="set-remaining-margin">
        <div class="row form-header">
            <div class="col heading">
                <label> Process Master ({{ this.action | titlecase }})</label>
            </div>
        </div>
        <div class="form-body">
            <div class="row mb-2">
                <div class="col-6 pe-0">
                    <div class="row">
                        <div class="col-2 pe-0">
                            <label class="form-label"> Process ID </label>
                            <input class="form-control" type="text" formControlName="processId" readonly />
                        </div>
                        <div class="col-6 ps-5 pe-4">
                            <label class="form-label"> Process Name <span class="text-danger">*</span> </label>
                            <input class="form-control" type="text" formControlName="processName" />
                        </div>
                        <div class="col-4 ps-4 pe-2">
                            <label class="form-label"> Source <span class="text-danger">*</span> </label>
                            <ng-select
                                [items]="sourceOfMfg"
                                bindLabel="sourceOfMfg"
                                bindValue="sourceOfMfg"
                                formControlName="sourceOfManufacturing"
                                [clearable]="false"
                                (change)="setSourceOfManufacturing()"
                            >
                            </ng-select>
                        </div>
                    </div>
                </div>

                <div class="col-6 ps-5">
                    <div class="row">
                        <div class="col-7 ps-5">
                            <label class="form-label">
                                Primary Assets/Allocation<span class="text-danger"></span>
                            </label>
                            <div class="d-flex align-items-center">
                                <div class="col-11">
                                    <input
                                        class="form-control"
                                        type="text"
                                        formControlName="primaryAssetAllocation"
                                        readonly
                                    />
                                </div>
                                <div
                                    style="height: 2.9rem"
                                    class="input-group-text bg-primary pointer fs-4 col-auto"
                                    id="basic-addon1"
                                    (click)="openAssetAllocationModal()"
                                >
                                    <i class="fa fa-search text-white" aria-hidden="true"></i>
                                </div>
                            </div>
                        </div>
                        <div class="col-5">
                            <label class="form-label"> Std.Process Output/Hr <span class="text-danger"></span> </label>
                            <div class="d-flex">
                                <span class="input-group-text combine-INR bg-white">
                                    AU
                                    <div class="vr ms-3 text-secondary"></div>
                                </span>
                                <input
                                    class="form-control border-start-0"
                                    type="number"
                                    formControlName="unitProcessOutput"
                                />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mb-0">
                <div class="mt-3 line-border-with-title">
                    <span class="px-3"> Labour Allocation </span>
                </div>
            </div>

            <div class="row mt-4">
                <div class="col-3">
                    <div class="row">
                        <div class="col-7 pe-0">
                            <label class="form-label">
                                Skilled Labour
                                <span class="text-danger">*</span>
                            </label>
                            <input
                                (input)="setTotalLabourHeadCount()"
                                class="form-control"
                                type="number"
                                formControlName="allocationOfSkilledLabour"
                            />
                        </div>
                        <div class="col-5 ps-2 pe-0">
                            <label class="form-label">
                                Rate / Hr
                                <span class="text-danger"></span>
                            </label>
                            <div class="d-flex">
                                <span class="input-group-text text-secondary combine-INR bg-gray-color">
                                    {{ "INR" | companyCurrency }}
                                    <div class="vr ms-3"></div>
                                </span>
                                <input
                                    (input)="setTotalLabourHeadCount()"
                                    class="form-control ps-0 border-start-0 bg-gray-color"
                                    type="text"
                                    formControlName="skilledRatePerHr"
                                    readonly
                                />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-3">
                    <div class="row">
                        <div class="col-7 pe-0">
                            <label class="form-label">
                                Semi-Skilled Labour
                                <span class="text-danger">*</span>
                            </label>
                            <input
                                (input)="setTotalLabourHeadCount()"
                                class="form-control"
                                type="number"
                                formControlName="allocationOfSemiSkilledLabour"
                            />
                        </div>
                        <div class="col-5 ps-2 pe-0">
                            <label class="form-label">
                                Rate / Hr
                                <span class="text-danger"></span>
                            </label>
                            <div class="d-flex">
                                <span class="input-group-text text-secondary combine-INR bg-gray-color">
                                    {{ "INR" | companyCurrency }}
                                    <div class="vr ms-3"></div>
                                </span>
                                <input
                                    (input)="setTotalLabourHeadCount()"
                                    class="form-control ps-0 border-start-0 bg-gray-color"
                                    type="text"
                                    formControlName="semiSkilledRatePerHr"
                                    readonly
                                />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-3">
                    <div class="row">
                        <div class="col-7 pe-0">
                            <label class="form-label">
                                Un-Skilled Labour
                                <span class="text-danger">*</span>
                            </label>
                            <input
                                (input)="setTotalLabourHeadCount()"
                                class="form-control"
                                type="number"
                                formControlName="allocationOfUnSkilledLabour"
                            />
                        </div>
                        <div class="col-5 ps-2 pe-0">
                            <label class="form-label">
                                Rate / Hr
                                <span class="text-danger"></span>
                            </label>
                            <div class="d-flex">
                                <span class="input-group-text text-secondary combine-INR bg-gray-color">
                                    {{ "INR" | companyCurrency }}
                                    <div class="vr ms-3"></div>
                                </span>
                                <input
                                    (input)="setTotalLabourHeadCount()"
                                    class="form-control ps-0 border-start-0 bg-gray-color"
                                    type="text"
                                    formControlName="unSkilledRatePerHr"
                                    readonly
                                />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-3">
                    <div class="row">
                        <div class="col-7 pe-2">
                            <label class="form-label">
                                Total Labour Count
                                <span class="text-danger">*</span>
                            </label>
                            <input
                                (input)="setTotalLabourHeadCount()"
                                class="form-control bg-mix-pink-color"
                                type="number"
                                formControlName="totalLabourHeadCount"
                                readonly
                            />
                        </div>
                        <div class="col-5 ps-0">
                            <label class="form-label">
                                Total Rate / Hr
                                <span class="text-danger"></span>
                            </label>
                            <div class="d-flex">
                                <span class="input-group-text text-secondary combine-INR bg-mix-pink-color">
                                    {{ "INR" | companyCurrency }}
                                    <div class="vr ms-3"></div>
                                </span>
                                <input
                                    (input)="setTotalLabourHeadCount()"
                                    class="form-control ps-0 border-start-0 bg-mix-pink-color"
                                    type="text"
                                    formControlName="totalRatePerHr"
                                    readonly
                                />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <hr class="row line-border" />
        <div class="row py-3">
            <div class="col-3">
                <div class="d-flex align-items-center">
                    <span class="set-flex-status px-4"> Status </span>
                    <select class="form-select statusSelectBorder" formControlName="status">
                        <option [value]="'null'" selected disabled>Select Status</option>
                        <option [value]="'Active'">Active</option>
                        <option [value]="'Inactive'">Inactive</option>
                    </select>
                    <span class="input-group-text statusSpanHeight">
                        <div class="statusActive" *ngIf="form.value['status'] == 'Active'" class="statusActive"></div>
                        <div class="statusInActive" *ngIf="form.value['status'] == 'Inactive'"></div>
                    </span>
                </div>
            </div>
            <div *ngIf="action !== 'view'" class="col-9 text-end">
                <button class="btn btn-primary px-5 me-5" type="button" (click)="reset()">Reset</button>
                <button class="btn btn-primary px-5" type="button" (click)="submit()">Save</button>
            </div>
        </div>
    </div>
</form>
