<Form class="px-2" [formGroup]="form" class="formCard card">
    <div class="set-remaining-margin">
        <div class="row form-header">
            <div class="col heading">
                <label class="">Finished Goods Inward (Entry)</label>
            </div>
        </div>
        <div class="form-body">
            <div class="row">
                <div class="col-3">
                    <label class="form-label"> GIN Date<span class="text-danger">*</span> </label>
                    <input class="form-control" id="applicationDate" type="date" formControlName="GINDate" readonly />
                </div>
                <div class="col-3">
                    <label class="form-label"> T/MRN No.<span class="text-danger">*</span> </label>
                    <input class="form-control" type="text" formControlName="GINDate" readonly />
                </div>
                <div class="col-3">
                    <label class="form-label"> T/MRN Date<span class="text-danger">*</span> </label>
                    <input class="form-control" id="applicationDate" formControlName="MRNDate" type="date" />
                </div>
                <div class="col-3">
                    <label class="form-label"> Location<span class="text-danger">*</span> </label>

                    <select class="form-select" (change)="setMRN($event)" formControlName="MRNNumber" readonly>
                        <option *ngFor="let g of MRNListArr" [value]="g._id">
                            {{ g.MRNNumber }}
                        </option>
                    </select>
                </div>
            </div>
        </div>

        <hr class="row line-border" />

        <div class="row justify-content-center">
            <div class="col-12">
                <app-setting-header
                    [data]="{page,pageSize,collection,search, excelDisplay : 'none'}"
                    (dataChange)="eventHeader($event)"
                >
                </app-setting-header>
                <div class="table-responsive" style="min-height: 21rem">
                    <table class="table table-bordered table-sticky">
                        <thead class="bg-primary">
                            <tr class="text-white">
                                <th sortable="itemCode" (sort)="onSort($event)">Item Code</th>
                                <th class="text-start" sortable="itemName" (sort)="onSort($event)">Item Name</th>
                                <th class="text-start" sortable="itemName" (sort)="onSort($event)">Item Description</th>
                                <th sortable="batchDate" (sort)="onSort($event)">Unit Conversion</th>
                                <th sortable="UOM" (sort)="onSort($event)">UoM</th>
                                <th sortable="GINQty" (sort)="onSort($event)">Inward Qty</th>
                                <th sortable="GINQty" (sort)="onSort($event)">Batch Date</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr
                                *ngFor="
                                    let u of GINDetailsArr
                                        | searchFi1ter : search
                                        | slice : (page - 1) * pageSize : (page - 1) * pageSize + pageSize;
                                    trackBy: trackByFn
                                "
                            >
                                <td>{{ u?.itemCode }}</td>
                                <td class="text-start" [style.width]="itemName.clientWidth" #itemName>
                                    <span class="pointer" [positionTarget]="itemName" [ngbTooltip]="u.itemName">
                                        {{ u?.itemName }}
                                    </span>
                                </td>
                                <td class="text-start" [style.width]="itemDescription.clientWidth" #itemDescription>
                                    <span
                                        class="pointer"
                                        [positionTarget]="itemDescription"
                                        [ngbTooltip]="u.itemDescription"
                                    >
                                        {{ u?.itemDescription }}
                                    </span>
                                </td>
                                <td>{{ u?.batchDate | date : "dd-MM-YYYY" }}</td>
                                <td>{{ u?.UOM | UOMUnitsMaster }}</td>
                                <td>
                                    <div class="d-flex justify-content-center">
                                        <input
                                            class="form-control form-control-sm w-25"
                                            type="number"
                                            [(ngModel)]="u.GINQty"
                                            [ngModelOptions]="{standalone: true}"
                                        />
                                    </div>
                                </td>
                                <td>
                                    <div class="d-flex justify-content-center">
                                        <input
                                            class="form-control form-control-sm w-25"
                                            type="number"
                                            [(ngModel)]="u.GINQty"
                                            [ngModelOptions]="{standalone: true}"
                                        />
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <hr class="row line-border" />

        <div class="col-md-auto ms-auto d-flex justify-content-center mb-3">
            <button type="button" class="btn bg-primary px-5 me-3" (click)="reset()">Reset</button>
            <button type="button" class="btn btn-primary px-4 me-1" (click)="ESCPreview()">Esc</button>
            <button type="button" class="btn bg-primary px-5 me-3" (click)="preview()">Preview</button>
            <button type="button" [disabled]="!isPreview" class="btn bg-primary px-5" (click)="submit()">Save</button>
        </div>
    </div>
</Form>
