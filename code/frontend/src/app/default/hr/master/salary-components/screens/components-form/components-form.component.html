<form [formGroup]="form" class="formCard card">
    <div class="set-remaining-margin">
        <div class="row form-header">
            <div class="col heading">
                <label>Salary Components [{{ this.action | titlecase }}]</label>
            </div>
        </div>
        <div class="form-body">
            <div class="row mb-1">
                <div class="col-md-8">
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <label class="form-label my-2">
                                Earning Head
                                <span class="text-danger">*</span>
                            </label>
                            <select
                                class="form-select"
                                formControlName="earningHead"
                                (change)="selectEarningHead($event)"
                            >
                                <option [value]="null" disabled selected>Select Earning Head</option>
                                <option [value]="u.parameterName" *ngFor="let u of masterData.earningHeadOptions">
                                    {{ u.parameterLabel }}
                                </option>
                            </select>

                            <validation-messages class="error-left" [control]="f['earningHead']"> </validation-messages>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label my-2">
                                Abbreviation
                                <span class="text-danger">*</span>
                            </label>
                            <input type="text" class="form-control" formControlName="abbreviation" readonly />
                            <validation-messages class="error-left" [control]="f['abbreviation']">
                            </validation-messages>
                        </div>
                    </div>
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <label class="form-label my-2">
                                Earning Type
                                <span class="text-danger">*</span>
                            </label>

                            <select
                                type="text"
                                class="form-select"
                                formControlName="earningType"
                                (change)="setEarningType($event)"
                            >
                                <option [value]="null" disabled selected>Select Earning Type</option>
                                <option [value]="'Fixed Amount'">Fixed Amount</option>
                                <option [value]="'Variable Amount'">Variable Amount</option>
                                <option [value]="'Percentage Of Basic'">Percentage of Basic</option>
                                <option [value]="'Percentage Of CTC'">Percentage of CTC</option>
                            </select>

                            <validation-messages class="error-left" [control]="f['earningType']"> </validation-messages>
                        </div>

                        <div class="col-md-6">
                            <label class="form-label my-2">
                                Set percentage % rate
                                <span class="text-danger">*</span>
                            </label>
                            <div class="d-flex inputGroup">
                                <input
                                    class="form-control"
                                    type="text"
                                    name="calculationFactor"
                                    formControlName="calculationFactor"
                                />
                                <span class="input-group-text rounded-0 bg-secondary text-white"> % </span>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <label class="form-label my-2">
                                Earning Cycle
                                <span class="text-danger">*</span>
                            </label>
                            <select type="text" class="form-select" formControlName="earningCycle">
                                <option [value]="null" disabled selected>Select Earning Cycle</option>
                                <option [value]="'Every Month'">Monthly</option>
                                <option [value]="'During any payroll'">During any Payroll</option>
                            </select>
                            <validation-messages class="error-left" [control]="f['earningCycle']">
                            </validation-messages>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label my-2">
                                Status
                                <span class="text-danger">*</span>
                            </label>
                            <select class="form-select" formControlName="status">
                                <option [value]="null" disabled selected>Select Status</option>
                                <option value="Active">Active</option>
                                <option value="Inactive">Inactive</option>
                            </select>
                            <validation-messages class="error-left" [control]="f['status']"> </validation-messages>
                        </div>
                    </div>
                </div>

                <div class="col-md-4 mt-3">
                    <h4 class="text-primary mb-4">Check if applicable</h4>

                    <div class="form-check mb-4 d-flex">
                        <input
                            class="form-check-input me-3"
                            type="checkbox"
                            id="check1"
                            formControlName="isManagementStaffSalary"
                            check
                        />
                        <label class="form-check-label">Consider for Management Staff Salary</label>
                    </div>
                    <div class="form-check mb-4 d-flex">
                        <input
                            class="form-check-input me-3"
                            type="checkbox"
                            id="check1"
                            formControlName="isOperatingStaffSalary"
                            check
                        />
                        <label class="form-check-label">Consider for Operating Staff (Labour) Salary</label>
                    </div>
                    <div class="form-check mb-4 d-flex">
                        <input
                            class="form-check-input me-3"
                            type="checkbox"
                            id="check1"
                            formControlName="isPartOfCTC"
                            check
                        />
                        <label class="form-check-label">Make this earning Part of CTC</label>
                    </div>
                    <div class="form-check mb-4 d-flex">
                        <input
                            class="form-check-input text-nowrap me-3"
                            type="checkbox"
                            id="check1"
                            formControlName="isCalculateOnProRataBasis"
                            check
                        />
                        <label class="form-check-label">Make this earning on Pro-rata basis</label>
                    </div>
                </div>
            </div>
        </div>
        <hr *ngIf="action !== 'view'" class="row line-border" />
        <div *ngIf="action !== 'view'" class="d-flex justify-content-center my-4">
            <div class="d-grid col-md-2" [ngClass]="{'d-none': action == 'View'}">
                <button class="btn btn-primary" (click)="submit()">Save</button>
            </div>
        </div>
    </div>
</form>
